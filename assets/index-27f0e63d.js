function vE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function yE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zy={exports:{}},Xl={},Wy={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ks=Symbol.for("react.element"),bE=Symbol.for("react.portal"),wE=Symbol.for("react.fragment"),xE=Symbol.for("react.strict_mode"),kE=Symbol.for("react.profiler"),EE=Symbol.for("react.provider"),SE=Symbol.for("react.context"),CE=Symbol.for("react.forward_ref"),TE=Symbol.for("react.suspense"),_E=Symbol.for("react.memo"),IE=Symbol.for("react.lazy"),pm=Symbol.iterator;function PE(t){return t===null||typeof t!="object"?null:(t=pm&&t[pm]||t["@@iterator"],typeof t=="function"?t:null)}var Ky={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qy=Object.assign,Gy={};function Yo(t,e,n){this.props=t,this.context=e,this.refs=Gy,this.updater=n||Ky}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yy(){}Yy.prototype=Yo.prototype;function Oh(t,e,n){this.props=t,this.context=e,this.refs=Gy,this.updater=n||Ky}var Rh=Oh.prototype=new Yy;Rh.constructor=Oh;qy(Rh,Yo.prototype);Rh.isPureReactComponent=!0;var mm=Array.isArray,Xy=Object.prototype.hasOwnProperty,Mh={current:null},Jy={key:!0,ref:!0,__self:!0,__source:!0};function Qy(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)Xy.call(e,r)&&!Jy.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:ks,type:t,key:i,ref:s,props:o,_owner:Mh.current}}function AE(t,e){return{$$typeof:ks,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ks}function NE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gm=/\/+/g;function Vc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NE(""+t.key):e.toString(36)}function ga(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ks:case bE:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+Vc(s,0):r,mm(o)?(n="",t!=null&&(n=t.replace(gm,"$&/")+"/"),ga(o,e,n,"",function(c){return c})):o!=null&&(jh(o)&&(o=AE(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(gm,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",mm(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Vc(i,a);s+=ga(i,e,n,l,o)}else if(l=PE(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Vc(i,a++),s+=ga(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ws(t,e,n){if(t==null)return t;var r=[],o=0;return ga(t,r,"","",function(i){return e.call(n,i,o++)}),r}function BE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ye={current:null},va={transition:null},LE={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:va,ReactCurrentOwner:Mh};function Zy(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Ws,forEach:function(t,e,n){Ws(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ws(t,function(){e++}),e},toArray:function(t){return Ws(t,function(e){return e})||[]},only:function(t){if(!jh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Yo;G.Fragment=wE;G.Profiler=kE;G.PureComponent=Oh;G.StrictMode=xE;G.Suspense=TE;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LE;G.act=Zy;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qy({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Mh.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Xy.call(e,l)&&!Jy.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ks,type:t.type,key:o,ref:i,props:r,_owner:s}};G.createContext=function(t){return t={$$typeof:SE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EE,_context:t},t.Consumer=t};G.createElement=Qy;G.createFactory=function(t){var e=Qy.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:CE,render:t}};G.isValidElement=jh;G.lazy=function(t){return{$$typeof:IE,_payload:{_status:-1,_result:t},_init:BE}};G.memo=function(t,e){return{$$typeof:_E,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=va.transition;va.transition={};try{t()}finally{va.transition=e}};G.unstable_act=Zy;G.useCallback=function(t,e){return Ye.current.useCallback(t,e)};G.useContext=function(t){return Ye.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Ye.current.useDeferredValue(t)};G.useEffect=function(t,e){return Ye.current.useEffect(t,e)};G.useId=function(){return Ye.current.useId()};G.useImperativeHandle=function(t,e,n){return Ye.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return Ye.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Ye.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Ye.current.useMemo(t,e)};G.useReducer=function(t,e,n){return Ye.current.useReducer(t,e,n)};G.useRef=function(t){return Ye.current.useRef(t)};G.useState=function(t){return Ye.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return Ye.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return Ye.current.useTransition()};G.version="18.3.1";Wy.exports=G;var k=Wy.exports;const Dh=yE(k),OE=vE({__proto__:null,default:Dh},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE=k,ME=Symbol.for("react.element"),jE=Symbol.for("react.fragment"),DE=Object.prototype.hasOwnProperty,FE=RE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$E={key:!0,ref:!0,__self:!0,__source:!0};function e0(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)DE.call(e,r)&&!$E.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:ME,type:t,key:i,ref:s,props:o,_owner:FE.current}}Xl.Fragment=jE;Xl.jsx=e0;Xl.jsxs=e0;zy.exports=Xl;var f=zy.exports,qu={},t0={exports:{}},pt={},n0={exports:{}},r0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,D){var H=B.length;B.push(D);e:for(;0<H;){var F=H-1>>>1,Q=B[F];if(0<o(Q,D))B[F]=D,B[H]=Q,H=F;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var D=B[0],H=B.pop();if(H!==D){B[0]=H;e:for(var F=0,Q=B.length,gr=Q>>>1;F<gr;){var jt=2*(F+1)-1,Qr=B[jt],rt=jt+1,vr=B[rt];if(0>o(Qr,H))rt<Q&&0>o(vr,Qr)?(B[F]=vr,B[rt]=H,F=rt):(B[F]=Qr,B[jt]=H,F=jt);else if(rt<Q&&0>o(vr,H))B[F]=vr,B[rt]=H,F=rt;else break e}}return D}function o(B,D){var H=B.sortIndex-D.sortIndex;return H!==0?H:B.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,u=null,h=3,g=!1,p=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(B){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=B)r(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(c)}}function x(B){if(m=!1,y(B),!p)if(n(l)!==null)p=!0,q(E);else{var D=n(c);D!==null&&ke(x,D.startTime-B)}}function E(B,D){p=!1,m&&(m=!1,b(S),S=-1),g=!0;var H=h;try{for(y(D),u=n(l);u!==null&&(!(u.expirationTime>D)||B&&!O());){var F=u.callback;if(typeof F=="function"){u.callback=null,h=u.priorityLevel;var Q=F(u.expirationTime<=D);D=t.unstable_now(),typeof Q=="function"?u.callback=Q:u===n(l)&&r(l),y(D)}else r(l);u=n(l)}if(u!==null)var gr=!0;else{var jt=n(c);jt!==null&&ke(x,jt.startTime-D),gr=!1}return gr}finally{u=null,h=H,g=!1}}var C=!1,_=null,S=-1,T=5,P=-1;function O(){return!(t.unstable_now()-P<T)}function L(){if(_!==null){var B=t.unstable_now();P=B;var D=!0;try{D=_(!0,B)}finally{D?R():(C=!1,_=null)}}else C=!1}var R;if(typeof v=="function")R=function(){v(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,U=j.port2;j.port1.onmessage=L,R=function(){U.postMessage(null)}}else R=function(){w(L,0)};function q(B){_=B,C||(C=!0,R())}function ke(B,D){S=w(function(){B(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,q(E))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var H=h;h=D;try{return B()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,D){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=h;h=B;try{return D()}finally{h=H}},t.unstable_scheduleCallback=function(B,D,H){var F=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?F+H:F):H=F,B){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,B={id:d++,callback:D,priorityLevel:B,startTime:H,expirationTime:Q,sortIndex:-1},H>F?(B.sortIndex=H,e(c,B),n(l)===null&&B===n(c)&&(m?(b(S),S=-1):m=!0,ke(x,H-F))):(B.sortIndex=Q,e(l,B),p||g||(p=!0,q(E))),B},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(B){var D=h;return function(){var H=h;h=D;try{return B.apply(this,arguments)}finally{h=H}}}})(r0);n0.exports=r0;var UE=n0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE=k,ht=UE;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o0=new Set,Gi={};function Wr(t,e){Oo(t,e),Oo(t+"Capture",e)}function Oo(t,e){for(Gi[t]=e,t=0;t<e.length;t++)o0.add(e[t])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gu=Object.prototype.hasOwnProperty,HE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vm={},ym={};function zE(t){return Gu.call(ym,t)?!0:Gu.call(vm,t)?!1:HE.test(t)?ym[t]=!0:(vm[t]=!0,!1)}function WE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KE(t,e,n,r){if(e===null||typeof e>"u"||WE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xe(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Me[t]=new Xe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Me[e]=new Xe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Me[t]=new Xe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Me[t]=new Xe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Me[t]=new Xe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Me[t]=new Xe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Me[t]=new Xe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Me[t]=new Xe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Me[t]=new Xe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fh=/[\-:]([a-z])/g;function $h(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fh,$h);Me[e]=new Xe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fh,$h);Me[e]=new Xe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fh,$h);Me[e]=new Xe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Me[t]=new Xe(t,1,!1,t.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Me[t]=new Xe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Uh(t,e,n,r){var o=Me.hasOwnProperty(e)?Me[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KE(e,n,o,r)&&(n=null),r||o===null?zE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cn=VE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ks=Symbol.for("react.element"),io=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),Vh=Symbol.for("react.strict_mode"),Yu=Symbol.for("react.profiler"),i0=Symbol.for("react.provider"),s0=Symbol.for("react.context"),Hh=Symbol.for("react.forward_ref"),Xu=Symbol.for("react.suspense"),Ju=Symbol.for("react.suspense_list"),zh=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),a0=Symbol.for("react.offscreen"),bm=Symbol.iterator;function ci(t){return t===null||typeof t!="object"?null:(t=bm&&t[bm]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,Hc;function Si(t){if(Hc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hc=e&&e[1]||""}return`
`+Hc+t}var zc=!1;function Wc(t,e){if(!t||zc)return"";zc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{zc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Si(t):""}function qE(t){switch(t.tag){case 5:return Si(t.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 2:case 15:return t=Wc(t.type,!1),t;case 11:return t=Wc(t.type.render,!1),t;case 1:return t=Wc(t.type,!0),t;default:return""}}function Qu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case so:return"Fragment";case io:return"Portal";case Yu:return"Profiler";case Vh:return"StrictMode";case Xu:return"Suspense";case Ju:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case s0:return(t.displayName||"Context")+".Consumer";case i0:return(t._context.displayName||"Context")+".Provider";case Hh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zh:return e=t.displayName||null,e!==null?e:Qu(t.type)||"Memo";case Ln:e=t._payload,t=t._init;try{return Qu(t(e))}catch{}}return null}function GE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qu(e);case 8:return e===Vh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function l0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YE(t){var e=l0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qs(t){t._valueTracker||(t._valueTracker=YE(t))}function c0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=l0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ga(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zu(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=or(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function u0(t,e){e=e.checked,e!=null&&Uh(t,"checked",e,!1)}function ed(t,e){u0(t,e);var n=or(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?td(t,e.type,n):e.hasOwnProperty("defaultValue")&&td(t,e.type,or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function td(t,e,n){(e!=="number"||Ga(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ci=Array.isArray;function Eo(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+or(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function nd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function km(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(Ci(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:or(n)}}function d0(t,e){var n=or(e.value),r=or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Em(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function h0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?h0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gs,f0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gs=Gs||document.createElement("div"),Gs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XE=["Webkit","ms","Moz","O"];Object.keys(Li).forEach(function(t){XE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Li[e]=Li[t]})});function p0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Li.hasOwnProperty(t)&&Li[t]?(""+e).trim():e+"px"}function m0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=p0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var JE=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function od(t,e){if(e){if(JE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function id(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=null;function Wh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ad=null,So=null,Co=null;function Sm(t){if(t=Cs(t)){if(typeof ad!="function")throw Error(N(280));var e=t.stateNode;e&&(e=tc(e),ad(t.stateNode,t.type,e))}}function g0(t){So?Co?Co.push(t):Co=[t]:So=t}function v0(){if(So){var t=So,e=Co;if(Co=So=null,Sm(t),e)for(t=0;t<e.length;t++)Sm(e[t])}}function y0(t,e){return t(e)}function b0(){}var Kc=!1;function w0(t,e,n){if(Kc)return t(e,n);Kc=!0;try{return y0(t,e,n)}finally{Kc=!1,(So!==null||Co!==null)&&(b0(),v0())}}function Xi(t,e){var n=t.stateNode;if(n===null)return null;var r=tc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var ld=!1;if(gn)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){ld=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{ld=!1}function QE(t,e,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Oi=!1,Ya=null,Xa=!1,cd=null,ZE={onError:function(t){Oi=!0,Ya=t}};function eS(t,e,n,r,o,i,s,a,l){Oi=!1,Ya=null,QE.apply(ZE,arguments)}function tS(t,e,n,r,o,i,s,a,l){if(eS.apply(this,arguments),Oi){if(Oi){var c=Ya;Oi=!1,Ya=null}else throw Error(N(198));Xa||(Xa=!0,cd=c)}}function Kr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function x0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cm(t){if(Kr(t)!==t)throw Error(N(188))}function nS(t){var e=t.alternate;if(!e){if(e=Kr(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Cm(o),t;if(i===r)return Cm(o),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function k0(t){return t=nS(t),t!==null?E0(t):null}function E0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E0(t);if(e!==null)return e;t=t.sibling}return null}var S0=ht.unstable_scheduleCallback,Tm=ht.unstable_cancelCallback,rS=ht.unstable_shouldYield,oS=ht.unstable_requestPaint,xe=ht.unstable_now,iS=ht.unstable_getCurrentPriorityLevel,Kh=ht.unstable_ImmediatePriority,C0=ht.unstable_UserBlockingPriority,Ja=ht.unstable_NormalPriority,sS=ht.unstable_LowPriority,T0=ht.unstable_IdlePriority,Jl=null,Ht=null;function aS(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Jl,t,void 0,(t.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:uS,lS=Math.log,cS=Math.LN2;function uS(t){return t>>>=0,t===0?32:31-(lS(t)/cS|0)|0}var Ys=64,Xs=4194304;function Ti(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Ti(a):(i&=s,i!==0&&(r=Ti(i)))}else s=n&~o,s!==0?r=Ti(s):i!==0&&(r=Ti(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-At(e),o=1<<n,r|=t[n],e&=~o;return r}function dS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-At(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=dS(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ud(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _0(){var t=Ys;return Ys<<=1,!(Ys&4194240)&&(Ys=64),t}function qc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Es(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-At(e),t[e]=n}function fS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-At(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function qh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-At(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var re=0;function I0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var P0,Gh,A0,N0,B0,dd=!1,Js=[],Wn=null,Kn=null,qn=null,Ji=new Map,Qi=new Map,Mn=[],pS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _m(t,e){switch(t){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Ji.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(e.pointerId)}}function di(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Cs(e),e!==null&&Gh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function mS(t,e,n,r,o){switch(e){case"focusin":return Wn=di(Wn,t,e,n,r,o),!0;case"dragenter":return Kn=di(Kn,t,e,n,r,o),!0;case"mouseover":return qn=di(qn,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ji.set(i,di(Ji.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Qi.set(i,di(Qi.get(i)||null,t,e,n,r,o)),!0}return!1}function L0(t){var e=Tr(t.target);if(e!==null){var n=Kr(e);if(n!==null){if(e=n.tag,e===13){if(e=x0(n),e!==null){t.blockedOn=e,B0(t.priority,function(){A0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ya(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sd=r,n.target.dispatchEvent(r),sd=null}else return e=Cs(n),e!==null&&Gh(e),t.blockedOn=n,!1;e.shift()}return!0}function Im(t,e,n){ya(t)&&n.delete(e)}function gS(){dd=!1,Wn!==null&&ya(Wn)&&(Wn=null),Kn!==null&&ya(Kn)&&(Kn=null),qn!==null&&ya(qn)&&(qn=null),Ji.forEach(Im),Qi.forEach(Im)}function hi(t,e){t.blockedOn===e&&(t.blockedOn=null,dd||(dd=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,gS)))}function Zi(t){function e(o){return hi(o,t)}if(0<Js.length){hi(Js[0],t);for(var n=1;n<Js.length;n++){var r=Js[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wn!==null&&hi(Wn,t),Kn!==null&&hi(Kn,t),qn!==null&&hi(qn,t),Ji.forEach(e),Qi.forEach(e),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)L0(n),n.blockedOn===null&&Mn.shift()}var To=Cn.ReactCurrentBatchConfig,Za=!0;function vS(t,e,n,r){var o=re,i=To.transition;To.transition=null;try{re=1,Yh(t,e,n,r)}finally{re=o,To.transition=i}}function yS(t,e,n,r){var o=re,i=To.transition;To.transition=null;try{re=4,Yh(t,e,n,r)}finally{re=o,To.transition=i}}function Yh(t,e,n,r){if(Za){var o=hd(t,e,n,r);if(o===null)ru(t,e,r,el,n),_m(t,r);else if(mS(o,t,e,n,r))r.stopPropagation();else if(_m(t,r),e&4&&-1<pS.indexOf(t)){for(;o!==null;){var i=Cs(o);if(i!==null&&P0(i),i=hd(t,e,n,r),i===null&&ru(t,e,r,el,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else ru(t,e,r,null,n)}}var el=null;function hd(t,e,n,r){if(el=null,t=Wh(r),t=Tr(t),t!==null)if(e=Kr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=x0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return el=t,null}function O0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iS()){case Kh:return 1;case C0:return 4;case Ja:case sS:return 16;case T0:return 536870912;default:return 16}default:return 16}}var Vn=null,Xh=null,ba=null;function R0(){if(ba)return ba;var t,e=Xh,n=e.length,r,o="value"in Vn?Vn.value:Vn.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return ba=o.slice(t,1<r?1-r:void 0)}function wa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qs(){return!0}function Pm(){return!1}function mt(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qs:Pm,this.isPropagationStopped=Pm,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),e}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jh=mt(Xo),Ss=ge({},Xo,{view:0,detail:0}),bS=mt(Ss),Gc,Yc,fi,Ql=ge({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(Gc=t.screenX-fi.screenX,Yc=t.screenY-fi.screenY):Yc=Gc=0,fi=t),Gc)},movementY:function(t){return"movementY"in t?t.movementY:Yc}}),Am=mt(Ql),wS=ge({},Ql,{dataTransfer:0}),xS=mt(wS),kS=ge({},Ss,{relatedTarget:0}),Xc=mt(kS),ES=ge({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),SS=mt(ES),CS=ge({},Xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TS=mt(CS),_S=ge({},Xo,{data:0}),Nm=mt(_S),IS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AS[t])?!!e[t]:!1}function Qh(){return NS}var BS=ge({},Ss,{key:function(t){if(t.key){var e=IS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qh,charCode:function(t){return t.type==="keypress"?wa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LS=mt(BS),OS=ge({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bm=mt(OS),RS=ge({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qh}),MS=mt(RS),jS=ge({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),DS=mt(jS),FS=ge({},Ql,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$S=mt(FS),US=[9,13,27,32],Zh=gn&&"CompositionEvent"in window,Ri=null;gn&&"documentMode"in document&&(Ri=document.documentMode);var VS=gn&&"TextEvent"in window&&!Ri,M0=gn&&(!Zh||Ri&&8<Ri&&11>=Ri),Lm=String.fromCharCode(32),Om=!1;function j0(t,e){switch(t){case"keyup":return US.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ao=!1;function HS(t,e){switch(t){case"compositionend":return D0(e);case"keypress":return e.which!==32?null:(Om=!0,Lm);case"textInput":return t=e.data,t===Lm&&Om?null:t;default:return null}}function zS(t,e){if(ao)return t==="compositionend"||!Zh&&j0(t,e)?(t=R0(),ba=Xh=Vn=null,ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return M0&&e.locale!=="ko"?null:e.data;default:return null}}var WS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WS[t.type]:e==="textarea"}function F0(t,e,n,r){g0(r),e=tl(e,"onChange"),0<e.length&&(n=new Jh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mi=null,es=null;function KS(t){X0(t,0)}function Zl(t){var e=uo(t);if(c0(e))return t}function qS(t,e){if(t==="change")return e}var $0=!1;if(gn){var Jc;if(gn){var Qc="oninput"in document;if(!Qc){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),Qc=typeof Mm.oninput=="function"}Jc=Qc}else Jc=!1;$0=Jc&&(!document.documentMode||9<document.documentMode)}function jm(){Mi&&(Mi.detachEvent("onpropertychange",U0),es=Mi=null)}function U0(t){if(t.propertyName==="value"&&Zl(es)){var e=[];F0(e,es,t,Wh(t)),w0(KS,e)}}function GS(t,e,n){t==="focusin"?(jm(),Mi=e,es=n,Mi.attachEvent("onpropertychange",U0)):t==="focusout"&&jm()}function YS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zl(es)}function XS(t,e){if(t==="click")return Zl(e)}function JS(t,e){if(t==="input"||t==="change")return Zl(e)}function QS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rt=typeof Object.is=="function"?Object.is:QS;function ts(t,e){if(Rt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Gu.call(e,o)||!Rt(t[o],e[o]))return!1}return!0}function Dm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fm(t,e){var n=Dm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dm(n)}}function V0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?V0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H0(){for(var t=window,e=Ga();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ga(t.document)}return e}function ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZS(t){var e=H0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&V0(n.ownerDocument.documentElement,n)){if(r!==null&&ef(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Fm(n,i);var s=Fm(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eC=gn&&"documentMode"in document&&11>=document.documentMode,lo=null,fd=null,ji=null,pd=!1;function $m(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pd||lo==null||lo!==Ga(r)||(r=lo,"selectionStart"in r&&ef(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ji&&ts(ji,r)||(ji=r,r=tl(fd,"onSelect"),0<r.length&&(e=new Jh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=lo)))}function Zs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var co={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionend:Zs("Transition","TransitionEnd")},Zc={},z0={};gn&&(z0=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ec(t){if(Zc[t])return Zc[t];if(!co[t])return t;var e=co[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in z0)return Zc[t]=e[n];return t}var W0=ec("animationend"),K0=ec("animationiteration"),q0=ec("animationstart"),G0=ec("transitionend"),Y0=new Map,Um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(t,e){Y0.set(t,e),Wr(e,[t])}for(var eu=0;eu<Um.length;eu++){var tu=Um[eu],tC=tu.toLowerCase(),nC=tu[0].toUpperCase()+tu.slice(1);cr(tC,"on"+nC)}cr(W0,"onAnimationEnd");cr(K0,"onAnimationIteration");cr(q0,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(G0,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rC=new Set("cancel close invalid load scroll toggle".split(" ").concat(_i));function Vm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tS(r,e,void 0,t),t.currentTarget=null}function X0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Vm(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Vm(o,a,c),i=l}}}if(Xa)throw t=cd,Xa=!1,cd=null,t}function se(t,e){var n=e[bd];n===void 0&&(n=e[bd]=new Set);var r=t+"__bubble";n.has(r)||(J0(e,t,2,!1),n.add(r))}function nu(t,e,n){var r=0;e&&(r|=4),J0(n,t,r,e)}var ea="_reactListening"+Math.random().toString(36).slice(2);function ns(t){if(!t[ea]){t[ea]=!0,o0.forEach(function(n){n!=="selectionchange"&&(rC.has(n)||nu(n,!1,t),nu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ea]||(e[ea]=!0,nu("selectionchange",!1,e))}}function J0(t,e,n,r){switch(O0(e)){case 1:var o=vS;break;case 4:o=yS;break;default:o=Yh}n=o.bind(null,e,n,t),o=void 0,!ld||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function ru(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Tr(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}w0(function(){var c=i,d=Wh(n),u=[];e:{var h=Y0.get(t);if(h!==void 0){var g=Jh,p=t;switch(t){case"keypress":if(wa(n)===0)break e;case"keydown":case"keyup":g=LS;break;case"focusin":p="focus",g=Xc;break;case"focusout":p="blur",g=Xc;break;case"beforeblur":case"afterblur":g=Xc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Am;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=xS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=MS;break;case W0:case K0:case q0:g=SS;break;case G0:g=DS;break;case"scroll":g=bS;break;case"wheel":g=$S;break;case"copy":case"cut":case"paste":g=TS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Bm}var m=(e&4)!==0,w=!m&&t==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var v=c,y;v!==null;){y=v;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,b!==null&&(x=Xi(v,b),x!=null&&m.push(rs(v,x,y)))),w)break;v=v.return}0<m.length&&(h=new g(h,p,null,n,d),u.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==sd&&(p=n.relatedTarget||n.fromElement)&&(Tr(p)||p[vn]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=c,p=p?Tr(p):null,p!==null&&(w=Kr(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=c),g!==p)){if(m=Am,x="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=Bm,x="onPointerLeave",b="onPointerEnter",v="pointer"),w=g==null?h:uo(g),y=p==null?h:uo(p),h=new m(x,v+"leave",g,n,d),h.target=w,h.relatedTarget=y,x=null,Tr(d)===c&&(m=new m(b,v+"enter",p,n,d),m.target=y,m.relatedTarget=w,x=m),w=x,g&&p)t:{for(m=g,b=p,v=0,y=m;y;y=Zr(y))v++;for(y=0,x=b;x;x=Zr(x))y++;for(;0<v-y;)m=Zr(m),v--;for(;0<y-v;)b=Zr(b),y--;for(;v--;){if(m===b||b!==null&&m===b.alternate)break t;m=Zr(m),b=Zr(b)}m=null}else m=null;g!==null&&Hm(u,h,g,m,!1),p!==null&&w!==null&&Hm(u,w,p,m,!0)}}e:{if(h=c?uo(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var E=qS;else if(Rm(h))if($0)E=JS;else{E=YS;var C=GS}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=XS);if(E&&(E=E(t,c))){F0(u,E,n,d);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&td(h,"number",h.value)}switch(C=c?uo(c):window,t){case"focusin":(Rm(C)||C.contentEditable==="true")&&(lo=C,fd=c,ji=null);break;case"focusout":ji=fd=lo=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,$m(u,n,d);break;case"selectionchange":if(eC)break;case"keydown":case"keyup":$m(u,n,d)}var _;if(Zh)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ao?j0(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(M0&&n.locale!=="ko"&&(ao||S!=="onCompositionStart"?S==="onCompositionEnd"&&ao&&(_=R0()):(Vn=d,Xh="value"in Vn?Vn.value:Vn.textContent,ao=!0)),C=tl(c,S),0<C.length&&(S=new Nm(S,t,null,n,d),u.push({event:S,listeners:C}),_?S.data=_:(_=D0(n),_!==null&&(S.data=_)))),(_=VS?HS(t,n):zS(t,n))&&(c=tl(c,"onBeforeInput"),0<c.length&&(d=new Nm("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=_))}X0(u,e)})}function rs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tl(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Xi(t,n),i!=null&&r.unshift(rs(t,i,o)),i=Xi(t,e),i!=null&&r.push(rs(t,i,o))),t=t.return}return r}function Zr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hm(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Xi(n,i),l!=null&&s.unshift(rs(n,l,a))):o||(l=Xi(n,i),l!=null&&s.push(rs(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var oC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function zm(t){return(typeof t=="string"?t:""+t).replace(oC,`
`).replace(iC,"")}function ta(t,e,n){if(e=zm(e),zm(t)!==e&&n)throw Error(N(425))}function nl(){}var md=null,gd=null;function vd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yd=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,Wm=typeof Promise=="function"?Promise:void 0,aC=typeof queueMicrotask=="function"?queueMicrotask:typeof Wm<"u"?function(t){return Wm.resolve(null).then(t).catch(lC)}:yd;function lC(t){setTimeout(function(){throw t})}function ou(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Zi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Zi(e)}function Gn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Km(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Jo,os="__reactProps$"+Jo,vn="__reactContainer$"+Jo,bd="__reactEvents$"+Jo,cC="__reactListeners$"+Jo,uC="__reactHandles$"+Jo;function Tr(t){var e=t[Ut];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vn]||n[Ut]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Km(t);t!==null;){if(n=t[Ut])return n;t=Km(t)}return e}t=n,n=t.parentNode}return null}function Cs(t){return t=t[Ut]||t[vn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function tc(t){return t[os]||null}var wd=[],ho=-1;function ur(t){return{current:t}}function ae(t){0>ho||(t.current=wd[ho],wd[ho]=null,ho--)}function ie(t,e){ho++,wd[ho]=t.current,t.current=e}var ir={},Ue=ur(ir),Ze=ur(!1),jr=ir;function Ro(t,e){var n=t.type.contextTypes;if(!n)return ir;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function et(t){return t=t.childContextTypes,t!=null}function rl(){ae(Ze),ae(Ue)}function qm(t,e,n){if(Ue.current!==ir)throw Error(N(168));ie(Ue,e),ie(Ze,n)}function Q0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(N(108,GE(t)||"Unknown",o));return ge({},n,r)}function ol(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ir,jr=Ue.current,ie(Ue,t),ie(Ze,Ze.current),!0}function Gm(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=Q0(t,e,jr),r.__reactInternalMemoizedMergedChildContext=t,ae(Ze),ae(Ue),ie(Ue,t)):ae(Ze),ie(Ze,n)}var Zt=null,nc=!1,iu=!1;function Z0(t){Zt===null?Zt=[t]:Zt.push(t)}function dC(t){nc=!0,Z0(t)}function dr(){if(!iu&&Zt!==null){iu=!0;var t=0,e=re;try{var n=Zt;for(re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zt=null,nc=!1}catch(o){throw Zt!==null&&(Zt=Zt.slice(t+1)),S0(Kh,dr),o}finally{re=e,iu=!1}}return null}var fo=[],po=0,il=null,sl=0,yt=[],bt=0,Dr=null,nn=1,rn="";function wr(t,e){fo[po++]=sl,fo[po++]=il,il=t,sl=e}function eb(t,e,n){yt[bt++]=nn,yt[bt++]=rn,yt[bt++]=Dr,Dr=t;var r=nn;t=rn;var o=32-At(r)-1;r&=~(1<<o),n+=1;var i=32-At(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,nn=1<<32-At(e)+o|n<<o|r,rn=i+t}else nn=1<<i|n<<o|r,rn=t}function tf(t){t.return!==null&&(wr(t,1),eb(t,1,0))}function nf(t){for(;t===il;)il=fo[--po],fo[po]=null,sl=fo[--po],fo[po]=null;for(;t===Dr;)Dr=yt[--bt],yt[bt]=null,rn=yt[--bt],yt[bt]=null,nn=yt[--bt],yt[bt]=null}var lt=null,st=null,ue=!1,Pt=null;function tb(t,e){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ym(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lt=t,st=Gn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lt=t,st=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Dr!==null?{id:nn,overflow:rn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,lt=t,st=null,!0):!1;default:return!1}}function xd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kd(t){if(ue){var e=st;if(e){var n=e;if(!Ym(t,e)){if(xd(t))throw Error(N(418));e=Gn(n.nextSibling);var r=lt;e&&Ym(t,e)?tb(r,n):(t.flags=t.flags&-4097|2,ue=!1,lt=t)}}else{if(xd(t))throw Error(N(418));t.flags=t.flags&-4097|2,ue=!1,lt=t}}}function Xm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lt=t}function na(t){if(t!==lt)return!1;if(!ue)return Xm(t),ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vd(t.type,t.memoizedProps)),e&&(e=st)){if(xd(t))throw nb(),Error(N(418));for(;e;)tb(t,e),e=Gn(e.nextSibling)}if(Xm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){st=Gn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}st=null}}else st=lt?Gn(t.stateNode.nextSibling):null;return!0}function nb(){for(var t=st;t;)t=Gn(t.nextSibling)}function Mo(){st=lt=null,ue=!1}function rf(t){Pt===null?Pt=[t]:Pt.push(t)}var hC=Cn.ReactCurrentBatchConfig;function pi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function ra(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jm(t){var e=t._init;return e(t._payload)}function rb(t){function e(b,v){if(t){var y=b.deletions;y===null?(b.deletions=[v],b.flags|=16):y.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function o(b,v){return b=Qn(b,v),b.index=0,b.sibling=null,b}function i(b,v,y){return b.index=y,t?(y=b.alternate,y!==null?(y=y.index,y<v?(b.flags|=2,v):y):(b.flags|=2,v)):(b.flags|=1048576,v)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,v,y,x){return v===null||v.tag!==6?(v=hu(y,b.mode,x),v.return=b,v):(v=o(v,y),v.return=b,v)}function l(b,v,y,x){var E=y.type;return E===so?d(b,v,y.props.children,x,y.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ln&&Jm(E)===v.type)?(x=o(v,y.props),x.ref=pi(b,v,y),x.return=b,x):(x=_a(y.type,y.key,y.props,null,b.mode,x),x.ref=pi(b,v,y),x.return=b,x)}function c(b,v,y,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=fu(y,b.mode,x),v.return=b,v):(v=o(v,y.children||[]),v.return=b,v)}function d(b,v,y,x,E){return v===null||v.tag!==7?(v=Or(y,b.mode,x,E),v.return=b,v):(v=o(v,y),v.return=b,v)}function u(b,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=hu(""+v,b.mode,y),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ks:return y=_a(v.type,v.key,v.props,null,b.mode,y),y.ref=pi(b,null,v),y.return=b,y;case io:return v=fu(v,b.mode,y),v.return=b,v;case Ln:var x=v._init;return u(b,x(v._payload),y)}if(Ci(v)||ci(v))return v=Or(v,b.mode,y,null),v.return=b,v;ra(b,v)}return null}function h(b,v,y,x){var E=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(b,v,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ks:return y.key===E?l(b,v,y,x):null;case io:return y.key===E?c(b,v,y,x):null;case Ln:return E=y._init,h(b,v,E(y._payload),x)}if(Ci(y)||ci(y))return E!==null?null:d(b,v,y,x,null);ra(b,y)}return null}function g(b,v,y,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return b=b.get(y)||null,a(v,b,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ks:return b=b.get(x.key===null?y:x.key)||null,l(v,b,x,E);case io:return b=b.get(x.key===null?y:x.key)||null,c(v,b,x,E);case Ln:var C=x._init;return g(b,v,y,C(x._payload),E)}if(Ci(x)||ci(x))return b=b.get(y)||null,d(v,b,x,E,null);ra(v,x)}return null}function p(b,v,y,x){for(var E=null,C=null,_=v,S=v=0,T=null;_!==null&&S<y.length;S++){_.index>S?(T=_,_=null):T=_.sibling;var P=h(b,_,y[S],x);if(P===null){_===null&&(_=T);break}t&&_&&P.alternate===null&&e(b,_),v=i(P,v,S),C===null?E=P:C.sibling=P,C=P,_=T}if(S===y.length)return n(b,_),ue&&wr(b,S),E;if(_===null){for(;S<y.length;S++)_=u(b,y[S],x),_!==null&&(v=i(_,v,S),C===null?E=_:C.sibling=_,C=_);return ue&&wr(b,S),E}for(_=r(b,_);S<y.length;S++)T=g(_,b,S,y[S],x),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?S:T.key),v=i(T,v,S),C===null?E=T:C.sibling=T,C=T);return t&&_.forEach(function(O){return e(b,O)}),ue&&wr(b,S),E}function m(b,v,y,x){var E=ci(y);if(typeof E!="function")throw Error(N(150));if(y=E.call(y),y==null)throw Error(N(151));for(var C=E=null,_=v,S=v=0,T=null,P=y.next();_!==null&&!P.done;S++,P=y.next()){_.index>S?(T=_,_=null):T=_.sibling;var O=h(b,_,P.value,x);if(O===null){_===null&&(_=T);break}t&&_&&O.alternate===null&&e(b,_),v=i(O,v,S),C===null?E=O:C.sibling=O,C=O,_=T}if(P.done)return n(b,_),ue&&wr(b,S),E;if(_===null){for(;!P.done;S++,P=y.next())P=u(b,P.value,x),P!==null&&(v=i(P,v,S),C===null?E=P:C.sibling=P,C=P);return ue&&wr(b,S),E}for(_=r(b,_);!P.done;S++,P=y.next())P=g(_,b,S,P.value,x),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?S:P.key),v=i(P,v,S),C===null?E=P:C.sibling=P,C=P);return t&&_.forEach(function(L){return e(b,L)}),ue&&wr(b,S),E}function w(b,v,y,x){if(typeof y=="object"&&y!==null&&y.type===so&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ks:e:{for(var E=y.key,C=v;C!==null;){if(C.key===E){if(E=y.type,E===so){if(C.tag===7){n(b,C.sibling),v=o(C,y.props.children),v.return=b,b=v;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ln&&Jm(E)===C.type){n(b,C.sibling),v=o(C,y.props),v.ref=pi(b,C,y),v.return=b,b=v;break e}n(b,C);break}else e(b,C);C=C.sibling}y.type===so?(v=Or(y.props.children,b.mode,x,y.key),v.return=b,b=v):(x=_a(y.type,y.key,y.props,null,b.mode,x),x.ref=pi(b,v,y),x.return=b,b=x)}return s(b);case io:e:{for(C=y.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(b,v.sibling),v=o(v,y.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else e(b,v);v=v.sibling}v=fu(y,b.mode,x),v.return=b,b=v}return s(b);case Ln:return C=y._init,w(b,v,C(y._payload),x)}if(Ci(y))return p(b,v,y,x);if(ci(y))return m(b,v,y,x);ra(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(b,v.sibling),v=o(v,y),v.return=b,b=v):(n(b,v),v=hu(y,b.mode,x),v.return=b,b=v),s(b)):n(b,v)}return w}var jo=rb(!0),ob=rb(!1),al=ur(null),ll=null,mo=null,of=null;function sf(){of=mo=ll=null}function af(t){var e=al.current;ae(al),t._currentValue=e}function Ed(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _o(t,e){ll=t,of=mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qe=!0),t.firstContext=null)}function Et(t){var e=t._currentValue;if(of!==t)if(t={context:t,memoizedValue:e,next:null},mo===null){if(ll===null)throw Error(N(308));mo=t,ll.dependencies={lanes:0,firstContext:t}}else mo=mo.next=t;return e}var _r=null;function lf(t){_r===null?_r=[t]:_r.push(t)}function ib(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,lf(e)):(n.next=o.next,o.next=n),e.interleaved=n,yn(t,r)}function yn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var On=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,yn(t,n)}return o=r.interleaved,o===null?(e.next=e,lf(r)):(e.next=o.next,o.next=e),r.interleaved=e,yn(t,n)}function xa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qh(t,n)}}function Qm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cl(t,e,n,r){var o=t.updateQueue;On=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var u=o.baseState;s=0,d=c=l=null,a=i;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,g=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){u=p.call(g,u,h);break e}u=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(g,u,h):p,h==null)break e;u=ge({},u,h);break e;case 2:On=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=u):d=d.next=g,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(d===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);$r|=s,t.lanes=s,t.memoizedState=u}}function Zm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(N(191,o));o.call(r)}}}var Ts={},zt=ur(Ts),is=ur(Ts),ss=ur(Ts);function Ir(t){if(t===Ts)throw Error(N(174));return t}function uf(t,e){switch(ie(ss,e),ie(is,t),ie(zt,Ts),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rd(e,t)}ae(zt),ie(zt,e)}function Do(){ae(zt),ae(is),ae(ss)}function ab(t){Ir(ss.current);var e=Ir(zt.current),n=rd(e,t.type);e!==n&&(ie(is,t),ie(zt,n))}function df(t){is.current===t&&(ae(zt),ae(is))}var de=ur(0);function ul(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var su=[];function hf(){for(var t=0;t<su.length;t++)su[t]._workInProgressVersionPrimary=null;su.length=0}var ka=Cn.ReactCurrentDispatcher,au=Cn.ReactCurrentBatchConfig,Fr=0,pe=null,Ie=null,Ae=null,dl=!1,Di=!1,as=0,fC=0;function je(){throw Error(N(321))}function ff(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rt(t[n],e[n]))return!1;return!0}function pf(t,e,n,r,o,i){if(Fr=i,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ka.current=t===null||t.memoizedState===null?vC:yC,t=n(r,o),Di){i=0;do{if(Di=!1,as=0,25<=i)throw Error(N(301));i+=1,Ae=Ie=null,e.updateQueue=null,ka.current=bC,t=n(r,o)}while(Di)}if(ka.current=hl,e=Ie!==null&&Ie.next!==null,Fr=0,Ae=Ie=pe=null,dl=!1,e)throw Error(N(300));return t}function mf(){var t=as!==0;return as=0,t}function Ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?pe.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function St(){if(Ie===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=Ae===null?pe.memoizedState:Ae.next;if(e!==null)Ae=e,Ie=t;else{if(t===null)throw Error(N(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ae===null?pe.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function ls(t,e){return typeof e=="function"?e(t):e}function lu(t){var e=St(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Ie,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var d=c.lane;if((Fr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,s=r):l=l.next=u,pe.lanes|=d,$r|=d}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,Rt(r,e.memoizedState)||(Qe=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,pe.lanes|=i,$r|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cu(t){var e=St(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);Rt(i,e.memoizedState)||(Qe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function lb(){}function cb(t,e){var n=pe,r=St(),o=e(),i=!Rt(r.memoizedState,o);if(i&&(r.memoizedState=o,Qe=!0),r=r.queue,gf(hb.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,cs(9,db.bind(null,n,r,o,e),void 0,null),Ne===null)throw Error(N(349));Fr&30||ub(n,e,o)}return o}function ub(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function db(t,e,n,r){e.value=n,e.getSnapshot=r,fb(e)&&pb(t)}function hb(t,e,n){return n(function(){fb(e)&&pb(t)})}function fb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rt(t,n)}catch{return!0}}function pb(t){var e=yn(t,1);e!==null&&Nt(e,t,1,-1)}function eg(t){var e=Ft();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},e.queue=t,t=t.dispatch=gC.bind(null,pe,t),[e.memoizedState,t]}function cs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mb(){return St().memoizedState}function Ea(t,e,n,r){var o=Ft();pe.flags|=t,o.memoizedState=cs(1|e,n,void 0,r===void 0?null:r)}function rc(t,e,n,r){var o=St();r=r===void 0?null:r;var i=void 0;if(Ie!==null){var s=Ie.memoizedState;if(i=s.destroy,r!==null&&ff(r,s.deps)){o.memoizedState=cs(e,n,i,r);return}}pe.flags|=t,o.memoizedState=cs(1|e,n,i,r)}function tg(t,e){return Ea(8390656,8,t,e)}function gf(t,e){return rc(2048,8,t,e)}function gb(t,e){return rc(4,2,t,e)}function vb(t,e){return rc(4,4,t,e)}function yb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bb(t,e,n){return n=n!=null?n.concat([t]):null,rc(4,4,yb.bind(null,e,t),n)}function vf(){}function wb(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ff(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xb(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ff(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kb(t,e,n){return Fr&21?(Rt(n,e)||(n=_0(),pe.lanes|=n,$r|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qe=!0),t.memoizedState=n)}function pC(t,e){var n=re;re=n!==0&&4>n?n:4,t(!0);var r=au.transition;au.transition={};try{t(!1),e()}finally{re=n,au.transition=r}}function Eb(){return St().memoizedState}function mC(t,e,n){var r=Jn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sb(t))Cb(e,n);else if(n=ib(t,e,n,r),n!==null){var o=qe();Nt(n,t,r,o),Tb(n,e,r)}}function gC(t,e,n){var r=Jn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sb(t))Cb(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Rt(a,s)){var l=e.interleaved;l===null?(o.next=o,lf(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=ib(t,e,o,r),n!==null&&(o=qe(),Nt(n,t,r,o),Tb(n,e,r))}}function Sb(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function Cb(t,e){Di=dl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Tb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qh(t,n)}}var hl={readContext:Et,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},vC={readContext:Et,useCallback:function(t,e){return Ft().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:tg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ea(4194308,4,yb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ea(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ea(4,2,t,e)},useMemo:function(t,e){var n=Ft();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ft();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mC.bind(null,pe,t),[r.memoizedState,t]},useRef:function(t){var e=Ft();return t={current:t},e.memoizedState=t},useState:eg,useDebugValue:vf,useDeferredValue:function(t){return Ft().memoizedState=t},useTransition:function(){var t=eg(!1),e=t[0];return t=pC.bind(null,t[1]),Ft().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pe,o=Ft();if(ue){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Ne===null)throw Error(N(349));Fr&30||ub(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,tg(hb.bind(null,r,i,t),[t]),r.flags|=2048,cs(9,db.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ft(),e=Ne.identifierPrefix;if(ue){var n=rn,r=nn;n=(r&~(1<<32-At(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=as++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yC={readContext:Et,useCallback:wb,useContext:Et,useEffect:gf,useImperativeHandle:bb,useInsertionEffect:gb,useLayoutEffect:vb,useMemo:xb,useReducer:lu,useRef:mb,useState:function(){return lu(ls)},useDebugValue:vf,useDeferredValue:function(t){var e=St();return kb(e,Ie.memoizedState,t)},useTransition:function(){var t=lu(ls)[0],e=St().memoizedState;return[t,e]},useMutableSource:lb,useSyncExternalStore:cb,useId:Eb,unstable_isNewReconciler:!1},bC={readContext:Et,useCallback:wb,useContext:Et,useEffect:gf,useImperativeHandle:bb,useInsertionEffect:gb,useLayoutEffect:vb,useMemo:xb,useReducer:cu,useRef:mb,useState:function(){return cu(ls)},useDebugValue:vf,useDeferredValue:function(t){var e=St();return Ie===null?e.memoizedState=t:kb(e,Ie.memoizedState,t)},useTransition:function(){var t=cu(ls)[0],e=St().memoizedState;return[t,e]},useMutableSource:lb,useSyncExternalStore:cb,useId:Eb,unstable_isNewReconciler:!1};function _t(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oc={isMounted:function(t){return(t=t._reactInternals)?Kr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qe(),o=Jn(t),i=hn(r,o);i.payload=e,n!=null&&(i.callback=n),e=Yn(t,i,o),e!==null&&(Nt(e,t,o,r),xa(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qe(),o=Jn(t),i=hn(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Yn(t,i,o),e!==null&&(Nt(e,t,o,r),xa(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qe(),r=Jn(t),o=hn(n,r);o.tag=2,e!=null&&(o.callback=e),e=Yn(t,o,r),e!==null&&(Nt(e,t,r,n),xa(e,t,r))}};function ng(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!ts(n,r)||!ts(o,i):!0}function _b(t,e,n){var r=!1,o=ir,i=e.contextType;return typeof i=="object"&&i!==null?i=Et(i):(o=et(e)?jr:Ue.current,r=e.contextTypes,i=(r=r!=null)?Ro(t,o):ir),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function rg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oc.enqueueReplaceState(e,e.state,null)}function Cd(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},cf(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Et(i):(i=et(e)?jr:Ue.current,o.context=Ro(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Sd(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&oc.enqueueReplaceState(o,o.state,null),cl(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Fo(t,e){try{var n="",r=e;do n+=qE(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function uu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Td(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wC=typeof WeakMap=="function"?WeakMap:Map;function Ib(t,e,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pl||(pl=!0,Md=r),Td(t,e)},n}function Pb(t,e,n){n=hn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Td(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Td(t,e),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function og(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wC;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=OC.bind(null,t,e,n),e.then(t,t))}function ig(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sg(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hn(-1,1),e.tag=2,Yn(n,e,1))),n.lanes|=1),t)}var xC=Cn.ReactCurrentOwner,Qe=!1;function We(t,e,n,r){e.child=t===null?ob(e,null,n,r):jo(e,t.child,n,r)}function ag(t,e,n,r,o){n=n.render;var i=e.ref;return _o(e,o),r=pf(t,e,n,r,i,o),n=mf(),t!==null&&!Qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,bn(t,e,o)):(ue&&n&&tf(e),e.flags|=1,We(t,e,r,o),e.child)}function lg(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Cf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ab(t,e,i,r,o)):(t=_a(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:ts,n(s,r)&&t.ref===e.ref)return bn(t,e,o)}return e.flags|=1,t=Qn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ab(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(ts(i,r)&&t.ref===e.ref)if(Qe=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(Qe=!0);else return e.lanes=t.lanes,bn(t,e,o)}return _d(t,e,n,r,o)}function Nb(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(vo,it),it|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(vo,it),it|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ie(vo,it),it|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ie(vo,it),it|=r;return We(t,e,o,n),e.child}function Bb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _d(t,e,n,r,o){var i=et(n)?jr:Ue.current;return i=Ro(e,i),_o(e,o),n=pf(t,e,n,r,i,o),r=mf(),t!==null&&!Qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,bn(t,e,o)):(ue&&r&&tf(e),e.flags|=1,We(t,e,n,o),e.child)}function cg(t,e,n,r,o){if(et(n)){var i=!0;ol(e)}else i=!1;if(_o(e,o),e.stateNode===null)Sa(t,e),_b(e,n,r),Cd(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Et(c):(c=et(n)?jr:Ue.current,c=Ro(e,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&rg(e,s,r,c),On=!1;var h=e.memoizedState;s.state=h,cl(e,r,s,o),l=e.memoizedState,a!==r||h!==l||Ze.current||On?(typeof d=="function"&&(Sd(e,n,d,r),l=e.memoizedState),(a=On||ng(e,n,a,r,h,l,c))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,sb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_t(e.type,a),s.props=c,u=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Et(l):(l=et(n)?jr:Ue.current,l=Ro(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==u||h!==l)&&rg(e,s,r,l),On=!1,h=e.memoizedState,s.state=h,cl(e,r,s,o);var p=e.memoizedState;a!==u||h!==p||Ze.current||On?(typeof g=="function"&&(Sd(e,n,g,r),p=e.memoizedState),(c=On||ng(e,n,c,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Id(t,e,n,r,i,o)}function Id(t,e,n,r,o,i){Bb(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&Gm(e,n,!1),bn(t,e,i);r=e.stateNode,xC.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=jo(e,t.child,null,i),e.child=jo(e,null,a,i)):We(t,e,a,i),e.memoizedState=r.state,o&&Gm(e,n,!0),e.child}function Lb(t){var e=t.stateNode;e.pendingContext?qm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qm(t,e.context,!1),uf(t,e.containerInfo)}function ug(t,e,n,r,o){return Mo(),rf(o),e.flags|=256,We(t,e,n,r),e.child}var Pd={dehydrated:null,treeContext:null,retryLane:0};function Ad(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ob(t,e,n){var r=e.pendingProps,o=de.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),ie(de,o&1),t===null)return kd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=ac(s,r,0,null),t=Or(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ad(n),e.memoizedState=Pd,t):yf(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return kC(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qn(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Qn(a,i):(i=Or(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?Ad(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=Pd,r}return i=t.child,t=i.sibling,r=Qn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yf(t,e){return e=ac({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oa(t,e,n,r){return r!==null&&rf(r),jo(e,t.child,null,n),t=yf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kC(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=uu(Error(N(422))),oa(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=ac({mode:"visible",children:r.children},o,0,null),i=Or(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&jo(e,t.child,null,s),e.child.memoizedState=Ad(s),e.memoizedState=Pd,i);if(!(e.mode&1))return oa(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=uu(i,r,void 0),oa(t,e,s,r)}if(a=(s&t.childLanes)!==0,Qe||a){if(r=Ne,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,yn(t,o),Nt(r,t,o,-1))}return Sf(),r=uu(Error(N(421))),oa(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=RC.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,st=Gn(o.nextSibling),lt=e,ue=!0,Pt=null,t!==null&&(yt[bt++]=nn,yt[bt++]=rn,yt[bt++]=Dr,nn=t.id,rn=t.overflow,Dr=e),e=yf(e,r.children),e.flags|=4096,e)}function dg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ed(t.return,e,n)}function du(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Rb(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(We(t,e,r.children,n),r=de.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dg(t,n,e);else if(t.tag===19)dg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ie(de,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&ul(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),du(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&ul(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}du(e,!0,n,null,i);break;case"together":du(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$r|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EC(t,e,n){switch(e.tag){case 3:Lb(e),Mo();break;case 5:ab(e);break;case 1:et(e.type)&&ol(e);break;case 4:uf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;ie(al,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ie(de,de.current&1),e.flags|=128,null):n&e.child.childLanes?Ob(t,e,n):(ie(de,de.current&1),t=bn(t,e,n),t!==null?t.sibling:null);ie(de,de.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Rb(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ie(de,de.current),r)break;return null;case 22:case 23:return e.lanes=0,Nb(t,e,n)}return bn(t,e,n)}var Mb,Nd,jb,Db;Mb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nd=function(){};jb=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Ir(zt.current);var i=null;switch(n){case"input":o=Zu(t,o),r=Zu(t,r),i=[];break;case"select":o=ge({},o,{value:void 0}),r=ge({},r,{value:void 0}),i=[];break;case"textarea":o=nd(t,o),r=nd(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nl)}od(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&se("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Db=function(t,e,n,r){n!==r&&(e.flags|=4)};function mi(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function De(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SC(t,e,n){var r=e.pendingProps;switch(nf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(e),null;case 1:return et(e.type)&&rl(),De(e),null;case 3:return r=e.stateNode,Do(),ae(Ze),ae(Ue),hf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(na(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pt!==null&&(Fd(Pt),Pt=null))),Nd(t,e),De(e),null;case 5:df(e);var o=Ir(ss.current);if(n=e.type,t!==null&&e.stateNode!=null)jb(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return De(e),null}if(t=Ir(zt.current),na(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ut]=e,r[os]=i,t=(e.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(o=0;o<_i.length;o++)se(_i[o],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":wm(r,i),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},se("invalid",r);break;case"textarea":km(r,i),se("invalid",r)}od(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ta(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ta(r.textContent,a,t),o=["children",""+a]):Gi.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&se("scroll",r)}switch(n){case"input":qs(r),xm(r,i,!0);break;case"textarea":qs(r),Em(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=nl)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=h0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ut]=e,t[os]=r,Mb(t,e,!1,!1),e.stateNode=t;e:{switch(s=id(n,r),n){case"dialog":se("cancel",t),se("close",t),o=r;break;case"iframe":case"object":case"embed":se("load",t),o=r;break;case"video":case"audio":for(o=0;o<_i.length;o++)se(_i[o],t);o=r;break;case"source":se("error",t),o=r;break;case"img":case"image":case"link":se("error",t),se("load",t),o=r;break;case"details":se("toggle",t),o=r;break;case"input":wm(t,r),o=Zu(t,r),se("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=ge({},r,{value:void 0}),se("invalid",t);break;case"textarea":km(t,r),o=nd(t,r),se("invalid",t);break;default:o=r}od(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?m0(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&f0(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yi(t,l):typeof l=="number"&&Yi(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&se("scroll",t):l!=null&&Uh(t,i,l,s))}switch(n){case"input":qs(t),xm(t,r,!1);break;case"textarea":qs(t),Em(t);break;case"option":r.value!=null&&t.setAttribute("value",""+or(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Eo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Eo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=nl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return De(e),null;case 6:if(t&&e.stateNode!=null)Db(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Ir(ss.current),Ir(zt.current),na(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ut]=e,(i=r.nodeValue!==n)&&(t=lt,t!==null))switch(t.tag){case 3:ta(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ta(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ut]=e,e.stateNode=r}return De(e),null;case 13:if(ae(de),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ue&&st!==null&&e.mode&1&&!(e.flags&128))nb(),Mo(),e.flags|=98560,i=!1;else if(i=na(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[Ut]=e}else Mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;De(e),i=!1}else Pt!==null&&(Fd(Pt),Pt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?Pe===0&&(Pe=3):Sf())),e.updateQueue!==null&&(e.flags|=4),De(e),null);case 4:return Do(),Nd(t,e),t===null&&ns(e.stateNode.containerInfo),De(e),null;case 10:return af(e.type._context),De(e),null;case 17:return et(e.type)&&rl(),De(e),null;case 19:if(ae(de),i=e.memoizedState,i===null)return De(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)mi(i,!1);else{if(Pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ul(t),s!==null){for(e.flags|=128,mi(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ie(de,de.current&1|2),e.child}t=t.sibling}i.tail!==null&&xe()>$o&&(e.flags|=128,r=!0,mi(i,!1),e.lanes=4194304)}else{if(!r)if(t=ul(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ue)return De(e),null}else 2*xe()-i.renderingStartTime>$o&&n!==1073741824&&(e.flags|=128,r=!0,mi(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xe(),e.sibling=null,n=de.current,ie(de,r?n&1|2:n&1),e):(De(e),null);case 22:case 23:return Ef(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?it&1073741824&&(De(e),e.subtreeFlags&6&&(e.flags|=8192)):De(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function CC(t,e){switch(nf(e),e.tag){case 1:return et(e.type)&&rl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Do(),ae(Ze),ae(Ue),hf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return df(e),null;case 13:if(ae(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ae(de),null;case 4:return Do(),null;case 10:return af(e.type._context),null;case 22:case 23:return Ef(),null;case 24:return null;default:return null}}var ia=!1,$e=!1,TC=typeof WeakSet=="function"?WeakSet:Set,M=null;function go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(t,e,r)}else n.current=null}function Bd(t,e,n){try{n()}catch(r){ye(t,e,r)}}var hg=!1;function _C(t,e){if(md=Za,t=H0(),ef(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,u=t,h=null;t:for(;;){for(var g;u!==n||o!==0&&u.nodeType!==3||(a=s+o),u!==i||r!==0&&u.nodeType!==3||(l=s+r),u.nodeType===3&&(s+=u.nodeValue.length),(g=u.firstChild)!==null;)h=u,u=g;for(;;){if(u===t)break t;if(h===n&&++c===o&&(a=s),h===i&&++d===r&&(l=s),(g=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:t,selectionRange:n},Za=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,w=p.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?m:_t(e.type,m),w);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){ye(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return p=hg,hg=!1,p}function Fi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&Bd(e,n,i)}o=o.next}while(o!==r)}}function ic(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ld(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Fb(t){var e=t.alternate;e!==null&&(t.alternate=null,Fb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ut],delete e[os],delete e[bd],delete e[cC],delete e[uC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $b(t){return t.tag===5||t.tag===3||t.tag===4}function fg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$b(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nl));else if(r!==4&&(t=t.child,t!==null))for(Od(t,e,n),t=t.sibling;t!==null;)Od(t,e,n),t=t.sibling}function Rd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rd(t,e,n),t=t.sibling;t!==null;)Rd(t,e,n),t=t.sibling}var Le=null,It=!1;function _n(t,e,n){for(n=n.child;n!==null;)Ub(t,e,n),n=n.sibling}function Ub(t,e,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Jl,n)}catch{}switch(n.tag){case 5:$e||go(n,e);case 6:var r=Le,o=It;Le=null,_n(t,e,n),Le=r,It=o,Le!==null&&(It?(t=Le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(It?(t=Le,n=n.stateNode,t.nodeType===8?ou(t.parentNode,n):t.nodeType===1&&ou(t,n),Zi(t)):ou(Le,n.stateNode));break;case 4:r=Le,o=It,Le=n.stateNode.containerInfo,It=!0,_n(t,e,n),Le=r,It=o;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Bd(n,e,s),o=o.next}while(o!==r)}_n(t,e,n);break;case 1:if(!$e&&(go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,e,a)}_n(t,e,n);break;case 21:_n(t,e,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,_n(t,e,n),$e=r):_n(t,e,n);break;default:_n(t,e,n)}}function pg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TC),e.forEach(function(r){var o=MC.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Tt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,It=!1;break e;case 3:Le=a.stateNode.containerInfo,It=!0;break e;case 4:Le=a.stateNode.containerInfo,It=!0;break e}a=a.return}if(Le===null)throw Error(N(160));Ub(i,s,o),Le=null,It=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){ye(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vb(e,t),e=e.sibling}function Vb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tt(e,t),Dt(t),r&4){try{Fi(3,t,t.return),ic(3,t)}catch(m){ye(t,t.return,m)}try{Fi(5,t,t.return)}catch(m){ye(t,t.return,m)}}break;case 1:Tt(e,t),Dt(t),r&512&&n!==null&&go(n,n.return);break;case 5:if(Tt(e,t),Dt(t),r&512&&n!==null&&go(n,n.return),t.flags&32){var o=t.stateNode;try{Yi(o,"")}catch(m){ye(t,t.return,m)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&u0(o,i),id(a,s);var c=id(a,i);for(s=0;s<l.length;s+=2){var d=l[s],u=l[s+1];d==="style"?m0(o,u):d==="dangerouslySetInnerHTML"?f0(o,u):d==="children"?Yi(o,u):Uh(o,d,u,c)}switch(a){case"input":ed(o,i);break;case"textarea":d0(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Eo(o,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?Eo(o,!!i.multiple,i.defaultValue,!0):Eo(o,!!i.multiple,i.multiple?[]:"",!1))}o[os]=i}catch(m){ye(t,t.return,m)}}break;case 6:if(Tt(e,t),Dt(t),r&4){if(t.stateNode===null)throw Error(N(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(m){ye(t,t.return,m)}}break;case 3:if(Tt(e,t),Dt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zi(e.containerInfo)}catch(m){ye(t,t.return,m)}break;case 4:Tt(e,t),Dt(t);break;case 13:Tt(e,t),Dt(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(xf=xe())),r&4&&pg(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?($e=(c=$e)||d,Tt(e,t),$e=c):Tt(e,t),Dt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(M=t,d=t.child;d!==null;){for(u=M=d;M!==null;){switch(h=M,g=h.child,h.tag){case 0:case 11:case 14:case 15:Fi(4,h,h.return);break;case 1:go(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){ye(r,n,m)}}break;case 5:go(h,h.return);break;case 22:if(h.memoizedState!==null){gg(u);continue}}g!==null?(g.return=h,M=g):gg(u)}d=d.sibling}e:for(d=null,u=t;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=u.stateNode,l=u.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=p0("display",s))}catch(m){ye(t,t.return,m)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){ye(t,t.return,m)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Tt(e,t),Dt(t),r&4&&pg(t);break;case 21:break;default:Tt(e,t),Dt(t)}}function Dt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($b(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Yi(o,""),r.flags&=-33);var i=fg(t);Rd(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=fg(t);Od(t,a,s);break;default:throw Error(N(161))}}catch(l){ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IC(t,e,n){M=t,Hb(t)}function Hb(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var o=M,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||ia;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||$e;a=ia;var c=$e;if(ia=s,($e=l)&&!c)for(M=o;M!==null;)s=M,l=s.child,s.tag===22&&s.memoizedState!==null?vg(o):l!==null?(l.return=s,M=l):vg(o);for(;i!==null;)M=i,Hb(i),i=i.sibling;M=o,ia=a,$e=c}mg(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,M=i):mg(t)}}function mg(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$e||ic(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$e)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:_t(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zm(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zm(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&Zi(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}$e||e.flags&512&&Ld(e)}catch(h){ye(e,e.return,h)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function gg(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function vg(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ic(4,e)}catch(l){ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){ye(e,o,l)}}var i=e.return;try{Ld(e)}catch(l){ye(e,i,l)}break;case 5:var s=e.return;try{Ld(e)}catch(l){ye(e,s,l)}}}catch(l){ye(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var PC=Math.ceil,fl=Cn.ReactCurrentDispatcher,bf=Cn.ReactCurrentOwner,kt=Cn.ReactCurrentBatchConfig,J=0,Ne=null,Se=null,Oe=0,it=0,vo=ur(0),Pe=0,us=null,$r=0,sc=0,wf=0,$i=null,Je=null,xf=0,$o=1/0,Jt=null,pl=!1,Md=null,Xn=null,sa=!1,Hn=null,ml=0,Ui=0,jd=null,Ca=-1,Ta=0;function qe(){return J&6?xe():Ca!==-1?Ca:Ca=xe()}function Jn(t){return t.mode&1?J&2&&Oe!==0?Oe&-Oe:hC.transition!==null?(Ta===0&&(Ta=_0()),Ta):(t=re,t!==0||(t=window.event,t=t===void 0?16:O0(t.type)),t):1}function Nt(t,e,n,r){if(50<Ui)throw Ui=0,jd=null,Error(N(185));Es(t,n,r),(!(J&2)||t!==Ne)&&(t===Ne&&(!(J&2)&&(sc|=n),Pe===4&&jn(t,Oe)),tt(t,r),n===1&&J===0&&!(e.mode&1)&&($o=xe()+500,nc&&dr()))}function tt(t,e){var n=t.callbackNode;hS(t,e);var r=Qa(t,t===Ne?Oe:0);if(r===0)n!==null&&Tm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Tm(n),e===1)t.tag===0?dC(yg.bind(null,t)):Z0(yg.bind(null,t)),aC(function(){!(J&6)&&dr()}),n=null;else{switch(I0(r)){case 1:n=Kh;break;case 4:n=C0;break;case 16:n=Ja;break;case 536870912:n=T0;break;default:n=Ja}n=Jb(n,zb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zb(t,e){if(Ca=-1,Ta=0,J&6)throw Error(N(327));var n=t.callbackNode;if(Io()&&t.callbackNode!==n)return null;var r=Qa(t,t===Ne?Oe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gl(t,r);else{e=r;var o=J;J|=2;var i=Kb();(Ne!==t||Oe!==e)&&(Jt=null,$o=xe()+500,Lr(t,e));do try{BC();break}catch(a){Wb(t,a)}while(1);sf(),fl.current=i,J=o,Se!==null?e=0:(Ne=null,Oe=0,e=Pe)}if(e!==0){if(e===2&&(o=ud(t),o!==0&&(r=o,e=Dd(t,o))),e===1)throw n=us,Lr(t,0),jn(t,r),tt(t,xe()),n;if(e===6)jn(t,r);else{if(o=t.current.alternate,!(r&30)&&!AC(o)&&(e=gl(t,r),e===2&&(i=ud(t),i!==0&&(r=i,e=Dd(t,i))),e===1))throw n=us,Lr(t,0),jn(t,r),tt(t,xe()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:xr(t,Je,Jt);break;case 3:if(jn(t,r),(r&130023424)===r&&(e=xf+500-xe(),10<e)){if(Qa(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){qe(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=yd(xr.bind(null,t,Je,Jt),e);break}xr(t,Je,Jt);break;case 4:if(jn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-At(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PC(r/1960))-r,10<r){t.timeoutHandle=yd(xr.bind(null,t,Je,Jt),r);break}xr(t,Je,Jt);break;case 5:xr(t,Je,Jt);break;default:throw Error(N(329))}}}return tt(t,xe()),t.callbackNode===n?zb.bind(null,t):null}function Dd(t,e){var n=$i;return t.current.memoizedState.isDehydrated&&(Lr(t,e).flags|=256),t=gl(t,e),t!==2&&(e=Je,Je=n,e!==null&&Fd(e)),t}function Fd(t){Je===null?Je=t:Je.push.apply(Je,t)}function AC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Rt(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jn(t,e){for(e&=~wf,e&=~sc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-At(e),r=1<<n;t[n]=-1,e&=~r}}function yg(t){if(J&6)throw Error(N(327));Io();var e=Qa(t,0);if(!(e&1))return tt(t,xe()),null;var n=gl(t,e);if(t.tag!==0&&n===2){var r=ud(t);r!==0&&(e=r,n=Dd(t,r))}if(n===1)throw n=us,Lr(t,0),jn(t,e),tt(t,xe()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xr(t,Je,Jt),tt(t,xe()),null}function kf(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&($o=xe()+500,nc&&dr())}}function Ur(t){Hn!==null&&Hn.tag===0&&!(J&6)&&Io();var e=J;J|=1;var n=kt.transition,r=re;try{if(kt.transition=null,re=1,t)return t()}finally{re=r,kt.transition=n,J=e,!(J&6)&&dr()}}function Ef(){it=vo.current,ae(vo)}function Lr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sC(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(nf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rl();break;case 3:Do(),ae(Ze),ae(Ue),hf();break;case 5:df(r);break;case 4:Do();break;case 13:ae(de);break;case 19:ae(de);break;case 10:af(r.type._context);break;case 22:case 23:Ef()}n=n.return}if(Ne=t,Se=t=Qn(t.current,null),Oe=it=e,Pe=0,us=null,wf=sc=$r=0,Je=$i=null,_r!==null){for(e=0;e<_r.length;e++)if(n=_r[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}_r=null}return t}function Wb(t,e){do{var n=Se;try{if(sf(),ka.current=hl,dl){for(var r=pe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}dl=!1}if(Fr=0,Ae=Ie=pe=null,Di=!1,as=0,bf.current=null,n===null||n.return===null){Pe=1,us=e,Se=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=Oe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ig(s);if(g!==null){g.flags&=-257,sg(g,s,a,i,e),g.mode&1&&og(i,c,e),e=g,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){og(i,c,e),Sf();break e}l=Error(N(426))}}else if(ue&&a.mode&1){var w=ig(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),sg(w,s,a,i,e),rf(Fo(l,a));break e}}i=l=Fo(l,a),Pe!==4&&(Pe=2),$i===null?$i=[i]:$i.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=Ib(i,l,e);Qm(i,b);break e;case 1:a=l;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xn===null||!Xn.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Pb(i,a,e);Qm(i,x);break e}}i=i.return}while(i!==null)}Gb(n)}catch(E){e=E,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(1)}function Kb(){var t=fl.current;return fl.current=hl,t===null?hl:t}function Sf(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Ne===null||!($r&268435455)&&!(sc&268435455)||jn(Ne,Oe)}function gl(t,e){var n=J;J|=2;var r=Kb();(Ne!==t||Oe!==e)&&(Jt=null,Lr(t,e));do try{NC();break}catch(o){Wb(t,o)}while(1);if(sf(),J=n,fl.current=r,Se!==null)throw Error(N(261));return Ne=null,Oe=0,Pe}function NC(){for(;Se!==null;)qb(Se)}function BC(){for(;Se!==null&&!rS();)qb(Se)}function qb(t){var e=Xb(t.alternate,t,it);t.memoizedProps=t.pendingProps,e===null?Gb(t):Se=e,bf.current=null}function Gb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CC(n,e),n!==null){n.flags&=32767,Se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pe=6,Se=null;return}}else if(n=SC(n,e,it),n!==null){Se=n;return}if(e=e.sibling,e!==null){Se=e;return}Se=e=t}while(e!==null);Pe===0&&(Pe=5)}function xr(t,e,n){var r=re,o=kt.transition;try{kt.transition=null,re=1,LC(t,e,n,r)}finally{kt.transition=o,re=r}return null}function LC(t,e,n,r){do Io();while(Hn!==null);if(J&6)throw Error(N(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(fS(t,i),t===Ne&&(Se=Ne=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sa||(sa=!0,Jb(Ja,function(){return Io(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kt.transition,kt.transition=null;var s=re;re=1;var a=J;J|=4,bf.current=null,_C(t,n),Vb(n,t),ZS(gd),Za=!!md,gd=md=null,t.current=n,IC(n),oS(),J=a,re=s,kt.transition=i}else t.current=n;if(sa&&(sa=!1,Hn=t,ml=o),i=t.pendingLanes,i===0&&(Xn=null),aS(n.stateNode),tt(t,xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(pl)throw pl=!1,t=Md,Md=null,t;return ml&1&&t.tag!==0&&Io(),i=t.pendingLanes,i&1?t===jd?Ui++:(Ui=0,jd=t):Ui=0,dr(),null}function Io(){if(Hn!==null){var t=I0(ml),e=kt.transition,n=re;try{if(kt.transition=null,re=16>t?16:t,Hn===null)var r=!1;else{if(t=Hn,Hn=null,ml=0,J&6)throw Error(N(331));var o=J;for(J|=4,M=t.current;M!==null;){var i=M,s=i.child;if(M.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(M=c;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:Fi(8,d,i)}var u=d.child;if(u!==null)u.return=d,M=u;else for(;M!==null;){d=M;var h=d.sibling,g=d.return;if(Fb(d),d===c){M=null;break}if(h!==null){h.return=g,M=h;break}M=g}}}var p=i.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}M=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,M=s;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fi(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,M=b;break e}M=i.return}}var v=t.current;for(M=v;M!==null;){s=M;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,M=y;else e:for(s=v;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ic(9,a)}}catch(E){ye(a,a.return,E)}if(a===s){M=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,M=x;break e}M=a.return}}if(J=o,dr(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Jl,t)}catch{}r=!0}return r}finally{re=n,kt.transition=e}}return!1}function bg(t,e,n){e=Fo(n,e),e=Ib(t,e,1),t=Yn(t,e,1),e=qe(),t!==null&&(Es(t,1,e),tt(t,e))}function ye(t,e,n){if(t.tag===3)bg(t,t,n);else for(;e!==null;){if(e.tag===3){bg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){t=Fo(n,t),t=Pb(e,t,1),e=Yn(e,t,1),t=qe(),e!==null&&(Es(e,1,t),tt(e,t));break}}e=e.return}}function OC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qe(),t.pingedLanes|=t.suspendedLanes&n,Ne===t&&(Oe&n)===n&&(Pe===4||Pe===3&&(Oe&130023424)===Oe&&500>xe()-xf?Lr(t,0):wf|=n),tt(t,e)}function Yb(t,e){e===0&&(t.mode&1?(e=Xs,Xs<<=1,!(Xs&130023424)&&(Xs=4194304)):e=1);var n=qe();t=yn(t,e),t!==null&&(Es(t,e,n),tt(t,n))}function RC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Yb(t,n)}function MC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Yb(t,n)}var Xb;Xb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ze.current)Qe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qe=!1,EC(t,e,n);Qe=!!(t.flags&131072)}else Qe=!1,ue&&e.flags&1048576&&eb(e,sl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sa(t,e),t=e.pendingProps;var o=Ro(e,Ue.current);_o(e,n),o=pf(null,e,r,t,o,n);var i=mf();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,et(r)?(i=!0,ol(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,cf(e),o.updater=oc,e.stateNode=o,o._reactInternals=e,Cd(e,r,t,n),e=Id(null,e,r,!0,i,n)):(e.tag=0,ue&&i&&tf(e),We(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sa(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=DC(r),t=_t(r,t),o){case 0:e=_d(null,e,r,t,n);break e;case 1:e=cg(null,e,r,t,n);break e;case 11:e=ag(null,e,r,t,n);break e;case 14:e=lg(null,e,r,_t(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:_t(r,o),_d(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:_t(r,o),cg(t,e,r,o,n);case 3:e:{if(Lb(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,o=i.element,sb(t,e),cl(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Fo(Error(N(423)),e),e=ug(t,e,r,n,o);break e}else if(r!==o){o=Fo(Error(N(424)),e),e=ug(t,e,r,n,o);break e}else for(st=Gn(e.stateNode.containerInfo.firstChild),lt=e,ue=!0,Pt=null,n=ob(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mo(),r===o){e=bn(t,e,n);break e}We(t,e,r,n)}e=e.child}return e;case 5:return ab(e),t===null&&kd(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,vd(r,o)?s=null:i!==null&&vd(r,i)&&(e.flags|=32),Bb(t,e),We(t,e,s,n),e.child;case 6:return t===null&&kd(e),null;case 13:return Ob(t,e,n);case 4:return uf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jo(e,null,r,n):We(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:_t(r,o),ag(t,e,r,o,n);case 7:return We(t,e,e.pendingProps,n),e.child;case 8:return We(t,e,e.pendingProps.children,n),e.child;case 12:return We(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,ie(al,r._currentValue),r._currentValue=s,i!==null)if(Rt(i.value,s)){if(i.children===o.children&&!Ze.current){e=bn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=hn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ed(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(N(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ed(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}We(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,_o(e,n),o=Et(o),r=r(o),e.flags|=1,We(t,e,r,n),e.child;case 14:return r=e.type,o=_t(r,e.pendingProps),o=_t(r.type,o),lg(t,e,r,o,n);case 15:return Ab(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:_t(r,o),Sa(t,e),e.tag=1,et(r)?(t=!0,ol(e)):t=!1,_o(e,n),_b(e,r,o),Cd(e,r,o,n),Id(null,e,r,!0,t,n);case 19:return Rb(t,e,n);case 22:return Nb(t,e,n)}throw Error(N(156,e.tag))};function Jb(t,e){return S0(t,e)}function jC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(t,e,n,r){return new jC(t,e,n,r)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DC(t){if(typeof t=="function")return Cf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hh)return 11;if(t===zh)return 14}return 2}function Qn(t,e){var n=t.alternate;return n===null?(n=xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _a(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")Cf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case so:return Or(n.children,o,i,e);case Vh:s=8,o|=8;break;case Yu:return t=xt(12,n,e,o|2),t.elementType=Yu,t.lanes=i,t;case Xu:return t=xt(13,n,e,o),t.elementType=Xu,t.lanes=i,t;case Ju:return t=xt(19,n,e,o),t.elementType=Ju,t.lanes=i,t;case a0:return ac(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case i0:s=10;break e;case s0:s=9;break e;case Hh:s=11;break e;case zh:s=14;break e;case Ln:s=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=xt(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Or(t,e,n,r){return t=xt(7,t,r,e),t.lanes=n,t}function ac(t,e,n,r){return t=xt(22,t,r,e),t.elementType=a0,t.lanes=n,t.stateNode={isHidden:!1},t}function hu(t,e,n){return t=xt(6,t,null,e),t.lanes=n,t}function fu(t,e,n){return e=xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FC(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qc(0),this.expirationTimes=qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Tf(t,e,n,r,o,i,s,a,l){return t=new FC(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cf(i),t}function $C(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qb(t){if(!t)return ir;t=t._reactInternals;e:{if(Kr(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(et(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(et(n))return Q0(t,n,e)}return e}function Zb(t,e,n,r,o,i,s,a,l){return t=Tf(n,r,!0,t,o,i,s,a,l),t.context=Qb(null),n=t.current,r=qe(),o=Jn(n),i=hn(r,o),i.callback=e??null,Yn(n,i,o),t.current.lanes=o,Es(t,o,r),tt(t,r),t}function lc(t,e,n,r){var o=e.current,i=qe(),s=Jn(o);return n=Qb(n),e.context===null?e.context=n:e.pendingContext=n,e=hn(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yn(o,e,s),t!==null&&(Nt(t,o,s,i),xa(t,o,s)),s}function vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _f(t,e){wg(t,e),(t=t.alternate)&&wg(t,e)}function UC(){return null}var e1=typeof reportError=="function"?reportError:function(t){console.error(t)};function If(t){this._internalRoot=t}cc.prototype.render=If.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));lc(t,e,null,null)};cc.prototype.unmount=If.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ur(function(){lc(null,t,null,null)}),e[vn]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var e=N0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mn.length&&e!==0&&e<Mn[n].priority;n++);Mn.splice(n,0,t),n===0&&L0(t)}};function Pf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xg(){}function VC(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=vl(s);i.call(c)}}var s=Zb(e,r,t,0,null,!1,!1,"",xg);return t._reactRootContainer=s,t[vn]=s.current,ns(t.nodeType===8?t.parentNode:t),Ur(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=vl(l);a.call(c)}}var l=Tf(t,0,!1,null,null,!1,!1,"",xg);return t._reactRootContainer=l,t[vn]=l.current,ns(t.nodeType===8?t.parentNode:t),Ur(function(){lc(e,l,n,r)}),l}function dc(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=vl(s);a.call(l)}}lc(e,s,t,o)}else s=VC(n,e,t,o,r);return vl(s)}P0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ti(e.pendingLanes);n!==0&&(qh(e,n|1),tt(e,xe()),!(J&6)&&($o=xe()+500,dr()))}break;case 13:Ur(function(){var r=yn(t,1);if(r!==null){var o=qe();Nt(r,t,1,o)}}),_f(t,1)}};Gh=function(t){if(t.tag===13){var e=yn(t,134217728);if(e!==null){var n=qe();Nt(e,t,134217728,n)}_f(t,134217728)}};A0=function(t){if(t.tag===13){var e=Jn(t),n=yn(t,e);if(n!==null){var r=qe();Nt(n,t,e,r)}_f(t,e)}};N0=function(){return re};B0=function(t,e){var n=re;try{return re=t,e()}finally{re=n}};ad=function(t,e,n){switch(e){case"input":if(ed(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=tc(r);if(!o)throw Error(N(90));c0(r),ed(r,o)}}}break;case"textarea":d0(t,n);break;case"select":e=n.value,e!=null&&Eo(t,!!n.multiple,e,!1)}};y0=kf;b0=Ur;var HC={usingClientEntryPoint:!1,Events:[Cs,uo,tc,g0,v0,kf]},gi={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zC={bundleType:gi.bundleType,version:gi.version,rendererPackageName:gi.rendererPackageName,rendererConfig:gi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=k0(t),t===null?null:t.stateNode},findFiberByHostInstance:gi.findFiberByHostInstance||UC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!aa.isDisabled&&aa.supportsFiber)try{Jl=aa.inject(zC),Ht=aa}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HC;pt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pf(e))throw Error(N(200));return $C(t,e,null,n)};pt.createRoot=function(t,e){if(!Pf(t))throw Error(N(299));var n=!1,r="",o=e1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Tf(t,1,!1,null,null,n,!1,r,o),t[vn]=e.current,ns(t.nodeType===8?t.parentNode:t),new If(e)};pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=k0(e),t=t===null?null:t.stateNode,t};pt.flushSync=function(t){return Ur(t)};pt.hydrate=function(t,e,n){if(!uc(e))throw Error(N(200));return dc(null,t,e,!0,n)};pt.hydrateRoot=function(t,e,n){if(!Pf(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=e1;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Zb(e,null,t,1,n??null,o,!1,i,s),t[vn]=e.current,ns(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new cc(e)};pt.render=function(t,e,n){if(!uc(e))throw Error(N(200));return dc(null,t,e,!1,n)};pt.unmountComponentAtNode=function(t){if(!uc(t))throw Error(N(40));return t._reactRootContainer?(Ur(function(){dc(null,null,t,!1,function(){t._reactRootContainer=null,t[vn]=null})}),!0):!1};pt.unstable_batchedUpdates=kf;pt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!uc(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return dc(t,e,n,!1,r)};pt.version="18.3.1-next-f1338f8080-20240426";function t1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t1)}catch(t){console.error(t)}}t1(),t0.exports=pt;var WC=t0.exports,kg=WC;qu.createRoot=kg.createRoot,qu.hydrateRoot=kg.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ds(){return ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ds.apply(this,arguments)}var zn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zn||(zn={}));const Eg="popstate";function KC(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return $d("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:yl(o)}return GC(e,n,null,t)}function me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function n1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qC(){return Math.random().toString(36).substr(2,8)}function Sg(t,e){return{usr:t.state,key:t.key,idx:e}}function $d(t,e,n,r){return n===void 0&&(n=null),ds({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qo(e):e,{state:n,key:e&&e.key||r||qC()})}function yl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function GC(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=zn.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(ds({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function u(){a=zn.Pop;let w=d(),b=w==null?null:w-c;c=w,l&&l({action:a,location:m.location,delta:b})}function h(w,b){a=zn.Push;let v=$d(m.location,w,b);n&&n(v,w),c=d()+1;let y=Sg(v,c),x=m.createHref(v);try{s.pushState(y,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(x)}i&&l&&l({action:a,location:m.location,delta:1})}function g(w,b){a=zn.Replace;let v=$d(m.location,w,b);n&&n(v,w),c=d();let y=Sg(v,c),x=m.createHref(v);s.replaceState(y,"",x),i&&l&&l({action:a,location:m.location,delta:0})}function p(w){let b=o.location.origin!=="null"?o.location.origin:o.location.href,v=typeof w=="string"?w:yl(w);return v=v.replace(/ $/,"%20"),me(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let m={get action(){return a},get location(){return t(o,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Eg,u),l=w,()=>{o.removeEventListener(Eg,u),l=null}},createHref(w){return e(o,w)},createURL:p,encodeLocation(w){let b=p(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:g,go(w){return s.go(w)}};return m}var Cg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cg||(Cg={}));function YC(t,e,n){return n===void 0&&(n="/"),XC(t,e,n,!1)}function XC(t,e,n,r){let o=typeof e=="string"?Qo(e):e,i=Uo(o.pathname||"/",n);if(i==null)return null;let s=r1(t);JC(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=lT(i);a=sT(s[l],c,r)}return a}function r1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(me(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Zn([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),r1(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:oT(c,i.index),routesMeta:d})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of o1(i.path))o(i,s,l)}),e}function o1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=o1(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function JC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QC=/^:[\w-]+$/,ZC=3,eT=2,tT=1,nT=10,rT=-2,Tg=t=>t==="*";function oT(t,e){let n=t.split("/"),r=n.length;return n.some(Tg)&&(r+=rT),e&&(r+=eT),n.filter(o=>!Tg(o)).reduce((o,i)=>o+(QC.test(i)?ZC:i===""?tT:nT),r)}function iT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function sT(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,o={},i="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",u=bl({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=bl({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:Zn([i,u.pathname]),pathnameBase:hT(Zn([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=Zn([i,u.pathnameBase]))}return s}function bl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aT(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,d,u)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let m=a[u]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[u];return g&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:t}}function aT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),n1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function lT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return n1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Uo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Qo(t):t;return{pathname:n?n.startsWith("/")?n:uT(n,e):e,search:fT(r),hash:pT(o)}}function uT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function pu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Af(t,e){let n=dT(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nf(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=Qo(t):(o=ds({},t),me(!o.pathname||!o.pathname.includes("?"),pu("?","pathname","search",o)),me(!o.pathname||!o.pathname.includes("#"),pu("#","pathname","hash",o)),me(!o.search||!o.search.includes("#"),pu("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let u=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),u-=1;o.pathname=h.join("/")}a=u>=0?e[u]:"/"}let l=cT(o,a),c=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Zn=t=>t.join("/").replace(/\/\/+/g,"/"),hT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const i1=["post","put","patch","delete"];new Set(i1);const gT=["get",...i1];new Set(gT);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hs.apply(this,arguments)}const hc=k.createContext(null),s1=k.createContext(null),Tn=k.createContext(null),fc=k.createContext(null),Yt=k.createContext({outlet:null,matches:[],isDataRoute:!1}),a1=k.createContext(null);function vT(t,e){let{relative:n}=e===void 0?{}:e;Zo()||me(!1);let{basename:r,navigator:o}=k.useContext(Tn),{hash:i,pathname:s,search:a}=pc(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Zn([r,s])),o.createHref({pathname:l,search:a,hash:i})}function Zo(){return k.useContext(fc)!=null}function qr(){return Zo()||me(!1),k.useContext(fc).location}function l1(t){k.useContext(Tn).static||k.useLayoutEffect(t)}function ei(){let{isDataRoute:t}=k.useContext(Yt);return t?BT():yT()}function yT(){Zo()||me(!1);let t=k.useContext(hc),{basename:e,future:n,navigator:r}=k.useContext(Tn),{matches:o}=k.useContext(Yt),{pathname:i}=qr(),s=JSON.stringify(Af(o,n.v7_relativeSplatPath)),a=k.useRef(!1);return l1(()=>{a.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let u=Nf(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Zn([e,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[e,r,s,i,t])}const bT=k.createContext(null);function wT(t){let e=k.useContext(Yt).outlet;return e&&k.createElement(bT.Provider,{value:t},e)}function ti(){let{matches:t}=k.useContext(Yt),e=t[t.length-1];return e?e.params:{}}function pc(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(Tn),{matches:o}=k.useContext(Yt),{pathname:i}=qr(),s=JSON.stringify(Af(o,r.v7_relativeSplatPath));return k.useMemo(()=>Nf(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function xT(t,e){return kT(t,e)}function kT(t,e,n,r){Zo()||me(!1);let{navigator:o}=k.useContext(Tn),{matches:i}=k.useContext(Yt),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=qr(),d;if(e){var u;let w=typeof e=="string"?Qo(e):e;l==="/"||(u=w.pathname)!=null&&u.startsWith(l)||me(!1),d=w}else d=c;let h=d.pathname||"/",g=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let p=YC(t,{pathname:g}),m=_T(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Zn([l,o.encodeLocation?o.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Zn([l,o.encodeLocation?o.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&m?k.createElement(fc.Provider,{value:{location:hs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:zn.Pop}},m):m}function ET(){let t=NT(),e=mT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,i)}const ST=k.createElement(ET,null);class CT extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Yt.Provider,{value:this.props.routeContext},k.createElement(a1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TT(t){let{routeContext:e,match:n,children:r}=t,o=k.useContext(hc);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Yt.Provider,{value:e},r)}function _T(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(o=n)==null?void 0:o.errors;if(a!=null){let d=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);d>=0||me(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let u=s[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:h,errors:g}=n,p=u.route.loader&&h[u.route.id]===void 0&&(!g||g[u.route.id]===void 0);if(u.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,u,h)=>{let g,p=!1,m=null,w=null;n&&(g=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||ST,l&&(c<0&&h===0?(LT("route-fallback",!1),p=!0,w=null):c===h&&(p=!0,w=u.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,h+1)),v=()=>{let y;return g?y=m:p?y=w:u.route.Component?y=k.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=d,k.createElement(TT,{match:u,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?k.createElement(CT,{location:n.location,revalidation:n.revalidation,component:m,error:g,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var c1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(c1||{}),wl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wl||{});function IT(t){let e=k.useContext(hc);return e||me(!1),e}function PT(t){let e=k.useContext(s1);return e||me(!1),e}function AT(t){let e=k.useContext(Yt);return e||me(!1),e}function u1(t){let e=AT(),n=e.matches[e.matches.length-1];return n.route.id||me(!1),n.route.id}function NT(){var t;let e=k.useContext(a1),n=PT(wl.UseRouteError),r=u1(wl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function BT(){let{router:t}=IT(c1.UseNavigateStable),e=u1(wl.UseNavigateStable),n=k.useRef(!1);return l1(()=>{n.current=!0}),k.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,hs({fromRouteId:e},i)))},[t,e])}const _g={};function LT(t,e,n){!e&&!_g[t]&&(_g[t]=!0)}function Bf(t){let{to:e,replace:n,state:r,relative:o}=t;Zo()||me(!1);let{future:i,static:s}=k.useContext(Tn),{matches:a}=k.useContext(Yt),{pathname:l}=qr(),c=ei(),d=Nf(e,Af(a,i.v7_relativeSplatPath),l,o==="path"),u=JSON.stringify(d);return k.useEffect(()=>c(JSON.parse(u),{replace:n,state:r,relative:o}),[c,u,o,n,r]),null}function d1(t){return wT(t.context)}function Be(t){me(!1)}function OT(t){let{basename:e="/",children:n=null,location:r,navigationType:o=zn.Pop,navigator:i,static:s=!1,future:a}=t;Zo()&&me(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:i,static:s,future:hs({v7_relativeSplatPath:!1},a)}),[l,a,i,s]);typeof r=="string"&&(r=Qo(r));let{pathname:d="/",search:u="",hash:h="",state:g=null,key:p="default"}=r,m=k.useMemo(()=>{let w=Uo(d,l);return w==null?null:{location:{pathname:w,search:u,hash:h,state:g,key:p},navigationType:o}},[l,d,u,h,g,p,o]);return m==null?null:k.createElement(Tn.Provider,{value:c},k.createElement(fc.Provider,{children:n,value:m}))}function RT(t){let{children:e,location:n}=t;return xT(Ud(e),n)}new Promise(()=>{});function Ud(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,o)=>{if(!k.isValidElement(r))return;let i=[...e,o];if(r.type===k.Fragment){n.push.apply(n,Ud(r.props.children,i));return}r.type!==Be&&me(!1),!r.props.index||!r.props.children||me(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ud(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(this,arguments)}function h1(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function MT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jT(t,e){return t.button===0&&(!e||e==="_self")&&!MT(t)}function Vd(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function DT(t,e){let n=Vd(t);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(i=>{n.append(o,i)})}),n}const FT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],$T=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],UT="6";try{window.__reactRouterVersion=UT}catch{}const VT=k.createContext({isTransitioning:!1}),HT="startTransition",Ig=OE[HT];function zT(t){let{basename:e,children:n,future:r,window:o}=t,i=k.useRef();i.current==null&&(i.current=KC({window:o,v5Compat:!0}));let s=i.current,[a,l]=k.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=k.useCallback(u=>{c&&Ig?Ig(()=>l(u)):l(u)},[l,c]);return k.useLayoutEffect(()=>s.listen(d),[s,d]),k.createElement(OT,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const WT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=k.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:u}=e,h=h1(e,FT),{basename:g}=k.useContext(Tn),p,m=!1;if(typeof c=="string"&&KT.test(c)&&(p=c,WT))try{let y=new URL(window.location.href),x=c.startsWith("//")?new URL(y.protocol+c):new URL(c),E=Uo(x.pathname,g);x.origin===y.origin&&E!=null?c=E+x.search+x.hash:m=!0}catch{}let w=vT(c,{relative:o}),b=GT(c,{replace:s,state:a,target:l,preventScrollReset:d,relative:o,unstable_viewTransition:u});function v(y){r&&r(y),y.defaultPrevented||b(y)}return k.createElement("a",xl({},h,{href:p||w,onClick:m||i?r:v,ref:n,target:l}))}),vi=k.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:i="",end:s=!1,style:a,to:l,unstable_viewTransition:c,children:d}=e,u=h1(e,$T),h=pc(l,{relative:u.relative}),g=qr(),p=k.useContext(s1),{navigator:m,basename:w}=k.useContext(Tn),b=p!=null&&XT(h)&&c===!0,v=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,y=g.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;o||(y=y.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&w&&(x=Uo(x,w)||x);const E=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let C=y===v||!s&&y.startsWith(v)&&y.charAt(E)==="/",_=x!=null&&(x===v||!s&&x.startsWith(v)&&x.charAt(v.length)==="/"),S={isActive:C,isPending:_,isTransitioning:b},T=C?r:void 0,P;typeof i=="function"?P=i(S):P=[i,C?"active":null,_?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(S):a;return k.createElement(ee,xl({},u,{"aria-current":T,className:P,ref:n,style:O,to:l,unstable_viewTransition:c}),typeof d=="function"?d(S):d)});var Hd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hd||(Hd={}));var Pg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Pg||(Pg={}));function qT(t){let e=k.useContext(hc);return e||me(!1),e}function GT(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=ei(),c=qr(),d=pc(t,{relative:s});return k.useCallback(u=>{if(jT(u,n)){u.preventDefault();let h=r!==void 0?r:yl(c)===yl(d);l(t,{replace:h,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:a})}},[c,l,d,r,o,n,t,i,s,a])}function YT(t){let e=k.useRef(Vd(t)),n=k.useRef(!1),r=qr(),o=k.useMemo(()=>DT(r.search,n.current?null:e.current),[r.search]),i=ei(),s=k.useCallback((a,l)=>{const c=Vd(typeof a=="function"?a(o):a);n.current=!0,i("?"+c,l)},[i,o]);return[o,s]}function XT(t,e){e===void 0&&(e={});let n=k.useContext(VT);n==null&&me(!1);let{basename:r}=qT(Hd.useViewTransitionState),o=pc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Uo(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Uo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bl(o.pathname,s)!=null||bl(o.pathname,i)!=null}const f1="/849e43cb-blogiflux-web/assets/logo-dark-abc6a8b5.png",p1="/849e43cb-blogiflux-web/assets/logo-light-e6149a06.png",m1=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),mc=k.createContext({}),Lf=k.createContext(null),gc=typeof document<"u",JT=gc?k.useLayoutEffect:k.useEffect,g1=k.createContext({strict:!1}),Of=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),QT="framerAppearId",v1="data-"+Of(QT);function ZT(t,e,n,r){const{visualElement:o}=k.useContext(mc),i=k.useContext(g1),s=k.useContext(Lf),a=k.useContext(m1).reducedMotion,l=k.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;k.useInsertionEffect(()=>{c&&c.update(n,s)});const d=k.useRef(!!(n[v1]&&!window.HandoffComplete));return JT(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),k.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function yo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function e_(t,e,n){return k.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):yo(n)&&(n.current=r))},[e])}function fs(t){return typeof t=="string"||Array.isArray(t)}function vc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Rf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mf=["initial",...Rf];function yc(t){return vc(t.animate)||Mf.some(e=>fs(t[e]))}function y1(t){return!!(yc(t)||t.variants)}function t_(t,e){if(yc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||fs(n)?n:void 0,animate:fs(r)?r:void 0}}return t.inherit!==!1?e:{}}function n_(t){const{initial:e,animate:n}=t_(t,k.useContext(mc));return k.useMemo(()=>({initial:e,animate:n}),[Ag(e),Ag(n)])}function Ag(t){return Array.isArray(t)?t.join(" "):t}const Ng={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ps={};for(const t in Ng)ps[t]={isEnabled:e=>Ng[t].some(n=>!!e[n])};function r_(t){for(const e in t)ps[e]={...ps[e],...t[e]}}const b1=k.createContext({}),w1=k.createContext({}),o_=Symbol.for("motionComponentSymbol");function i_({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&r_(t);function i(a,l){let c;const d={...k.useContext(m1),...a,layoutId:s_(a)},{isStatic:u}=d,h=n_(a),g=r(a,u);if(!u&&gc){h.visualElement=ZT(o,g,d,e);const p=k.useContext(w1),m=k.useContext(g1).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,m,t,p))}return k.createElement(mc.Provider,{value:h},c&&h.visualElement?k.createElement(c,{visualElement:h.visualElement,...d}):null,n(o,a,e_(g,h.visualElement,l),g,u,h.visualElement))}const s=k.forwardRef(i);return s[o_]=o,s}function s_({layoutId:t}){const e=k.useContext(b1).id;return e&&t!==void 0?e+"-"+t:t}function a_(t){function e(r,o={}){return i_(t(r,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const l_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jf(t){return typeof t!="string"||t.includes("-")?!1:!!(l_.indexOf(t)>-1||/[A-Z]/.test(t))}const kl={};function c_(t){Object.assign(kl,t)}const _s=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gr=new Set(_s);function x1(t,{layout:e,layoutId:n}){return Gr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!kl[t]||t==="opacity")}const nt=t=>!!(t&&t.getVelocity),u_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d_=_s.length;function h_(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<d_;s++){const a=_s[s];if(t[a]!==void 0){const l=u_[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(t,r?"":i):n&&r&&(i="none"),i}const k1=t=>e=>typeof e=="string"&&e.startsWith(t),E1=k1("--"),zd=k1("var(--"),f_=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,p_=(t,e)=>e&&typeof t=="number"?e.transform(t):t,sr=(t,e,n)=>Math.min(Math.max(n,t),e),Yr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vi={...Yr,transform:t=>sr(0,1,t)},la={...Yr,default:1},Hi=t=>Math.round(t*1e5)/1e5,bc=/(-)?([\d]*\.?[\d])+/g,S1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,m_=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Is(t){return typeof t=="string"}const Ps=t=>({test:e=>Is(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),An=Ps("deg"),Wt=Ps("%"),$=Ps("px"),g_=Ps("vh"),v_=Ps("vw"),Bg={...Wt,parse:t=>Wt.parse(t)/100,transform:t=>Wt.transform(t*100)},Lg={...Yr,transform:Math.round},C1={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,size:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,rotate:An,rotateX:An,rotateY:An,rotateZ:An,scale:la,scaleX:la,scaleY:la,scaleZ:la,skew:An,skewX:An,skewY:An,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Vi,originX:Bg,originY:Bg,originZ:$,zIndex:Lg,fillOpacity:Vi,strokeOpacity:Vi,numOctaves:Lg};function Df(t,e,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const u in e){const h=e[u];if(E1(u)){i[u]=h;continue}const g=C1[u],p=p_(h,g);if(Gr.has(u)){if(l=!0,s[u]=p,!d)continue;h!==(g.default||0)&&(d=!1)}else u.startsWith("origin")?(c=!0,a[u]=p):o[u]=p}if(e.transform||(l||r?o.transform=h_(t.transform,n,d,r):o.transform&&(o.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:g=0}=a;o.transformOrigin=`${u} ${h} ${g}`}}const Ff=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function T1(t,e,n){for(const r in e)!nt(e[r])&&!x1(r,n)&&(t[r]=e[r])}function y_({transformTemplate:t},e,n){return k.useMemo(()=>{const r=Ff();return Df(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function b_(t,e,n){const r=t.style||{},o={};return T1(o,r,t),Object.assign(o,y_(t,e,n)),t.transformValues?t.transformValues(o):o}function w_(t,e,n){const r={},o=b_(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const x_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function El(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||x_.has(t)}let _1=t=>!El(t);function k_(t){t&&(_1=e=>e.startsWith("on")?!El(e):t(e))}try{k_(require("@emotion/is-prop-valid").default)}catch{}function E_(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(_1(o)||n===!0&&El(o)||!e&&!El(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function Og(t,e,n){return typeof t=="string"?t:$.transform(e+n*t)}function S_(t,e,n){const r=Og(e,t.x,t.width),o=Og(n,t.y,t.height);return`${r} ${o}`}const C_={offset:"stroke-dashoffset",array:"stroke-dasharray"},T_={offset:"strokeDashoffset",array:"strokeDasharray"};function __(t,e,n=1,r=0,o=!0){t.pathLength=1;const i=o?C_:T_;t[i.offset]=$.transform(-r);const s=$.transform(e),a=$.transform(n);t[i.array]=`${s} ${a}`}function $f(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},d,u,h){if(Df(t,c,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:p,dimensions:m}=t;g.transform&&(m&&(p.transform=g.transform),delete g.transform),m&&(o!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=S_(m,o!==void 0?o:.5,i!==void 0?i:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&__(g,s,a,l,!1)}const I1=()=>({...Ff(),attrs:{}}),Uf=t=>typeof t=="string"&&t.toLowerCase()==="svg";function I_(t,e,n,r){const o=k.useMemo(()=>{const i=I1();return $f(i,e,{enableHardwareAcceleration:!1},Uf(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};T1(i,t.style,t),o.style={...i,...o.style}}return o}function P_(t=!1){return(n,r,o,{latestValues:i},s)=>{const l=(jf(n)?I_:w_)(r,i,s,n),d={...E_(r,typeof n=="string",t),...l,ref:o},{children:u}=r,h=k.useMemo(()=>nt(u)?u.get():u,[u]);return k.createElement(n,{...d,children:h})}}function P1(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const A1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function N1(t,e,n,r){P1(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(A1.has(o)?o:Of(o),e.attrs[o])}function Vf(t,e){const{style:n}=t,r={};for(const o in n)(nt(n[o])||e.style&&nt(e.style[o])||x1(o,t))&&(r[o]=n[o]);return r}function B1(t,e){const n=Vf(t,e);for(const r in t)if(nt(t[r])||nt(e[r])){const o=_s.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=t[r]}return n}function Hf(t,e,n,r={},o={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),e}function A_(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sl=t=>Array.isArray(t),N_=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),B_=t=>Sl(t)?t[t.length-1]||0:t;function Ia(t){const e=nt(t)?t.get():t;return N_(e)?e.toValue():e}function L_({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,i){const s={latestValues:O_(r,o,i,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const L1=t=>(e,n)=>{const r=k.useContext(mc),o=k.useContext(Lf),i=()=>L_(t,e,r,o);return n?i():A_(i)};function O_(t,e,n,r){const o={},i=r(t,{});for(const h in i)o[h]=Ia(i[h]);let{initial:s,animate:a}=t;const l=yc(t),c=y1(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const u=d?a:s;return u&&typeof u!="boolean"&&!vc(u)&&(Array.isArray(u)?u:[u]).forEach(g=>{const p=Hf(t,g);if(!p)return;const{transitionEnd:m,transition:w,...b}=p;for(const v in b){let y=b[v];if(Array.isArray(y)){const x=d?y.length-1:0;y=y[x]}y!==null&&(o[v]=y)}for(const v in m)o[v]=m[v]}),o}const be=t=>t;class Rg{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function R_(t){let e=new Rg,n=new Rg,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const u=d&&o,h=u?e:n;return c&&s.add(l),h.add(l)&&u&&o&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];d(l),s.has(d)&&(a.schedule(d),t())}o=!1,i&&(i=!1,a.process(l))}};return a}const ca=["prepare","read","update","preRender","render","postRender"],M_=40;function j_(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=ca.reduce((u,h)=>(u[h]=R_(()=>n=!0),u),{}),s=u=>i[u].process(o),a=()=>{const u=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(u-o.timestamp,M_),1),o.timestamp=u,o.isProcessing=!0,ca.forEach(s),o.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,o.isProcessing||t(a)};return{schedule:ca.reduce((u,h)=>{const g=i[h];return u[h]=(p,m=!1,w=!1)=>(n||l(),g.schedule(p,m,w)),u},{}),cancel:u=>ca.forEach(h=>i[h].cancel(u)),state:o,steps:i}}const{schedule:le,cancel:wn,state:Fe,steps:mu}=j_(typeof requestAnimationFrame<"u"?requestAnimationFrame:be,!0),D_={useVisualState:L1({scrapeMotionValuesFromProps:B1,createRenderState:I1,onMount:(t,e,{renderState:n,latestValues:r})=>{le.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),le.render(()=>{$f(n,r,{enableHardwareAcceleration:!1},Uf(e.tagName),t.transformTemplate),N1(e,n)})}})},F_={useVisualState:L1({scrapeMotionValuesFromProps:Vf,createRenderState:Ff})};function $_(t,{forwardMotionProps:e=!1},n,r){return{...jf(t)?D_:F_,preloadedFeatures:n,useRender:P_(e),createVisualElement:r,Component:t}}function on(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const O1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function wc(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const U_=t=>e=>O1(e)&&t(e,wc(e));function fn(t,e,n,r){return on(t,e,U_(n),r)}const V_=(t,e)=>n=>e(t(n)),er=(...t)=>t.reduce(V_);function R1(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Mg=R1("dragHorizontal"),jg=R1("dragVertical");function M1(t){let e=!1;if(t==="y")e=jg();else if(t==="x")e=Mg();else{const n=Mg(),r=jg();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function j1(){const t=M1(!0);return t?(t(),!1):!0}class hr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Dg(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),o=(i,s)=>{if(i.pointerType==="touch"||j1())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&le.update(()=>a[r](i,s))};return fn(t.current,n,o,{passive:!t.getProps()[r]})}class H_ extends hr{mount(){this.unmount=er(Dg(this.node,!0),Dg(this.node,!1))}unmount(){}}class z_ extends hr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=er(on(this.node.current,"focus",()=>this.onFocus()),on(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const D1=(t,e)=>e?t===e?!0:D1(t,e.parentElement):!1;function gu(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,wc(n))}class W_ extends hr{constructor(){super(...arguments),this.removeStartListeners=be,this.removeEndListeners=be,this.removeAccessibleListeners=be,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=fn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:u}=this.node.getProps();le.update(()=>{!u&&!D1(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=fn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=er(i,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||gu("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&le.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=on(this.node.current,"keyup",s),gu("down",(a,l)=>{this.startPress(a,l)})},n=on(this.node.current,"keydown",e),r=()=>{this.isPressing&&gu("cancel",(i,s)=>this.cancelPress(i,s))},o=on(this.node.current,"blur",r);this.removeAccessibleListeners=er(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&le.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!j1()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&le.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=fn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=on(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=er(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Wd=new WeakMap,vu=new WeakMap,K_=t=>{const e=Wd.get(t.target);e&&e(t)},q_=t=>{t.forEach(K_)};function G_({root:t,...e}){const n=t||document;vu.has(n)||vu.set(n,{});const r=vu.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(q_,{root:t,...e})),r[o]}function Y_(t,e,n){const r=G_(e);return Wd.set(t,n),r.observe(t),()=>{Wd.delete(t),r.unobserve(t)}}const X_={some:0,all:1};class J_ extends hr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:X_[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=c?d:u;h&&h(l)};return Y_(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Q_(e,n))&&this.startObserver()}unmount(){}}function Q_({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Z_={inView:{Feature:J_},tap:{Feature:W_},focus:{Feature:z_},hover:{Feature:H_}};function F1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function e2(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function t2(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function xc(t,e,n){const r=t.getProps();return Hf(r,e,n!==void 0?n:r.custom,e2(t),t2(t))}let n2=be,zf=be;const tr=t=>t*1e3,pn=t=>t/1e3,r2={current:!1},$1=t=>Array.isArray(t)&&typeof t[0]=="number";function U1(t){return!!(!t||typeof t=="string"&&V1[t]||$1(t)||Array.isArray(t)&&t.every(U1))}const Ii=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,V1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ii([0,.65,.55,1]),circOut:Ii([.55,0,1,.45]),backIn:Ii([.31,.01,.66,-.59]),backOut:Ii([.33,1.53,.69,.99])};function H1(t){if(t)return $1(t)?Ii(t):Array.isArray(t)?t.map(H1):V1[t]}function o2(t,e,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=H1(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function i2(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const z1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,s2=1e-7,a2=12;function l2(t,e,n,r,o){let i,s,a=0;do s=e+(n-e)/2,i=z1(s,r,o)-t,i>0?n=s:e=s;while(Math.abs(i)>s2&&++a<a2);return s}function As(t,e,n,r){if(t===e&&n===r)return be;const o=i=>l2(i,0,1,t,n);return i=>i===0||i===1?i:z1(o(i),e,r)}const c2=As(.42,0,1,1),u2=As(0,0,.58,1),W1=As(.42,0,.58,1),d2=t=>Array.isArray(t)&&typeof t[0]!="number",K1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,q1=t=>e=>1-t(1-e),Wf=t=>1-Math.sin(Math.acos(t)),G1=q1(Wf),h2=K1(Wf),Y1=As(.33,1.53,.69,.99),Kf=q1(Y1),f2=K1(Kf),p2=t=>(t*=2)<1?.5*Kf(t):.5*(2-Math.pow(2,-10*(t-1))),m2={linear:be,easeIn:c2,easeInOut:W1,easeOut:u2,circIn:Wf,circInOut:h2,circOut:G1,backIn:Kf,backInOut:f2,backOut:Y1,anticipate:p2},Fg=t=>{if(Array.isArray(t)){zf(t.length===4);const[e,n,r,o]=t;return As(e,n,r,o)}else if(typeof t=="string")return m2[t];return t},qf=(t,e)=>n=>!!(Is(n)&&m_.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),X1=(t,e,n)=>r=>{if(!Is(r))return r;const[o,i,s,a]=r.match(bc);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},g2=t=>sr(0,255,t),yu={...Yr,transform:t=>Math.round(g2(t))},Pr={test:qf("rgb","red"),parse:X1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+yu.transform(t)+", "+yu.transform(e)+", "+yu.transform(n)+", "+Hi(Vi.transform(r))+")"};function v2(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Kd={test:qf("#"),parse:v2,transform:Pr.transform},bo={test:qf("hsl","hue"),parse:X1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Wt.transform(Hi(e))+", "+Wt.transform(Hi(n))+", "+Hi(Vi.transform(r))+")"},ze={test:t=>Pr.test(t)||Kd.test(t)||bo.test(t),parse:t=>Pr.test(t)?Pr.parse(t):bo.test(t)?bo.parse(t):Kd.parse(t),transform:t=>Is(t)?t:t.hasOwnProperty("red")?Pr.transform(t):bo.transform(t)},he=(t,e,n)=>-n*t+n*e+t;function bu(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function y2({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,i=0,s=0;if(!e)o=i=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;o=bu(l,a,t+1/3),i=bu(l,a,t),s=bu(l,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const wu=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},b2=[Kd,Pr,bo],w2=t=>b2.find(e=>e.test(t));function $g(t){const e=w2(t);let n=e.parse(t);return e===bo&&(n=y2(n)),n}const J1=(t,e)=>{const n=$g(t),r=$g(e),o={...n};return i=>(o.red=wu(n.red,r.red,i),o.green=wu(n.green,r.green,i),o.blue=wu(n.blue,r.blue,i),o.alpha=he(n.alpha,r.alpha,i),Pr.transform(o))};function x2(t){var e,n;return isNaN(t)&&Is(t)&&(((e=t.match(bc))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(S1))===null||n===void 0?void 0:n.length)||0)>0}const Q1={regex:f_,countKey:"Vars",token:"${v}",parse:be},Z1={regex:S1,countKey:"Colors",token:"${c}",parse:ze.parse},ew={regex:bc,countKey:"Numbers",token:"${n}",parse:Yr.parse};function xu(t,{regex:e,countKey:n,token:r,parse:o}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(o)))}function Cl(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&xu(n,Q1),xu(n,Z1),xu(n,ew),n}function tw(t){return Cl(t).values}function nw(t){const{values:e,numColors:n,numVars:r,tokenised:o}=Cl(t),i=e.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace(Q1.token,s[l]):l<r+n?a=a.replace(Z1.token,ze.transform(s[l])):a=a.replace(ew.token,Hi(s[l]));return a}}const k2=t=>typeof t=="number"?0:t;function E2(t){const e=tw(t);return nw(t)(e.map(k2))}const ar={test:x2,parse:tw,createTransformer:nw,getAnimatableNone:E2},rw=(t,e)=>n=>`${n>0?e:t}`;function ow(t,e){return typeof t=="number"?n=>he(t,e,n):ze.test(t)?J1(t,e):t.startsWith("var(")?rw(t,e):sw(t,e)}const iw=(t,e)=>{const n=[...t],r=n.length,o=t.map((i,s)=>ow(i,e[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},S2=(t,e)=>{const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=ow(t[o],e[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},sw=(t,e)=>{const n=ar.createTransformer(e),r=Cl(t),o=Cl(e);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?er(iw(r.values,o.values),n):rw(t,e)},ms=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ug=(t,e)=>n=>he(t,e,n);function C2(t){return typeof t=="number"?Ug:typeof t=="string"?ze.test(t)?J1:sw:Array.isArray(t)?iw:typeof t=="object"?S2:Ug}function T2(t,e,n){const r=[],o=n||C2(t[0]),i=t.length-1;for(let s=0;s<i;s++){let a=o(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||be:e;a=er(l,a)}r.push(a)}return r}function aw(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const i=t.length;if(zf(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=T2(e,r,o),a=s.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const u=ms(t[d],t[d+1],c);return s[d](u)};return n?c=>l(sr(t[0],t[i-1],c)):l}function _2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=ms(0,e,r);t.push(he(n,1,o))}}function I2(t){const e=[0];return _2(e,t.length-1),e}function P2(t,e){return t.map(n=>n*e)}function A2(t,e){return t.map(()=>e||W1).splice(0,t.length-1)}function Tl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=d2(r)?r.map(Fg):Fg(r),i={done:!1,value:e[0]},s=P2(n&&n.length===e.length?n:I2(e),t),a=aw(s,e,{ease:Array.isArray(o)?o:A2(e,o)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function lw(t,e){return e?t*(1e3/e):0}const N2=5;function cw(t,e,n){const r=Math.max(e-N2,0);return lw(n-t(r),e-r)}const ku=.001,B2=.01,Vg=10,L2=.05,O2=1;function R2({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,i;n2(t<=tr(Vg));let s=1-e;s=sr(L2,O2,s),t=sr(B2,Vg,pn(t)),s<1?(o=c=>{const d=c*s,u=d*t,h=d-n,g=qd(c,s),p=Math.exp(-u);return ku-h/g*p},i=c=>{const u=c*s*t,h=u*n+n,g=Math.pow(s,2)*Math.pow(c,2)*t,p=Math.exp(-u),m=qd(Math.pow(c,2),s);return(-o(c)+ku>0?-1:1)*((h-g)*p)/m}):(o=c=>{const d=Math.exp(-c*t),u=(c-n)*t+1;return-ku+d*u},i=c=>{const d=Math.exp(-c*t),u=(n-c)*(t*t);return d*u});const a=5/t,l=j2(o,i,a);if(t=tr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const M2=12;function j2(t,e,n){let r=n;for(let o=1;o<M2;o++)r=r-t(r)/e(r);return r}function qd(t,e){return t*Math.sqrt(1-e*e)}const D2=["duration","bounce"],F2=["stiffness","damping","mass"];function Hg(t,e){return e.some(n=>t[n]!==void 0)}function $2(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Hg(t,F2)&&Hg(t,D2)){const n=R2(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function uw({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],i=t[t.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:c,duration:d,velocity:u,isResolvedFromDuration:h}=$2({...r,velocity:-pn(r.velocity||0)}),g=u||0,p=l/(2*Math.sqrt(a*c)),m=i-o,w=pn(Math.sqrt(a/c)),b=Math.abs(m)<5;n||(n=b?.01:2),e||(e=b?.005:.5);let v;if(p<1){const y=qd(w,p);v=x=>{const E=Math.exp(-p*w*x);return i-E*((g+p*w*m)/y*Math.sin(y*x)+m*Math.cos(y*x))}}else if(p===1)v=y=>i-Math.exp(-w*y)*(m+(g+w*m)*y);else{const y=w*Math.sqrt(p*p-1);v=x=>{const E=Math.exp(-p*w*x),C=Math.min(y*x,300);return i-E*((g+p*w*m)*Math.sinh(C)+y*m*Math.cosh(C))/y}}return{calculatedDuration:h&&d||null,next:y=>{const x=v(y);if(h)s.done=y>=d;else{let E=g;y!==0&&(p<1?E=cw(v,y,x):E=0);const C=Math.abs(E)<=n,_=Math.abs(i-x)<=e;s.done=C&&_}return s.value=s.done?i:x,s}}}function zg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=t[0],h={done:!1,value:u},g=S=>a!==void 0&&S<a||l!==void 0&&S>l,p=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let m=n*e;const w=u+m,b=s===void 0?w:s(w);b!==w&&(m=b-u);const v=S=>-m*Math.exp(-S/r),y=S=>b+v(S),x=S=>{const T=v(S),P=y(S);h.done=Math.abs(T)<=c,h.value=h.done?b:P};let E,C;const _=S=>{g(h.value)&&(E=S,C=uw({keyframes:[h.value,p(h.value)],velocity:cw(y,S,h.value),damping:o,stiffness:i,restDelta:c,restSpeed:d}))};return _(0),{calculatedDuration:null,next:S=>{let T=!1;return!C&&E===void 0&&(T=!0,x(S),_(S)),E!==void 0&&S>E?C.next(S-E):(!T&&x(S),h)}}}const U2=t=>{const e=({timestamp:n})=>t(n);return{start:()=>le.update(e,!0),stop:()=>wn(e),now:()=>Fe.isProcessing?Fe.timestamp:performance.now()}},Wg=2e4;function Kg(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Wg;)e+=n,r=t.next(e);return e>=Wg?1/0:e}const V2={decay:zg,inertia:zg,tween:Tl,keyframes:Tl,spring:uw};function _l({autoplay:t=!0,delay:e=0,driver:n=U2,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:u,...h}){let g=1,p=!1,m,w;const b=()=>{w=new Promise(F=>{m=F})};b();let v;const y=V2[o]||Tl;let x;y!==Tl&&typeof r[0]!="number"&&(x=aw([0,100],r,{clamp:!1}),r=[0,100]);const E=y({...h,keyframes:r});let C;a==="mirror"&&(C=y({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let _="idle",S=null,T=null,P=null;E.calculatedDuration===null&&i&&(E.calculatedDuration=Kg(E));const{calculatedDuration:O}=E;let L=1/0,R=1/0;O!==null&&(L=O+s,R=L*(i+1)-s);let j=0;const U=F=>{if(T===null)return;g>0&&(T=Math.min(T,F)),g<0&&(T=Math.min(F-R/g,T)),S!==null?j=S:j=Math.round(F-T)*g;const Q=j-e*(g>=0?1:-1),gr=g>=0?Q<0:Q>R;j=Math.max(Q,0),_==="finished"&&S===null&&(j=R);let jt=j,Qr=E;if(i){const Uc=Math.min(j,R)/L;let zs=Math.floor(Uc),yr=Uc%1;!yr&&Uc>=1&&(yr=1),yr===1&&zs--,zs=Math.min(zs,i+1),!!(zs%2)&&(a==="reverse"?(yr=1-yr,s&&(yr-=s/L)):a==="mirror"&&(Qr=C)),jt=sr(0,1,yr)*L}const rt=gr?{done:!1,value:r[0]}:Qr.next(jt);x&&(rt.value=x(rt.value));let{done:vr}=rt;!gr&&O!==null&&(vr=g>=0?j>=R:j<=0);const gE=S===null&&(_==="finished"||_==="running"&&vr);return u&&u(rt.value),gE&&B(),rt},q=()=>{v&&v.stop(),v=void 0},ke=()=>{_="idle",q(),m(),b(),T=P=null},B=()=>{_="finished",d&&d(),q(),m()},D=()=>{if(p)return;v||(v=n(U));const F=v.now();l&&l(),S!==null?T=F-S:(!T||_==="finished")&&(T=F),_==="finished"&&b(),P=T,S=null,_="running",v.start()};t&&D();const H={then(F,Q){return w.then(F,Q)},get time(){return pn(j)},set time(F){F=tr(F),j=F,S!==null||!v||g===0?S=F:T=v.now()-F/g},get duration(){const F=E.calculatedDuration===null?Kg(E):E.calculatedDuration;return pn(F)},get speed(){return g},set speed(F){F===g||!v||(g=F,H.time=pn(j))},get state(){return _},play:D,pause:()=>{_="paused",S=j},stop:()=>{p=!0,_!=="idle"&&(_="idle",c&&c(),ke())},cancel:()=>{P!==null&&U(P),ke()},complete:()=>{_="finished"},sample:F=>(T=0,U(F))};return H}function H2(t){let e;return()=>(e===void 0&&(e=t()),e)}const z2=H2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),W2=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ua=10,K2=2e4,q2=(t,e)=>e.type==="spring"||t==="backgroundColor"||!U1(e.ease);function G2(t,e,{onUpdate:n,onComplete:r,...o}){if(!(z2()&&W2.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const d=()=>{l=new Promise(y=>{a=y})};d();let{keyframes:u,duration:h=300,ease:g,times:p}=o;if(q2(e,o)){const y=_l({...o,repeat:0,delay:0});let x={done:!1,value:u[0]};const E=[];let C=0;for(;!x.done&&C<K2;)x=y.sample(C),E.push(x.value),C+=ua;p=void 0,u=E,h=C-ua,g="linear"}const m=o2(t.owner.current,e,u,{...o,duration:h,ease:g,times:p}),w=()=>{c=!1,m.cancel()},b=()=>{c=!0,le.update(w),a(),d()};return m.onfinish=()=>{c||(t.set(i2(u,o)),r&&r(),b())},{then(y,x){return l.then(y,x)},attachTimeline(y){return m.timeline=y,m.onfinish=null,be},get time(){return pn(m.currentTime||0)},set time(y){m.currentTime=tr(y)},get speed(){return m.playbackRate},set speed(y){m.playbackRate=y},get duration(){return pn(h)},play:()=>{s||(m.play(),wn(w))},pause:()=>m.pause(),stop:()=>{if(s=!0,m.playState==="idle")return;const{currentTime:y}=m;if(y){const x=_l({...o,autoplay:!1});t.setWithVelocity(x.sample(y-ua).value,x.sample(y).value,ua)}b()},complete:()=>{c||m.finish()},cancel:b}}function Y2({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const o=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:be,pause:be,stop:be,then:i=>(i(),Promise.resolve()),cancel:be,complete:be});return e?_l({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const X2={type:"spring",stiffness:500,damping:25,restSpeed:10},J2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Q2={type:"keyframes",duration:.8},Z2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eI=(t,{keyframes:e})=>e.length>2?Q2:Gr.has(t)?t.startsWith("scale")?J2(e[1]):X2:Z2,Gd=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ar.test(e)||e==="0")&&!e.startsWith("url(")),tI=new Set(["brightness","contrast","saturate","opacity"]);function nI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bc)||[];if(!r)return t;const o=n.replace(r,"");let i=tI.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+o+")"}const rI=/([a-z-]*)\(.*?\)/g,Yd={...ar,getAnimatableNone:t=>{const e=t.match(rI);return e?e.map(nI).join(" "):t}},oI={...C1,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:Yd,WebkitFilter:Yd},Gf=t=>oI[t];function dw(t,e){let n=Gf(t);return n!==Yd&&(n=ar),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hw=t=>/^0[^.\s]+$/.test(t);function iI(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||hw(t)}function sI(t,e,n,r){const o=Gd(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?s:i[c-1]),iI(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];i[d]=dw(e,a)}return i}function aI({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function Yf(t,e){return t[e]||t.default||t}const lI={skipAnimations:!1},Xf=(t,e,n,r={})=>o=>{const i=Yf(r,t)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-tr(s);const l=sI(e,t,n,i),c=l[0],d=l[l.length-1],u=Gd(t,c),h=Gd(t,d);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:p=>{e.set(p),i.onUpdate&&i.onUpdate(p)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(aI(i)||(g={...g,...eI(t,g)}),g.duration&&(g.duration=tr(g.duration)),g.repeatDelay&&(g.repeatDelay=tr(g.repeatDelay)),!u||!h||r2.current||i.type===!1||lI.skipAnimations)return Y2(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=G2(e,t,g);if(p)return p}return _l(g)};function Il(t){return!!(nt(t)&&t.add)}const fw=t=>/^\-?\d*\.?\d+$/.test(t);function Jf(t,e){t.indexOf(e)===-1&&t.push(e)}function Qf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Zf{constructor(){this.subscriptions=[]}add(e){return Jf(this.subscriptions,e),()=>Qf(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cI=t=>!isNaN(parseFloat(t));class uI{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Fe;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,le.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>le.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=cI(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zf);const r=this.events[e].add(n);return e==="change"?()=>{r(),le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?lw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vo(t,e){return new uI(t,e)}const pw=t=>e=>e.test(t),dI={test:t=>t==="auto",parse:t=>t},mw=[Yr,$,Wt,An,v_,g_,dI],yi=t=>mw.find(pw(t)),hI=[...mw,ze,ar],fI=t=>hI.find(pw(t));function pI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vo(n))}function mI(t,e){const n=xc(t,e);let{transitionEnd:r={},transition:o={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=B_(i[s]);pI(t,s,a)}}function gI(t,e,n){var r,o;const i=Object.keys(e).filter(a=>!t.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(o=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&o!==void 0?o:e[l]),d!=null&&(typeof d=="string"&&(fw(d)||hw(d))?d=parseFloat(d):!fI(d)&&ar.test(c)&&(d=dw(l,c)),t.addValue(l,Vo(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function vI(t,e){return e?(e[t]||e.default||e).from:void 0}function yI(t,e,n){const r={};for(const o in t){const i=vI(o,e);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function bI({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function wI(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function gw(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],d=o&&t.animationState&&t.animationState.getState()[o];for(const u in a){const h=t.getValue(u),g=a[u];if(!h||g===void 0||d&&bI(d,u))continue;const p={delay:n,elapsed:0,...Yf(i||{},u)};if(window.HandoffAppearAnimations){const b=t.getProps()[v1];if(b){const v=window.HandoffAppearAnimations(b,u,h,le);v!==null&&(p.elapsed=v,p.isHandoff=!0)}}let m=!p.isHandoff&&!wI(h,g);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(m=!1),h.animation&&(m=!1),m)continue;h.start(Xf(u,h,g,t.shouldReduceMotion&&Gr.has(u)?{type:!1}:p));const w=h.animation;Il(l)&&(l.add(u),w.then(()=>l.remove(u))),c.push(w)}return s&&Promise.all(c).then(()=>{s&&mI(t,s)}),c}function Xd(t,e,n={}){const r=xc(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(gw(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:u}=o;return xI(t,e,c+l,d,u,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,c]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>c())}else return Promise.all([i(),s(n.delay)])}function xI(t,e,n=0,r=0,o=1,i){const s=[],a=(t.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(kI).forEach((c,d)=>{c.notify("AnimationStart",e),s.push(Xd(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function kI(t,e){return t.sortNodePosition(e)}function EI(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(i=>Xd(t,i,n));r=Promise.all(o)}else if(typeof e=="string")r=Xd(t,e,n);else{const o=typeof e=="function"?xc(t,e,n.custom):e;r=Promise.all(gw(t,o,n))}return r.then(()=>t.notify("AnimationComplete",e))}const SI=[...Rf].reverse(),CI=Rf.length;function TI(t){return e=>Promise.all(e.map(({animation:n,options:r})=>EI(t,n,r)))}function _I(t){let e=TI(t);const n=PI();let r=!0;const o=(l,c)=>{const d=xc(t,c);if(d){const{transition:u,transitionEnd:h,...g}=d;l={...l,...g,...h}}return l};function i(l){e=l(t)}function s(l,c){const d=t.getProps(),u=t.getVariantContext(!0)||{},h=[],g=new Set;let p={},m=1/0;for(let b=0;b<CI;b++){const v=SI[b],y=n[v],x=d[v]!==void 0?d[v]:u[v],E=fs(x),C=v===c?y.isActive:null;C===!1&&(m=b);let _=x===u[v]&&x!==d[v]&&E;if(_&&r&&t.manuallyAnimateOnMount&&(_=!1),y.protectedKeys={...p},!y.isActive&&C===null||!x&&!y.prevProp||vc(x)||typeof x=="boolean")continue;let T=II(y.prevProp,x)||v===c&&y.isActive&&!_&&E||b>m&&E,P=!1;const O=Array.isArray(x)?x:[x];let L=O.reduce(o,{});C===!1&&(L={});const{prevResolvedValues:R={}}=y,j={...R,...L},U=q=>{T=!0,g.has(q)&&(P=!0,g.delete(q)),y.needsAnimating[q]=!0};for(const q in j){const ke=L[q],B=R[q];if(p.hasOwnProperty(q))continue;let D=!1;Sl(ke)&&Sl(B)?D=!F1(ke,B):D=ke!==B,D?ke!==void 0?U(q):g.add(q):ke!==void 0&&g.has(q)?U(q):y.protectedKeys[q]=!0}y.prevProp=x,y.prevResolvedValues=L,y.isActive&&(p={...p,...L}),r&&t.blockInitialAnimation&&(T=!1),T&&(!_||P)&&h.push(...O.map(q=>({animation:q,options:{type:v,...l}})))}if(g.size){const b={};g.forEach(v=>{const y=t.getBaseTarget(v);y!==void 0&&(b[v]=y)}),h.push({animation:b})}let w=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,c,d){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(g=>{var p;return(p=g.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=s(d,l);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function II(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!F1(e,t):!1}function br(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function PI(){return{animate:br(!0),whileInView:br(),whileHover:br(),whileTap:br(),whileDrag:br(),whileFocus:br(),exit:br()}}class AI extends hr{constructor(e){super(e),e.animationState||(e.animationState=_I(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),vc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let NI=0;class BI extends hr{constructor(){super(...arguments),this.id=NI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const LI={animation:{Feature:AI},exit:{Feature:BI}},qg=(t,e)=>Math.abs(t-e);function OI(t,e){const n=qg(t.x,e.x),r=qg(t.y,e.y);return Math.sqrt(n**2+r**2)}class vw{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Su(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=OI(u.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:p}=u,{timestamp:m}=Fe;this.history.push({...p,timestamp:m});const{onStart:w,onMove:b}=this.handlers;h||(w&&w(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Eu(h,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:g,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Su(u.type==="pointercancel"?this.lastMoveEventInfo:Eu(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(u,w),p&&p(u,w)},!O1(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const s=wc(e),a=Eu(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=Fe;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Su(a,this.history)),this.removeListeners=er(fn(this.contextWindow,"pointermove",this.handlePointerMove),fn(this.contextWindow,"pointerup",this.handlePointerUp),fn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wn(this.updatePoint)}}function Eu(t,e){return e?{point:e(t.point)}:t}function Gg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Su({point:t},e){return{point:t,delta:Gg(t,yw(e)),offset:Gg(t,RI(e)),velocity:MI(e,.1)}}function RI(t){return t[0]}function yw(t){return t[t.length-1]}function MI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=yw(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>tr(e)));)n--;if(!r)return{x:0,y:0};const i=pn(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ft(t){return t.max-t.min}function Jd(t,e=0,n=.01){return Math.abs(t-e)<=n}function Yg(t,e,n,r=.5){t.origin=r,t.originPoint=he(e.min,e.max,t.origin),t.scale=ft(n)/ft(e),(Jd(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=he(n.min,n.max,t.origin)-t.originPoint,(Jd(t.translate)||isNaN(t.translate))&&(t.translate=0)}function zi(t,e,n,r){Yg(t.x,e.x,n.x,r?r.originX:void 0),Yg(t.y,e.y,n.y,r?r.originY:void 0)}function Xg(t,e,n){t.min=n.min+e.min,t.max=t.min+ft(e)}function jI(t,e,n){Xg(t.x,e.x,n.x),Xg(t.y,e.y,n.y)}function Jg(t,e,n){t.min=e.min-n.min,t.max=t.min+ft(e)}function Wi(t,e,n){Jg(t.x,e.x,n.x),Jg(t.y,e.y,n.y)}function DI(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?he(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?he(n,t,r.max):Math.min(t,n)),t}function Qg(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function FI(t,{top:e,left:n,bottom:r,right:o}){return{x:Qg(t.x,n,o),y:Qg(t.y,e,r)}}function Zg(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function $I(t,e){return{x:Zg(t.x,e.x),y:Zg(t.y,e.y)}}function UI(t,e){let n=.5;const r=ft(t),o=ft(e);return o>r?n=ms(e.min,e.max-r,t.min):r>o&&(n=ms(t.min,t.max-o,e.min)),sr(0,1,n)}function VI(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Qd=.35;function HI(t=Qd){return t===!1?t=0:t===!0&&(t=Qd),{x:ev(t,"left","right"),y:ev(t,"top","bottom")}}function ev(t,e,n){return{min:tv(t,e),max:tv(t,n)}}function tv(t,e){return typeof t=="number"?t:t[e]||0}const nv=()=>({translate:0,scale:1,origin:0,originPoint:0}),wo=()=>({x:nv(),y:nv()}),rv=()=>({min:0,max:0}),Ee=()=>({x:rv(),y:rv()});function vt(t){return[t("x"),t("y")]}function bw({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function zI({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WI(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Cu(t){return t===void 0||t===1}function Zd({scale:t,scaleX:e,scaleY:n}){return!Cu(t)||!Cu(e)||!Cu(n)}function kr(t){return Zd(t)||ww(t)||t.z||t.rotate||t.rotateX||t.rotateY}function ww(t){return ov(t.x)||ov(t.y)}function ov(t){return t&&t!=="0%"}function Pl(t,e,n){const r=t-n,o=e*r;return n+o}function iv(t,e,n,r,o){return o!==void 0&&(t=Pl(t,o,r)),Pl(t,n,r)+e}function eh(t,e=0,n=1,r,o){t.min=iv(t.min,e,n,r,o),t.max=iv(t.max,e,n,r,o)}function xw(t,{x:e,y:n}){eh(t.x,e.translate,e.scale,e.originPoint),eh(t.y,n.translate,n.scale,n.originPoint)}function KI(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&xo(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,xw(t,s)),r&&kr(i.latestValues)&&xo(t,i.latestValues))}e.x=sv(e.x),e.y=sv(e.y)}function sv(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Rn(t,e){t.min=t.min+e,t.max=t.max+e}function av(t,e,[n,r,o]){const i=e[o]!==void 0?e[o]:.5,s=he(t.min,t.max,i);eh(t,e[n],e[r],s,e.scale)}const qI=["x","scaleX","originX"],GI=["y","scaleY","originY"];function xo(t,e){av(t.x,e,qI),av(t.y,e,GI)}function kw(t,e){return bw(WI(t.getBoundingClientRect(),e))}function YI(t,e,n){const r=kw(t,n),{scroll:o}=e;return o&&(Rn(r.x,o.offset.x),Rn(r.y,o.offset.y)),r}const Ew=({current:t})=>t?t.ownerDocument.defaultView:null,XI=new WeakMap;class JI{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wc(d,"page").point)},i=(d,u)=>{const{drag:h,dragPropagation:g,onDragStart:p}=this.getProps();if(h&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=M1(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vt(w=>{let b=this.getAxisMotionValue(w).get()||0;if(Wt.test(b)){const{projection:v}=this.visualElement;if(v&&v.layout){const y=v.layout.layoutBox[w];y&&(b=ft(y)*(parseFloat(b)/100))}}this.originPoint[w]=b}),p&&le.update(()=>p(d,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(d,u)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:p,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:w}=u;if(g&&this.currentDirection===null){this.currentDirection=QI(w),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,w),this.updateAxis("y",u.point,w),this.visualElement.render(),m&&m(d,u)},a=(d,u)=>this.stop(d,u),l=()=>vt(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new vw(e,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Ew(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&le.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!da(e,o,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=DI(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&yo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=FI(o.layoutBox,n):this.constraints=!1,this.elastic=HI(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&vt(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=VI(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yo(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=YI(r,o.root,this.visualElement.getTransformPagePoint());let s=$I(o.layout.layoutBox,i);if(n){const a=n(zI(s));this.hasMutatedConstraints=!!a,a&&(s=bw(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=vt(d=>{if(!da(d,n,this.currentDirection))return;let u=l&&l[d]||{};s&&(u={min:0,max:0});const h=o?200:1e6,g=o?40:1e7,p={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...u};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Xf(e,r,0,n))}stopAnimation(){vt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vt(n=>{const{drag:r}=this.getProps();if(!da(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(e[n]-he(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yo(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};vt(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=UI({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vt(s=>{if(!da(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(he(l,c,o[s]))})}addListeners(){if(!this.visualElement.current)return;XI.set(this.visualElement,this);const e=this.visualElement.current,n=fn(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();yo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=on(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(vt(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=Qd,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function da(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function QI(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ZI extends hr{constructor(e){super(e),this.removeGroupControls=be,this.removeListeners=be,this.controls=new JI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||be}unmount(){this.removeGroupControls(),this.removeListeners()}}const lv=t=>(e,n)=>{t&&le.update(()=>t(e,n))};class eP extends hr{constructor(){super(...arguments),this.removePointerDownListener=be}onPointerDown(e){this.session=new vw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ew(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:lv(e),onStart:lv(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&le.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=fn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function tP(){const t=k.useContext(Lf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=k.useId();return k.useEffect(()=>r(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const Pa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($.test(t))t=parseFloat(t);else return t;const n=cv(t,e.target.x),r=cv(t,e.target.y);return`${n}% ${r}%`}},nP={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=ar.parse(t);if(o.length>5)return r;const i=ar.createTransformer(t),s=typeof o[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;o[0+s]/=a,o[1+s]/=l;const c=he(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=c),typeof o[3+s]=="number"&&(o[3+s]/=c),i(o)}};class rP extends Dh.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=e;c_(oP),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Pa.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||le.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Sw(t){const[e,n]=tP(),r=k.useContext(b1);return Dh.createElement(rP,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(w1),isPresent:e,safeToRemove:n})}const oP={borderRadius:{...bi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bi,borderTopRightRadius:bi,borderBottomLeftRadius:bi,borderBottomRightRadius:bi,boxShadow:nP},Cw=["TopLeft","TopRight","BottomLeft","BottomRight"],iP=Cw.length,uv=t=>typeof t=="string"?parseFloat(t):t,dv=t=>typeof t=="number"||$.test(t);function sP(t,e,n,r,o,i){o?(t.opacity=he(0,n.opacity!==void 0?n.opacity:1,aP(r)),t.opacityExit=he(e.opacity!==void 0?e.opacity:1,0,lP(r))):i&&(t.opacity=he(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<iP;s++){const a=`border${Cw[s]}Radius`;let l=hv(e,a),c=hv(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||dv(l)===dv(c)?(t[a]=Math.max(he(uv(l),uv(c),r),0),(Wt.test(c)||Wt.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=he(e.rotate||0,n.rotate||0,r))}function hv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const aP=Tw(0,.5,G1),lP=Tw(.5,.95,be);function Tw(t,e,n){return r=>r<t?0:r>e?1:n(ms(t,e,r))}function fv(t,e){t.min=e.min,t.max=e.max}function gt(t,e){fv(t.x,e.x),fv(t.y,e.y)}function pv(t,e,n,r,o){return t-=e,t=Pl(t,1/n,r),o!==void 0&&(t=Pl(t,1/o,r)),t}function cP(t,e=0,n=1,r=.5,o,i=t,s=t){if(Wt.test(e)&&(e=parseFloat(e),e=he(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=he(i.min,i.max,r);t===i&&(a-=e),t.min=pv(t.min,e,n,a,o),t.max=pv(t.max,e,n,a,o)}function mv(t,e,[n,r,o],i,s){cP(t,e[n],e[r],e[o],e.scale,i,s)}const uP=["x","scaleX","originX"],dP=["y","scaleY","originY"];function gv(t,e,n,r){mv(t.x,e,uP,n?n.x:void 0,r?r.x:void 0),mv(t.y,e,dP,n?n.y:void 0,r?r.y:void 0)}function vv(t){return t.translate===0&&t.scale===1}function _w(t){return vv(t.x)&&vv(t.y)}function hP(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Iw(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function yv(t){return ft(t.x)/ft(t.y)}class fP{constructor(){this.members=[]}add(e){Jf(this.members,e),e.scheduleRender()}remove(e){if(Qf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bv(t,e,n){let r="";const o=t.x.translate/e.x,i=t.y.translate/e.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const pP=(t,e)=>t.depth-e.depth;class mP{constructor(){this.children=[],this.isDirty=!1}add(e){Jf(this.children,e),this.isDirty=!0}remove(e){Qf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pP),this.isDirty=!1,this.children.forEach(e)}}function gP(t,e){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=e&&(wn(r),t(i-e))};return le.read(r,!0),()=>wn(r)}function vP(t){window.MotionDebug&&window.MotionDebug.record(t)}function yP(t){return t instanceof SVGElement&&t.tagName!=="svg"}function bP(t,e,n){const r=nt(t)?t:Vo(t);return r.start(Xf("",r,e,n)),r.animation}const wv=["","X","Y","Z"],wP={visibility:"hidden"},xv=1e3;let xP=0;const Er={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Pw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=e==null?void 0:e()){this.id=xP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Er.totalNodes=Er.resolvedTargetDeltas=Er.recalculatedProjection=0,this.nodes.forEach(SP),this.nodes.forEach(PP),this.nodes.forEach(AP),this.nodes.forEach(CP),vP(Er)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new mP)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Zf),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yP(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let u;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=gP(h,250),Pa.hasAnimatedSinceResize&&(Pa.hasAnimatedSinceResize=!1,this.nodes.forEach(Ev))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||RP,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=d.getProps(),v=!this.targetLayout||!Iw(this.targetLayout,p)||g,y=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,y);const x={...Yf(m,"layout"),onPlay:w,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else h||Ev(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NP),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kv);return}this.isUpdating||this.nodes.forEach(_P),this.isUpdating=!1,this.nodes.forEach(IP),this.nodes.forEach(kP),this.nodes.forEach(EP),this.clearAllSnapshots();const a=performance.now();Fe.delta=sr(0,1e3/60,a-Fe.timestamp),Fe.timestamp=a,Fe.isProcessing=!0,mu.update.process(Fe),mu.preRender.process(Fe),mu.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(TP),this.sharedNodes.forEach(BP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!_w(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(a||kr(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),MP(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ee();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Rn(a.x,l.offset.x),Rn(a.y,l.offset.y)),a}removeElementScroll(s){const a=Ee();gt(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:u}=c;if(c!==this.root&&d&&u.layoutScroll){if(d.isRoot){gt(a,s);const{scroll:h}=this.root;h&&(Rn(a.x,-h.offset.x),Rn(a.y,-h.offset.y))}Rn(a.x,d.offset.x),Rn(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const l=Ee();gt(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),kr(d.latestValues)&&xo(l,d.latestValues)}return kr(this.latestValues)&&xo(l,this.latestValues),l}removeTransform(s){const a=Ee();gt(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!kr(c.latestValues))continue;Zd(c.latestValues)&&c.updateSnapshot();const d=Ee(),u=c.measurePageBox();gt(d,u),gv(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return kr(this.latestValues)&&gv(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Fe.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Wi(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gt(this.target,this.layout.layoutBox),xw(this.target,this.targetDelta)):gt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Wi(this.relativeTargetOrigin,this.target,g.target),gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Er.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zd(this.parent.latestValues)||ww(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;gt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;KI(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=wo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=wo(),this.projectionDeltaWithTransform=wo());const m=this.projectionTransform;zi(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=bv(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Er.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=wo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ee(),g=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=g!==p,w=this.getStack(),b=!w||w.members.length<=1,v=!!(m&&!b&&this.options.crossfade===!0&&!this.path.some(OP));this.animationProgress=0;let y;this.mixTargetDelta=x=>{const E=x/1e3;Sv(u.x,s.x,E),Sv(u.y,s.y,E),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LP(this.relativeTarget,this.relativeTargetOrigin,h,E),y&&hP(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Ee()),gt(y,this.relativeTarget)),m&&(this.animationValues=d,sP(d,c,this.latestValues,E,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{Pa.hasAnimatedSinceResize=!0,this.currentAnimation=bP(0,xv,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&Aw(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ee();const u=ft(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+u;const h=ft(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}gt(a,l),xo(a,d),zi(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new fP),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<wv.length;d++){const u="rotate"+wv[d];l[u]&&(c[u]=l[u],s.setStaticValue(u,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return wP;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ia(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Ia(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!kr(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=bv(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:g,y:p}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${p.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in kl){if(h[m]===void 0)continue;const{correct:w,applyTo:b}=kl[m],v=c.transform==="none"?h[m]:w(h[m],u);if(b){const y=b.length;for(let x=0;x<y;x++)c[b[x]]=v}else c[m]=v}return this.options.layoutId&&(c.pointerEvents=u===this?Ia(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(kv),this.root.sharedNodes.clear()}}}function kP(t){t.updateLayout()}function EP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:i}=t.options,s=n.source!==t.layout.source;i==="size"?vt(u=>{const h=s?n.measuredBox[u]:n.layoutBox[u],g=ft(h);h.min=r[u].min,h.max=h.min+g}):Aw(i,n.layoutBox,r)&&vt(u=>{const h=s?n.measuredBox[u]:n.layoutBox[u],g=ft(r[u]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+g)});const a=wo();zi(a,r,n.layoutBox);const l=wo();s?zi(l,t.applyTransform(o,!0),n.measuredBox):zi(l,r,n.layoutBox);const c=!_w(a);let d=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:g}=u;if(h&&g){const p=Ee();Wi(p,n.layoutBox,h.layoutBox);const m=Ee();Wi(m,r,g.layoutBox),Iw(p,m)||(d=!0),u.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function SP(t){Er.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function CP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function TP(t){t.clearSnapshot()}function kv(t){t.clearMeasurements()}function _P(t){t.isLayoutDirty=!1}function IP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ev(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function PP(t){t.resolveTargetDelta()}function AP(t){t.calcProjection()}function NP(t){t.resetRotation()}function BP(t){t.removeLeadSnapshot()}function Sv(t,e,n){t.translate=he(e.translate,0,n),t.scale=he(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Cv(t,e,n,r){t.min=he(e.min,n.min,r),t.max=he(e.max,n.max,r)}function LP(t,e,n,r){Cv(t.x,e.x,n.x,r),Cv(t.y,e.y,n.y,r)}function OP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const RP={duration:.45,ease:[.4,0,.1,1]},Tv=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),_v=Tv("applewebkit/")&&!Tv("chrome/")?Math.round:be;function Iv(t){t.min=_v(t.min),t.max=_v(t.max)}function MP(t){Iv(t.x),Iv(t.y)}function Aw(t,e,n){return t==="position"||t==="preserve-aspect"&&!Jd(yv(e),yv(n),.2)}const jP=Pw({attachResizeListener:(t,e)=>on(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tu={current:void 0},Nw=Pw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tu.current){const t=new jP({});t.mount(window),t.setOptions({layoutScroll:!0}),Tu.current=t}return Tu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),DP={pan:{Feature:eP},drag:{Feature:ZI,ProjectionNode:Nw,MeasureLayout:Sw}},FP=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $P(t){const e=FP.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function th(t,e,n=1){const[r,o]=$P(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const s=i.trim();return fw(s)?parseFloat(s):s}else return zd(o)?th(o,e,n+1):o}function UP(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(o=>{const i=o.get();if(!zd(i))return;const s=th(i,r);s&&o.set(s)});for(const o in e){const i=e[o];if(!zd(i))continue;const s=th(i,r);s&&(e[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:e,transitionEnd:n}}const VP=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Bw=t=>VP.has(t),HP=t=>Object.keys(t).some(Bw),Pv=t=>t===Yr||t===$,Av=(t,e)=>parseFloat(t.split(", ")[e]),Nv=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Av(o[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?Av(i[1],t):0}},zP=new Set(["x","y","z"]),WP=_s.filter(t=>!zP.has(t));function KP(t){const e=[];return WP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ho={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Nv(4,13),y:Nv(5,14)};Ho.translateX=Ho.x;Ho.translateY=Ho.y;const qP=(t,e,n)=>{const r=e.measureViewportBox(),o=e.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Ho[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),t[c]=Ho[c](l,i)}),t},GP=(t,e,n={},r={})=>{e={...e},r={...r};const o=Object.keys(e).filter(Bw);let i=[],s=!1;const a=[];if(o.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],u=yi(d);const h=e[l];let g;if(Sl(h)){const p=h.length,m=h[0]===null?1:0;d=h[m],u=yi(d);for(let w=m;w<p&&h[w]!==null;w++)g?zf(yi(h[w])===g):g=yi(h[w])}else g=yi(h);if(u!==g)if(Pv(u)&&Pv(g)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&g===$&&(e[l]=h.map(parseFloat))}else u!=null&&u.transform&&(g!=null&&g.transform)&&(d===0||h===0)?d===0?c.set(g.transform(d)):e[l]=u.transform(h):(s||(i=KP(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=qP(e,t,a);return i.length&&i.forEach(([d,u])=>{t.getValue(d).set(u)}),t.render(),gc&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function YP(t,e,n,r){return HP(e)?GP(t,e,n,r):{target:e,transitionEnd:r}}const XP=(t,e,n,r)=>{const o=UP(t,e,r);return e=o.target,r=o.transitionEnd,YP(t,e,n,r)},nh={current:null},Lw={current:!1};function JP(){if(Lw.current=!0,!!gc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>nh.current=t.matches;t.addListener(e),e()}else nh.current=!1}function QP(t,e,n){const{willChange:r}=e;for(const o in e){const i=e[o],s=n[o];if(nt(i))t.addValue(o,i),Il(r)&&r.add(o);else if(nt(s))t.addValue(o,Vo(i,{owner:t})),Il(r)&&r.remove(o);else if(s!==i)if(t.hasValue(o)){const a=t.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(o);t.addValue(o,Vo(a!==void 0?a:i,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const Bv=new WeakMap,Ow=Object.keys(ps),ZP=Ow.length,Lv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],eA=Mf.length;class tA{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>le.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=yc(n),this.isVariantNode=y1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const u in d){const h=d[u];a[u]!==void 0&&nt(h)&&(h.set(a[u],!1),Il(c)&&c.add(u))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Bv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Lw.current||JP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Bv.delete(this.current),this.projection&&this.projection.unmount(),wn(this.notifyUpdate),wn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Gr.has(e),o=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&le.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,o,i){let s,a;for(let l=0;l<ZP;l++){const c=Ow[l],{isEnabled:d,Feature:u,ProjectionNode:h,MeasureLayout:g}=ps[c];h&&(s=h),d(n)&&(!this.features[c]&&u&&(this.features[c]=new u(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:u,layoutScroll:h,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||u&&yo(u),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Lv.length;r++){const o=Lv[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=e["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=QP(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<eA;r++){const o=Mf[r],i=this.props[o];(fs(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Vo(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Hf(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!nt(i)?i:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Rw extends tA{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:o},i){let s=yI(r,e||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){gI(this,r,s);const a=XP(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function nA(t){return window.getComputedStyle(t)}class rA extends Rw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Gr.has(n)){const r=Gf(n);return r&&r.default||0}else{const r=nA(e),o=(E1(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return kw(e,n)}build(e,n,r,o){Df(e,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Vf(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,o){P1(e,n,r,o)}}class oA extends Rw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Gr.has(n)){const r=Gf(n);return r&&r.default||0}return n=A1.has(n)?n:Of(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ee()}scrapeMotionValuesFromProps(e,n){return B1(e,n)}build(e,n,r,o){$f(e,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,r,o){N1(e,n,r,o)}mount(e){this.isSVGTag=Uf(e.tagName),super.mount(e)}}const iA=(t,e)=>jf(t)?new oA(e,{enableHardwareAcceleration:!1}):new rA(e,{enableHardwareAcceleration:!0}),sA={layout:{ProjectionNode:Nw,MeasureLayout:Sw}},aA={...LI,...Z_,...DP,...sA},lA=a_((t,e)=>$_(t,e,aA,iA)),Ce=({children:t,keyValue:e,initial:n={opacity:0},animate:r={opacity:1},transition:o={duration:1},classname:i})=>f.jsx(lA.div,{initial:n,animate:r,transition:o,className:i,children:t},e),Al=(t,e)=>{sessionStorage.setItem(t,e)},Ov=(t,e)=>sessionStorage.getItem(t),cA=(t,e)=>{sessionStorage.removeItem(t)},uA=()=>{const{userAuth:{username:t,isAdmin:e},setUserAuth:n}=k.useContext(_e),r=()=>{cA("user"),n({access_token:null})};return f.jsx(Ce,{classname:"absolute right-0 z-50",transition:{duration:.2},children:f.jsxs("div",{className:"bg-white absolute right-0 border border-grey w-60 mt-8 mr-22 overflow-hidden duration-200",children:[f.jsxs(ee,{to:"/editor",className:"flex gap-2 link md:hidden pl-8 py-4",children:[f.jsx("i",{className:"fi fi-rr-file-edit"}),f.jsx("p",{children:"write"})]}),f.jsx(ee,{to:`/user/${t}`,className:"link pl-8 py-4",children:"Profile"}),f.jsx(ee,{to:"/dashboard/blogs",className:"link pl-8 py-4",children:"Dashboard"}),f.jsx(ee,{to:"/settings/edit-profile",className:"link pl-8 py-4",children:"Settings"}),f.jsx("span",{className:"absolute border-t border-grey w-[100%]"}),f.jsxs("button",{className:"text-left p-4 hover:bg-grey w-full pl-8 py-4",onClick:r,children:[f.jsx("h1",{className:"font-bold text-xl mg-1",children:"Sign Out"}),f.jsxs("p",{className:"text-dark-grey",children:["@",t]})]})]})})};function Mw(t,e){return function(){return t.apply(e,arguments)}}const{toString:dA}=Object.prototype,{getPrototypeOf:ep}=Object,kc=(t=>e=>{const n=dA.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mt=t=>(t=t.toLowerCase(),e=>kc(e)===t),Ec=t=>e=>typeof e===t,{isArray:ni}=Array,gs=Ec("undefined");function hA(t){return t!==null&&!gs(t)&&t.constructor!==null&&!gs(t.constructor)&&ct(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jw=Mt("ArrayBuffer");function fA(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jw(t.buffer),e}const pA=Ec("string"),ct=Ec("function"),Dw=Ec("number"),Sc=t=>t!==null&&typeof t=="object",mA=t=>t===!0||t===!1,Aa=t=>{if(kc(t)!=="object")return!1;const e=ep(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},gA=Mt("Date"),vA=Mt("File"),yA=Mt("Blob"),bA=Mt("FileList"),wA=t=>Sc(t)&&ct(t.pipe),xA=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ct(t.append)&&((e=kc(t))==="formdata"||e==="object"&&ct(t.toString)&&t.toString()==="[object FormData]"))},kA=Mt("URLSearchParams"),[EA,SA,CA,TA]=["ReadableStream","Request","Response","Headers"].map(Mt),_A=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ns(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),ni(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let a;for(r=0;r<s;r++)a=i[r],e.call(null,t[a],a,t)}}function Fw(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const Ar=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),$w=t=>!gs(t)&&t!==Ar;function rh(){const{caseless:t}=$w(this)&&this||{},e={},n=(r,o)=>{const i=t&&Fw(e,o)||o;Aa(e[i])&&Aa(r)?e[i]=rh(e[i],r):Aa(r)?e[i]=rh({},r):ni(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Ns(arguments[r],n);return e}const IA=(t,e,n,{allOwnKeys:r}={})=>(Ns(e,(o,i)=>{n&&ct(o)?t[i]=Mw(o,n):t[i]=o},{allOwnKeys:r}),t),PA=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),AA=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},NA=(t,e,n,r)=>{let o,i,s;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&ep(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},BA=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},LA=t=>{if(!t)return null;if(ni(t))return t;let e=t.length;if(!Dw(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},OA=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ep(Uint8Array)),RA=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=r.next())&&!o.done;){const i=o.value;e.call(t,i[0],i[1])}},MA=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},jA=Mt("HTMLFormElement"),DA=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),Rv=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),FA=Mt("RegExp"),Uw=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ns(n,(o,i)=>{let s;(s=e(o,i,t))!==!1&&(r[i]=s||o)}),Object.defineProperties(t,r)},$A=t=>{Uw(t,(e,n)=>{if(ct(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ct(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},UA=(t,e)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return ni(t)?r(t):r(String(t).split(e)),n},VA=()=>{},HA=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,_u="abcdefghijklmnopqrstuvwxyz",Mv="0123456789",Vw={DIGIT:Mv,ALPHA:_u,ALPHA_DIGIT:_u+_u.toUpperCase()+Mv},zA=(t=16,e=Vw.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function WA(t){return!!(t&&ct(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const KA=t=>{const e=new Array(10),n=(r,o)=>{if(Sc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const i=ni(r)?[]:{};return Ns(r,(s,a)=>{const l=n(s,o+1);!gs(l)&&(i[a]=l)}),e[o]=void 0,i}}return r};return n(t,0)},qA=Mt("AsyncFunction"),GA=t=>t&&(Sc(t)||ct(t))&&ct(t.then)&&ct(t.catch),Hw=((t,e)=>t?setImmediate:e?((n,r)=>(Ar.addEventListener("message",({source:o,data:i})=>{o===Ar&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Ar.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ct(Ar.postMessage)),YA=typeof queueMicrotask<"u"?queueMicrotask.bind(Ar):typeof process<"u"&&process.nextTick||Hw,I={isArray:ni,isArrayBuffer:jw,isBuffer:hA,isFormData:xA,isArrayBufferView:fA,isString:pA,isNumber:Dw,isBoolean:mA,isObject:Sc,isPlainObject:Aa,isReadableStream:EA,isRequest:SA,isResponse:CA,isHeaders:TA,isUndefined:gs,isDate:gA,isFile:vA,isBlob:yA,isRegExp:FA,isFunction:ct,isStream:wA,isURLSearchParams:kA,isTypedArray:OA,isFileList:bA,forEach:Ns,merge:rh,extend:IA,trim:_A,stripBOM:PA,inherits:AA,toFlatObject:NA,kindOf:kc,kindOfTest:Mt,endsWith:BA,toArray:LA,forEachEntry:RA,matchAll:MA,isHTMLForm:jA,hasOwnProperty:Rv,hasOwnProp:Rv,reduceDescriptors:Uw,freezeMethods:$A,toObjectSet:UA,toCamelCase:DA,noop:VA,toFiniteNumber:HA,findKey:Fw,global:Ar,isContextDefined:$w,ALPHABET:Vw,generateString:zA,isSpecCompliantForm:WA,toJSONObject:KA,isAsyncFn:qA,isThenable:GA,setImmediate:Hw,asap:YA};function K(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}I.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const zw=K.prototype,Ww={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ww[t]={value:t}});Object.defineProperties(K,Ww);Object.defineProperty(zw,"isAxiosError",{value:!0});K.from=(t,e,n,r,o,i)=>{const s=Object.create(zw);return I.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),K.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const XA=null;function oh(t){return I.isPlainObject(t)||I.isArray(t)}function Kw(t){return I.endsWith(t,"[]")?t.slice(0,-2):t}function jv(t,e,n){return t?t.concat(e).map(function(o,i){return o=Kw(o),!n&&i?"["+o+"]":o}).join(n?".":""):e}function JA(t){return I.isArray(t)&&!t.some(oh)}const QA=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function Cc(t,e,n){if(!I.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=I.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,w){return!I.isUndefined(w[m])});const r=n.metaTokens,o=n.visitor||d,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(o))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(I.isDate(p))return p.toISOString();if(!l&&I.isBlob(p))throw new K("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(p)||I.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,m,w){let b=p;if(p&&!w&&typeof p=="object"){if(I.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(I.isArray(p)&&JA(p)||(I.isFileList(p)||I.endsWith(m,"[]"))&&(b=I.toArray(p)))return m=Kw(m),b.forEach(function(y,x){!(I.isUndefined(y)||y===null)&&e.append(s===!0?jv([m],x,i):s===null?m:m+"[]",c(y))}),!1}return oh(p)?!0:(e.append(jv(w,m,i),c(p)),!1)}const u=[],h=Object.assign(QA,{defaultVisitor:d,convertValue:c,isVisitable:oh});function g(p,m){if(!I.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));u.push(p),I.forEach(p,function(b,v){(!(I.isUndefined(b)||b===null)&&o.call(e,b,I.isString(v)?v.trim():v,m,h))===!0&&g(b,m?m.concat(v):[v])}),u.pop()}}if(!I.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Dv(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function tp(t,e){this._pairs=[],t&&Cc(t,this,e)}const qw=tp.prototype;qw.append=function(e,n){this._pairs.push([e,n])};qw.toString=function(e){const n=e?function(r){return e.call(this,r,Dv)}:Dv;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function ZA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gw(t,e,n){if(!e)return t;const r=n&&n.encode||ZA,o=n&&n.serialize;let i;if(o?i=o(e,n):i=I.isURLSearchParams(e)?e.toString():new tp(e,n).toString(r),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class eN{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Fv=eN,Yw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tN=typeof URLSearchParams<"u"?URLSearchParams:tp,nN=typeof FormData<"u"?FormData:null,rN=typeof Blob<"u"?Blob:null,oN={isBrowser:!0,classes:{URLSearchParams:tN,FormData:nN,Blob:rN},protocols:["http","https","file","blob","url","data"]},np=typeof window<"u"&&typeof document<"u",ih=typeof navigator=="object"&&navigator||void 0,iN=np&&(!ih||["ReactNative","NativeScript","NS"].indexOf(ih.product)<0),sN=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),aN=np&&window.location.href||"http://localhost",lN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:np,hasStandardBrowserEnv:iN,hasStandardBrowserWebWorkerEnv:sN,navigator:ih,origin:aN},Symbol.toStringTag,{value:"Module"})),ut={...lN,...oN};function cN(t,e){return Cc(t,new ut.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return ut.isNode&&I.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function uN(t){return I.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function dN(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}function Xw(t){function e(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=i>=n.length;return s=!s&&I.isArray(o)?o.length:s,l?(I.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!I.isObject(o[s]))&&(o[s]=[]),e(n,r,o[s],i)&&I.isArray(o[s])&&(o[s]=dN(o[s])),!a)}if(I.isFormData(t)&&I.isFunction(t.entries)){const n={};return I.forEachEntry(t,(r,o)=>{e(uN(r),o,n,0)}),n}return null}function hN(t,e,n){if(I.isString(t))try{return(e||JSON.parse)(t),I.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const rp={transitional:Yw,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=I.isObject(e);if(i&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return o?JSON.stringify(Xw(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e)||I.isReadableStream(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return cN(e,this.formSerializer).toString();if((a=I.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Cc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),hN(e)):e}],transformResponse:[function(e){const n=this.transitional||rp.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(I.isResponse(e)||I.isReadableStream(e))return e;if(e&&I.isString(e)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?K.from(a,K.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ut.classes.FormData,Blob:ut.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],t=>{rp.headers[t]={}});const op=rp,fN=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pN=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||e[n]&&fN[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},$v=Symbol("internals");function wi(t){return t&&String(t).trim().toLowerCase()}function Na(t){return t===!1||t==null?t:I.isArray(t)?t.map(Na):String(t)}function mN(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const gN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Iu(t,e,n,r,o){if(I.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!I.isString(e)){if(I.isString(r))return e.indexOf(r)!==-1;if(I.isRegExp(r))return r.test(e)}}function vN(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function yN(t,e){const n=I.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,i,s){return this[r].call(this,e,o,i,s)},configurable:!0})})}class Tc{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function i(a,l,c){const d=wi(l);if(!d)throw new Error("header name must be a non-empty string");const u=I.findKey(o,d);(!u||o[u]===void 0||c===!0||c===void 0&&o[u]!==!1)&&(o[u||l]=Na(a))}const s=(a,l)=>I.forEach(a,(c,d)=>i(c,d,l));if(I.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(I.isString(e)&&(e=e.trim())&&!gN(e))s(pN(e),n);else if(I.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=wi(e),e){const r=I.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return mN(o);if(I.isFunction(n))return n.call(this,o,r);if(I.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=wi(e),e){const r=I.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Iu(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function i(s){if(s=wi(s),s){const a=I.findKey(r,s);a&&(!n||Iu(r,r[a],a,n))&&(delete r[a],o=!0)}}return I.isArray(e)?e.forEach(i):i(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!e||Iu(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const n=this,r={};return I.forEach(this,(o,i)=>{const s=I.findKey(r,i);if(s){n[s]=Na(o),delete n[i];return}const a=e?vN(i):String(i).trim();a!==i&&delete n[i],n[a]=Na(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return I.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&I.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[$v]=this[$v]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=wi(s);r[a]||(yN(o,s),r[a]=!0)}return I.isArray(e)?e.forEach(i):i(e),this}}Tc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Tc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});I.freezeMethods(Tc);const Bt=Tc;function Pu(t,e){const n=this||op,r=e||n,o=Bt.from(r.headers);let i=r.data;return I.forEach(t,function(a){i=a.call(n,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function Jw(t){return!!(t&&t.__CANCEL__)}function ri(t,e,n){K.call(this,t??"canceled",K.ERR_CANCELED,e,n),this.name="CanceledError"}I.inherits(ri,K,{__CANCEL__:!0});function Qw(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new K("Request failed with status code "+n.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function bN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wN(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[i];s||(s=c),n[o]=l,r[o]=c;let u=i,h=0;for(;u!==o;)h+=n[u++],u=u%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),c-s<e)return;const g=d&&c-d;return g?Math.round(h*1e3/g):void 0}}function xN(t,e){let n=0,r=1e3/e,o,i;const s=(c,d=Date.now())=>{n=d,o=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),u=d-n;u>=r?s(c,d):(o=c,i||(i=setTimeout(()=>{i=null,s(o)},r-u)))},()=>o&&s(o)]}const Nl=(t,e,n=3)=>{let r=0;const o=wN(50,250);return xN(i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,l=s-r,c=o(l),d=s<=a;r=s;const u={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-s)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(u)},n)},Uv=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Vv=t=>(...e)=>I.asap(()=>t(...e)),kN=ut.hasStandardBrowserEnv?function(){const e=ut.navigator&&/(msie|trident)/i.test(ut.navigator.userAgent),n=document.createElement("a");let r;function o(i){let s=i;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(s){const a=I.isString(s)?o(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),EN=ut.hasStandardBrowserEnv?{write(t,e,n,r,o,i){const s=[t+"="+encodeURIComponent(e)];I.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),I.isString(r)&&s.push("path="+r),I.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function SN(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function CN(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Zw(t,e){return t&&!SN(e)?CN(t,e):e}const Hv=t=>t instanceof Bt?{...t}:t;function Vr(t,e){e=e||{};const n={};function r(c,d,u){return I.isPlainObject(c)&&I.isPlainObject(d)?I.merge.call({caseless:u},c,d):I.isPlainObject(d)?I.merge({},d):I.isArray(d)?d.slice():d}function o(c,d,u){if(I.isUndefined(d)){if(!I.isUndefined(c))return r(void 0,c,u)}else return r(c,d,u)}function i(c,d){if(!I.isUndefined(d))return r(void 0,d)}function s(c,d){if(I.isUndefined(d)){if(!I.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,u){if(u in e)return r(c,d);if(u in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,d)=>o(Hv(c),Hv(d),!0)};return I.forEach(Object.keys(Object.assign({},t,e)),function(d){const u=l[d]||o,h=u(t[d],e[d],d);I.isUndefined(h)&&u!==a||(n[d]=h)}),n}const ex=t=>{const e=Vr({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=e;e.headers=s=Bt.from(s),e.url=Gw(Zw(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(I.isFormData(n)){if(ut.hasStandardBrowserEnv||ut.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...d]=l?l.split(";").map(u=>u.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...d].join("; "))}}if(ut.hasStandardBrowserEnv&&(r&&I.isFunction(r)&&(r=r(e)),r||r!==!1&&kN(e.url))){const c=o&&i&&EN.read(i);c&&s.set(o,c)}return e},TN=typeof XMLHttpRequest<"u",_N=TN&&function(t){return new Promise(function(n,r){const o=ex(t);let i=o.data;const s=Bt.from(o.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=o,d,u,h,g,p;function m(){g&&g(),p&&p(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function b(){if(!w)return;const y=Bt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:y,config:t,request:w};Qw(function(_){n(_),m()},function(_){r(_),m()},E),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(r(new K("Request aborted",K.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new K("Network Error",K.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let x=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const E=o.transitional||Yw;o.timeoutErrorMessage&&(x=o.timeoutErrorMessage),r(new K(x,E.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,t,w)),w=null},i===void 0&&s.setContentType(null),"setRequestHeader"in w&&I.forEach(s.toJSON(),function(x,E){w.setRequestHeader(E,x)}),I.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),a&&a!=="json"&&(w.responseType=o.responseType),c&&([h,p]=Nl(c,!0),w.addEventListener("progress",h)),l&&w.upload&&([u,g]=Nl(l),w.upload.addEventListener("progress",u),w.upload.addEventListener("loadend",g)),(o.cancelToken||o.signal)&&(d=y=>{w&&(r(!y||y.type?new ri(null,t,w):y),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const v=bN(o.url);if(v&&ut.protocols.indexOf(v)===-1){r(new K("Unsupported protocol "+v+":",K.ERR_BAD_REQUEST,t));return}w.send(i||null)})},IN=(t,e)=>{let n=new AbortController,r;const o=function(l){if(!r){r=!0,s();const c=l instanceof Error?l:this.reason;n.abort(c instanceof K?c:new ri(c instanceof Error?c.message:c))}};let i=e&&setTimeout(()=>{o(new K(`timeout ${e} of ms exceeded`,K.ETIMEDOUT))},e);const s=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",o):l.unsubscribe(o))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",o));const{signal:a}=n;return a.unsubscribe=s,[a,()=>{i&&clearTimeout(i),i=null}]},PN=IN,AN=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,o;for(;r<n;)o=r+e,yield t.slice(r,o),r=o},NN=async function*(t,e,n){for await(const r of t)yield*AN(ArrayBuffer.isView(r)?r:await n(String(r)),e)},zv=(t,e,n,r,o)=>{const i=NN(t,e,o);let s=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let h=u.byteLength;if(n){let g=s+=h;n(g)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},_c=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tx=_c&&typeof ReadableStream=="function",sh=_c&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),nx=(t,...e)=>{try{return!!t(...e)}catch{return!1}},BN=tx&&nx(()=>{let t=!1;const e=new Request(ut.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Wv=64*1024,ah=tx&&nx(()=>I.isReadableStream(new Response("").body)),Bl={stream:ah&&(t=>t.body)};_c&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bl[e]&&(Bl[e]=I.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new K(`Response type '${e}' is not supported`,K.ERR_NOT_SUPPORT,r)})})})(new Response);const LN=async t=>{if(t==null)return 0;if(I.isBlob(t))return t.size;if(I.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(I.isArrayBufferView(t)||I.isArrayBuffer(t))return t.byteLength;if(I.isURLSearchParams(t)&&(t=t+""),I.isString(t))return(await sh(t)).byteLength},ON=async(t,e)=>{const n=I.toFiniteNumber(t.getContentLength());return n??LN(e)},RN=_c&&(async t=>{let{url:e,method:n,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=ex(t);c=c?(c+"").toLowerCase():"text";let[g,p]=o||i||s?PN([o,i],s):[],m,w;const b=()=>{!m&&setTimeout(()=>{g&&g.unsubscribe()}),m=!0};let v;try{if(l&&BN&&n!=="get"&&n!=="head"&&(v=await ON(d,r))!==0){let _=new Request(e,{method:"POST",body:r,duplex:"half"}),S;if(I.isFormData(r)&&(S=_.headers.get("content-type"))&&d.setContentType(S),_.body){const[T,P]=Uv(v,Nl(Vv(l)));r=zv(_.body,Wv,T,P,sh)}}I.isString(u)||(u=u?"include":"omit");const y="credentials"in Request.prototype;w=new Request(e,{...h,signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:y?u:void 0});let x=await fetch(w);const E=ah&&(c==="stream"||c==="response");if(ah&&(a||E)){const _={};["status","statusText","headers"].forEach(O=>{_[O]=x[O]});const S=I.toFiniteNumber(x.headers.get("content-length")),[T,P]=a&&Uv(S,Nl(Vv(a),!0))||[];x=new Response(zv(x.body,Wv,T,()=>{P&&P(),E&&b()},sh),_)}c=c||"text";let C=await Bl[I.findKey(Bl,c)||"text"](x,t);return!E&&b(),p&&p(),await new Promise((_,S)=>{Qw(_,S,{data:C,headers:Bt.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:w})})}catch(y){throw b(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new K("Network Error",K.ERR_NETWORK,t,w),{cause:y.cause||y}):K.from(y,y&&y.code,t,w)}}),lh={http:XA,xhr:_N,fetch:RN};I.forEach(lh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Kv=t=>`- ${t}`,MN=t=>I.isFunction(t)||t===null||t===!1,rx={getAdapter:t=>{t=I.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let i=0;i<e;i++){n=t[i];let s;if(r=n,!MN(n)&&(r=lh[(s=String(n)).toLowerCase()],r===void 0))throw new K(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?i.length>1?`since :
`+i.map(Kv).join(`
`):" "+Kv(i[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:lh};function Au(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ri(null,t)}function qv(t){return Au(t),t.headers=Bt.from(t.headers),t.data=Pu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),rx.getAdapter(t.adapter||op.adapter)(t).then(function(r){return Au(t),r.data=Pu.call(t,t.transformResponse,r),r.headers=Bt.from(r.headers),r},function(r){return Jw(r)||(Au(t),r&&r.response&&(r.response.data=Pu.call(t,t.transformResponse,r.response),r.response.headers=Bt.from(r.response.headers))),Promise.reject(r)})}const ox="1.7.5",ip={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ip[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Gv={};ip.transitional=function(e,n,r){function o(i,s){return"[Axios v"+ox+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(e===!1)throw new K(o(s," has been removed"+(n?" in "+n:"")),K.ERR_DEPRECATED);return n&&!Gv[s]&&(Gv[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,a):!0}};function jN(t,e,n){if(typeof t!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const a=t[i],l=a===void 0||s(a,i,t);if(l!==!0)throw new K("option "+i+" must be "+l,K.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new K("Unknown option "+i,K.ERR_BAD_OPTION)}}const ch={assertOptions:jN,validators:ip},In=ch.validators;class Ll{constructor(e){this.defaults=e,this.interceptors={request:new Fv,response:new Fv}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Vr(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&ch.assertOptions(r,{silentJSONParsing:In.transitional(In.boolean),forcedJSONParsing:In.transitional(In.boolean),clarifyTimeoutError:In.transitional(In.boolean)},!1),o!=null&&(I.isFunction(o)?n.paramsSerializer={serialize:o}:ch.assertOptions(o,{encode:In.function,serialize:In.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&I.merge(i.common,i[n.method]);i&&I.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=Bt.concat(s,i);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let d,u=0,h;if(!l){const p=[qv.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),h=p.length,d=Promise.resolve(n);u<h;)d=d.then(p[u++],p[u++]);return d}h=a.length;let g=n;for(u=0;u<h;){const p=a[u++],m=a[u++];try{g=p(g)}catch(w){m.call(this,w);break}}try{d=qv.call(this,g)}catch(p){return Promise.reject(p)}for(u=0,h=c.length;u<h;)d=d.then(c[u++],c[u++]);return d}getUri(e){e=Vr(this.defaults,e);const n=Zw(e.baseURL,e.url);return Gw(n,e.params,e.paramsSerializer)}}I.forEach(["delete","get","head","options"],function(e){Ll.prototype[e]=function(n,r){return this.request(Vr(r||{},{method:e,url:n,data:(r||{}).data}))}});I.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,a){return this.request(Vr(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Ll.prototype[e]=n(),Ll.prototype[e+"Form"]=n(!0)});const Ba=Ll;class sp{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,a){r.reason||(r.reason=new ri(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new sp(function(o){e=o}),cancel:e}}}const DN=sp;function FN(t){return function(n){return t.apply(null,n)}}function $N(t){return I.isObject(t)&&t.isAxiosError===!0}const uh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uh).forEach(([t,e])=>{uh[e]=t});const UN=uh;function ix(t){const e=new Ba(t),n=Mw(Ba.prototype.request,e);return I.extend(n,Ba.prototype,e,{allOwnKeys:!0}),I.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return ix(Vr(t,o))},n}const Te=ix(op);Te.Axios=Ba;Te.CanceledError=ri;Te.CancelToken=DN;Te.isCancel=Jw;Te.VERSION=ox;Te.toFormData=Cc;Te.AxiosError=K;Te.Cancel=Te.CanceledError;Te.all=function(e){return Promise.all(e)};Te.spread=FN;Te.isAxiosError=$N;Te.mergeConfig=Vr;Te.AxiosHeaders=Bt;Te.formToJSON=t=>Xw(I.isHTMLForm(t)?new FormData(t):t);Te.getAdapter=rx.getAdapter;Te.HttpStatusCode=UN;Te.default=Te;const Z=Te,VN=()=>{const t=ei(),{theme:e,setTheme:n}=k.useContext($c),[r,o]=k.useState(!1),[i,s]=k.useState(!1),{userAuth:a,userAuth:{access_token:l,profile_img:c,new_notification_available:d,isAdmin:u},setUserAuth:h}=k.useContext(_e);k.useEffect(()=>{l&&Z.get("https://six0551c5f-blogiflux-server.onrender.com/new-notification",{headers:{Authorization:`Bearer ${l}`}}).then(({data:b})=>{h({...a,...b})}).catch(b=>{console.log(b)})},[l]);const g=()=>{s(b=>!b)},p=()=>{setTimeout(()=>{s(!1)},200)},m=b=>{let v=b.target.value;b.keyCode==13&&v.length&&t(`/search/${v}`)},w=b=>{let v=e=="light"?"dark":"light";n(v),document.body.setAttribute("data-theme",v),Al("theme",v)};return f.jsxs(f.Fragment,{children:[f.jsxs("nav",{className:"navbar z-50",children:[f.jsx(ee,{to:"/",className:"flex-none w-14",children:f.jsx("img",{src:e=="light"?f1:p1,className:"w-full"})})," ",f.jsxs("div",{className:"absolute bg-white w-full left-0 top-full mt-0.5 border-b border-grey py-4 px-[5vw] md:border-0 md:block md:relative md:inset-0 md:p-0 md:w-auto md:show "+(r?"show":"hide"),children:[f.jsx("input",{type:"text",placeholder:"Search",className:"w-full md:w-auto bg-grey p-4 pl-6 pr-[12%] md:pr-6 rounded-full placeholder:text-dark-grey md:pl-12",onKeyDown:m}),f.jsx("i",{className:"fi fi-rr-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-xl text-dark-grey"})]}),f.jsxs("div",{className:"flex items-center gap-3 md:gap-6 ml-auto",children:[f.jsx("button",{className:"md:hidden bg-grey w-12 h-12 rounded-full flex items-center justify-center",onClick:()=>o(b=>!b),children:f.jsx("i",{className:"fi fi-rr-search text-xl"})}),f.jsxs(ee,{to:"/editor",className:"hidden md:flex gap-2 link",children:[f.jsx("i",{className:"fi fi-rr-file-edit"}),f.jsx("p",{children:"write"})]}),f.jsx("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10",onClick:w,children:f.jsx("i",{className:`fi fi-rr-${e=="light"?"moon-stars":"sun"} text-2xl block mt-1 `})}),l?f.jsxs(f.Fragment,{children:[f.jsx(ee,{to:"/dashboard/notifications",children:f.jsxs("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10",children:[f.jsx("i",{className:"fi fi-rr-bell text-xl block mt-1 "}),d&&f.jsx("span",{className:"bg-red w-3 h-3 rounded-full absolute z-10 top-2 right-2"})]})}),f.jsx("div",{className:"relative",onClick:g,onBlur:p,children:f.jsx("button",{className:"w-12 h-12 mt-1",children:f.jsx("img",{src:c,className:"w-full h-full object-cover rounded-full",alt:""})})}),i&&f.jsx(uA,{})]}):f.jsxs(f.Fragment,{children:[f.jsx(ee,{to:"/signin",className:"btn-dark py-2",children:"Sign In"}),f.jsx(ee,{to:"/signup",className:"btn-light py-2 hidden md:block",children:"Sign Up"})]})]})]}),f.jsx(d1,{})]})},sn=({name:t,type:e,id:n,value:r,placeholder:o,icon:i,disable:s=!1})=>{const[a,l]=k.useState(!1);return f.jsxs("div",{className:"relative w-[100%] mb-4",children:[f.jsx("input",{name:t,disabled:s,type:e==="password"&&a?"text":e,placeholder:o,defaultValue:r,id:n,className:"input-box"}),f.jsx("i",{className:"fi "+i+" input-icon"}),e==="password"?f.jsx("i",{className:"fi fi-rr-eye"+(a?"":"-crossed")+" input-icon left-[auto] right-4 cursor-pointer",onClick:()=>l(c=>!c)}):""]})},HN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAYAAACSN4jeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVeSURBVHgBzZhrbBRVFMfPuTO77dKtSCm1BQklppJCjEIfFIkUaHk2IKUEaQwR0FSNaIhA1BZCY2hVPho/CMQH0aatUgU+FLQPln5oKxTKIwEkJWwFoTwKWNjtY2fmeHaBdi3dmV12WfkluzN375mZ/9x79pxzL8ATCkIQUEGB6cb54+P5Lkka0gjUUAIJHQLopirJ7c/sbzwPj0jAwjrmvhwnq8oqDWA+S0vnn6J0zG8DUSOg+EmT5P3xvzdeAz/xW1hH9tQMCdRNRMiCQIIAIQAHAlaYTGLriAPNdiN7Q2FnF0+PjnG6SvnN10II4Af+xV8lo2qP7DCw8831WWmZJGAnnyZBiEGkckWWCxN8jJ7wdWFHdvr7JKj+cYhywy6RLyvqd776hxR2NSv9Q0H0Jb+XT+HBwv7WrvbhGt/9g0XNTpmLKA5AkKHEUJQLZsU3HL7g28aLW/MzEhVFbSCCseAHhHBcEOwD1A6TYv5TEeiSRV8MoJQApOWwwUK2SgxUlBvZu6G46HP+WxuKYptjAml9XG2LbYjudv608qfa3eicnbZaQdyCQOO4eUNFdVF8w9ELRs/oH7HrczIWk6buNb6AtsWq1iK02RTwk8uzJ4+ThWm7BtLG+NqmU/5c0y+st9La2lX53Ev0j9m3taCiuJqWUggDHmGuWnkanzZSj0TddaO13pMjH47sBFvj6o9shjAh7qnDAs8xUsVhORclS+YVQnS7Uj8XRs3I2QJhxDNiSq35EgGN8e5Qrli0u7+OF56pJVjNo/U9hBHRV2OaPFiUGzmhW0S/3gbS2Lsdo7SoCggzMgEm/3fWBpCG98HwlW31mHWmB/wgq8S5jVB7FYKE8/MHskCYoGuFUAf+glocv+PzECRCg0msi2L1jIikNgg/Y1gcDtOzIFXqgjCjAUVxuCD9CC5pZvgfEIjYqWdAqhq0zwSKAF7QcN2lm1BRUCqEHeyUVYRWHDpagJNk+NY5YXnK9vSNR9/e4TK6HWnaXq6Z7WAIzuKvGToGp5EOAle4puvceNq75291GGy4kwF2xequu3KPvla1B0JEVundGq75sn31C61nomDtCj+42rvjUF8Crbmd6RHlhkPKOggR8z/rTtQTxT5/sXZz7BlPElcV+sZ95AUCfO1Mho+70rCLTAPWhJlplbkbIAS4NFW/GCCeQ7hfXUTOUw52aJGn1nZNo13OJB/24ovU8qXLIAiySh1L2J1XGZj92C+MSwzK7Zzz6TFXrN4ChP/FWJFWuXQ9PIqokjsrOF2V6dlw+XW+rshac+/ci5SKZQ3sT6+AAewHZZImb2rOr7Ab2c7clx/rcFhKLFffeFN2pEj694VVdYXWXQ8Jm1qWl6RK2MID+BT4xy+cP3bz9LRGn+tssxXblAXVCyLuOC1jelwwnV9gEfflsJ0n7UXcWkIRN3OHnhUOW/WF1ikDzUHwqL3Fo7YTAscdDd2xTjeFmR0ZauS1NQhahBgQQV2qkF+0fWKxP/jtoaG9svv0sdF5ye5xnQmBgeDHLpBqviRc0c1gckxB1B7UD/jOwcIom7fdkDe6XHXm0Oi8SeyLMBMeAySc6IpuIkmJ0UTvs0X1m6xfDbbR3QZILc97jy22wX0fCTFOToXrjuRXDek2hvsTGeVLEhWUfuPTkFUZ/NATshArm5b/7HPxa7ib05y/x95ytiqZ08i7fEM7BMdt9t2Pos6+kKonyk1AOzrFxcWiesLJFbzozOdLs3l1FWl0DYeMbg4pTbyKrxDRkZV/LCzzqyJ+5K2mlJYCE5y7NVXI2kTOpZyYaST7jJnTbR8SdvKxndunemMsJ07O+8EBAfIvZzP9J7slOesAAAAASUVORK5CYII=";let zN={data:""},WN=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||zN,KN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qN=/\/\*[^]*?\*\/|  +/g,Yv=/\n+/g,Dn=(t,e)=>{let n="",r="",o="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?Dn(s,i):i+"{"+Dn(s,i[1]=="k"?"":e)+"}":typeof s=="object"?r+=Dn(s,e?e.replace(/([^,])+/g,a=>i.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Dn.p?Dn.p(i,s):i+":"+s+";")}return n+(e&&o?e+"{"+o+"}":o)+r},Xt={},sx=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+sx(t[n]);return e}return t},GN=(t,e,n,r,o)=>{let i=sx(t),s=Xt[i]||(Xt[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!Xt[s]){let l=i!==t?t:(c=>{let d,u,h=[{}];for(;d=KN.exec(c.replace(qN,""));)d[4]?h.shift():d[3]?(u=d[3].replace(Yv," ").trim(),h.unshift(h[0][u]=h[0][u]||{})):h[0][d[1]]=d[2].replace(Yv," ").trim();return h[0]})(t);Xt[s]=Dn(o?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&Xt.g?Xt.g:null;return n&&(Xt.g=Xt[s]),((l,c,d,u)=>{u?c.data=c.data.replace(u,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(Xt[s],e,r,a),s},YN=(t,e,n)=>t.reduce((r,o,i)=>{let s=e[i];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":Dn(a,""):a===!1?"":a}return r+o+(s??"")},"");function Ic(t){let e=this||{},n=t.call?t(e.p):t;return GN(n.unshift?n.raw?YN(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,WN(e.target),e.g,e.o,e.k)}let ax,dh,hh;Ic.bind({g:1});let xn=Ic.bind({k:1});function XN(t,e,n,r){Dn.p=e,ax=t,dh=n,hh=r}function fr(t,e){let n=this||{};return function(){let r=arguments;function o(i,s){let a=Object.assign({},i),l=a.className||o.className;n.p=Object.assign({theme:dh&&dh()},a),n.o=/ *go\d+/.test(l),a.className=Ic.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let c=t;return t[0]&&(c=a.as||t,delete a.as),hh&&c[0]&&hh(a),ax(c,a)}return e?e(o):o}}var JN=t=>typeof t=="function",Ol=(t,e)=>JN(t)?t(e):t,QN=(()=>{let t=0;return()=>(++t).toString()})(),lx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),ZN=20,La=new Map,eB=1e3,Xv=t=>{if(La.has(t))return;let e=setTimeout(()=>{La.delete(t),Xr({type:4,toastId:t})},eB);La.set(t,e)},tB=t=>{let e=La.get(t);e&&clearTimeout(e)},fh=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,ZN)};case 1:return e.toast.id&&tB(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return t.toasts.find(i=>i.id===n.id)?fh(t,{type:1,toast:n}):fh(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?Xv(r):t.toasts.forEach(i=>{Xv(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},Oa=[],Ra={toasts:[],pausedAt:void 0},Xr=t=>{Ra=fh(Ra,t),Oa.forEach(e=>{e(Ra)})},nB={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},rB=(t={})=>{let[e,n]=k.useState(Ra);k.useEffect(()=>(Oa.push(n),()=>{let o=Oa.indexOf(n);o>-1&&Oa.splice(o,1)}),[e]);let r=e.toasts.map(o=>{var i,s;return{...t,...t[o.type],...o,duration:o.duration||((i=t[o.type])==null?void 0:i.duration)||(t==null?void 0:t.duration)||nB[o.type],style:{...t.style,...(s=t[o.type])==null?void 0:s.style,...o.style}}});return{...e,toasts:r}},oB=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||QN()}),Bs=t=>(e,n)=>{let r=oB(e,t,n);return Xr({type:2,toast:r}),r.id},Y=(t,e)=>Bs("blank")(t,e);Y.error=Bs("error");Y.success=Bs("success");Y.loading=Bs("loading");Y.custom=Bs("custom");Y.dismiss=t=>{Xr({type:3,toastId:t})};Y.remove=t=>Xr({type:4,toastId:t});Y.promise=(t,e,n)=>{let r=Y.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(o=>(Y.success(Ol(e.success,o),{id:r,...n,...n==null?void 0:n.success}),o)).catch(o=>{Y.error(Ol(e.error,o),{id:r,...n,...n==null?void 0:n.error})}),t};var iB=(t,e)=>{Xr({type:1,toast:{id:t,height:e}})},sB=()=>{Xr({type:5,time:Date.now()})},aB=t=>{let{toasts:e,pausedAt:n}=rB(t);k.useEffect(()=>{if(n)return;let i=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&Y.dismiss(a.id);return}return setTimeout(()=>Y.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=k.useCallback(()=>{n&&Xr({type:6,time:Date.now()})},[n]),o=k.useCallback((i,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=s||{},d=e.filter(g=>(g.position||c)===(i.position||c)&&g.height),u=d.findIndex(g=>g.id===i.id),h=d.filter((g,p)=>p<u&&g.visible).length;return d.filter(g=>g.visible).slice(...a?[h+1]:[0,h]).reduce((g,p)=>g+(p.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:iB,startPause:sB,endPause:r,calculateOffset:o}}},lB=xn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,cB=xn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uB=xn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,dB=fr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${cB} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${uB} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hB=xn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,fB=fr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${hB} 1s linear infinite;
`,pB=xn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,mB=xn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gB=fr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${mB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vB=fr("div")`
  position: absolute;
`,yB=fr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,bB=xn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wB=fr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${bB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,xB=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?k.createElement(wB,null,e):e:n==="blank"?null:k.createElement(yB,null,k.createElement(fB,{...r}),n!=="loading"&&k.createElement(vB,null,n==="error"?k.createElement(dB,{...r}):k.createElement(gB,{...r})))},kB=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,EB=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,SB="0%{opacity:0;} 100%{opacity:1;}",CB="0%{opacity:1;} 100%{opacity:0;}",TB=fr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_B=fr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,IB=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=lx()?[SB,CB]:[kB(n),EB(n)];return{animation:e?`${xn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xn(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},PB=k.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?IB(t.position||e||"top-center",t.visible):{opacity:0},i=k.createElement(xB,{toast:t}),s=k.createElement(_B,{...t.ariaProps},Ol(t.message,t));return k.createElement(TB,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:i,message:s}):k.createElement(k.Fragment,null,i,s))});XN(k.createElement);var AB=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let i=k.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return k.createElement("div",{ref:i,className:e,style:n},o)},NB=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:lx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},BB=Ic`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ha=16,Ls=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,containerStyle:i,containerClassName:s})=>{let{toasts:a,handlers:l}=aB(n);return k.createElement("div",{style:{position:"fixed",zIndex:9999,top:ha,left:ha,right:ha,bottom:ha,pointerEvents:"none",...i},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||e,u=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=NB(d,u);return k.createElement(AB,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?BB:"",style:h},c.type==="custom"?Ol(c.message,c):o?o(c):k.createElement(PB,{toast:c,position:d}))}))},te=Y;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},LB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},ux={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,d=i>>2,u=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,s||(h=64)),r.push(n[d],n[u],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const u=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||c==null||u==null)throw new OB;const h=i<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),u!==64){const p=c<<6&192|u;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RB=function(t){const e=cx(t);return ux.encodeByteArray(e,!0)},dx=function(t){return RB(t).replace(/\./g,"")},hx=function(t){try{return ux.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=()=>MB().__FIREBASE_DEFAULTS__,DB=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hx(t[1]);return e&&JSON.parse(e)},ap=()=>{try{return jB()||DB()||FB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$B=t=>{var e,n;return(n=(e=ap())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fx=()=>{var t;return(t=ap())===null||t===void 0?void 0:t.config},px=t=>{var e;return(e=ap())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function HB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WB(){const t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KB(){try{return typeof indexedDB=="object"}catch{return!1}}function qB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="FirebaseError";class pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GB,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Os.prototype.create)}}class Os{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?YB(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new pr(o,a,r)}}function YB(t,e){return t.replace(XB,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const XB=/\{\$([^}]+)}/g;function JB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(Jv(i)&&Jv(s)){if(!Rl(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Jv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function QB(t,e){const n=new ZB(t,e);return n.subscribe.bind(n)}class ZB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eL(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Nu),o.error===void 0&&(o.error=Nu),o.complete===void 0&&(o.complete=Nu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t){return t&&t._delegate?t._delegate:t}class zo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rL(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nL(t){return t===Sr?void 0:t}function rL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const iL={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},sL=oe.INFO,aL={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},lL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=aL[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mx{constructor(e){this.name=e,this._logLevel=sL,this._logHandler=lL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const cL=(t,e)=>e.some(n=>t instanceof n);let Qv,Zv;function uL(){return Qv||(Qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dL(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gx=new WeakMap,ph=new WeakMap,vx=new WeakMap,Bu=new WeakMap,lp=new WeakMap;function hL(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(nr(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&gx.set(n,t)}).catch(()=>{}),lp.set(e,t),e}function fL(t){if(ph.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});ph.set(t,e)}let mh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ph.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pL(t){mh=t(mh)}function mL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lu(this),e,...n);return vx.set(r,e.sort?e.sort():[e]),nr(r)}:dL().includes(t)?function(...e){return t.apply(Lu(this),e),nr(gx.get(this))}:function(...e){return nr(t.apply(Lu(this),e))}}function gL(t){return typeof t=="function"?mL(t):(t instanceof IDBTransaction&&fL(t),cL(t,uL())?new Proxy(t,mh):t)}function nr(t){if(t instanceof IDBRequest)return hL(t);if(Bu.has(t))return Bu.get(t);const e=gL(t);return e!==t&&(Bu.set(t,e),lp.set(e,t)),e}const Lu=t=>lp.get(t);function vL(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=nr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(nr(s.result),l.oldVersion,l.newVersion,nr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const yL=["get","getKey","getAll","getAllKeys","count"],bL=["put","add","delete","clear"],Ou=new Map;function ey(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ou.get(e))return Ou.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=bL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||yL.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return Ou.set(e,i),i}pL(t=>({...t,get:(e,n,r)=>ey(e,n)||t.get(e,n,r),has:(e,n)=>!!ey(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gh="@firebase/app",ty="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new mx("@firebase/app"),kL="@firebase/app-compat",EL="@firebase/analytics-compat",SL="@firebase/analytics",CL="@firebase/app-check-compat",TL="@firebase/app-check",_L="@firebase/auth",IL="@firebase/auth-compat",PL="@firebase/database",AL="@firebase/database-compat",NL="@firebase/functions",BL="@firebase/functions-compat",LL="@firebase/installations",OL="@firebase/installations-compat",RL="@firebase/messaging",ML="@firebase/messaging-compat",jL="@firebase/performance",DL="@firebase/performance-compat",FL="@firebase/remote-config",$L="@firebase/remote-config-compat",UL="@firebase/storage",VL="@firebase/storage-compat",HL="@firebase/firestore",zL="@firebase/vertexai-preview",WL="@firebase/firestore-compat",KL="firebase",qL="10.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="[DEFAULT]",GL={[gh]:"fire-core",[kL]:"fire-core-compat",[SL]:"fire-analytics",[EL]:"fire-analytics-compat",[TL]:"fire-app-check",[CL]:"fire-app-check-compat",[_L]:"fire-auth",[IL]:"fire-auth-compat",[PL]:"fire-rtdb",[AL]:"fire-rtdb-compat",[NL]:"fire-fn",[BL]:"fire-fn-compat",[LL]:"fire-iid",[OL]:"fire-iid-compat",[RL]:"fire-fcm",[ML]:"fire-fcm-compat",[jL]:"fire-perf",[DL]:"fire-perf-compat",[FL]:"fire-rc",[$L]:"fire-rc-compat",[UL]:"fire-gcs",[VL]:"fire-gcs-compat",[HL]:"fire-fst",[WL]:"fire-fst-compat",[zL]:"fire-vertex","fire-js":"fire-js",[KL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new Map,YL=new Map,yh=new Map;function ny(t,e){try{t.container.addComponent(e)}catch(n){kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vs(t){const e=t.name;if(yh.has(e))return kn.debug(`There were multiple attempts to register component ${e}.`),!1;yh.set(e,t);for(const n of Ml.values())ny(n,t);for(const n of YL.values())ny(n,t);return!0}function yx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new Os("app","Firebase",XL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=qL;function bx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vh,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw rr.create("bad-app-name",{appName:String(o)});if(n||(n=fx()),!n)throw rr.create("no-options");const i=Ml.get(o);if(i){if(Rl(n,i.options)&&Rl(r,i.config))return i;throw rr.create("duplicate-app",{appName:o})}const s=new oL(o);for(const l of yh.values())s.addComponent(l);const a=new JL(n,r,s);return Ml.set(o,a),a}function QL(t=vh){const e=Ml.get(t);if(!e&&t===vh&&fx())return bx();if(!e)throw rr.create("no-app",{appName:t});return e}function Po(t,e,n){var r;let o=(r=GL[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kn.warn(a.join(" "));return}vs(new zo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="firebase-heartbeat-database",eO=1,ys="firebase-heartbeat-store";let Ru=null;function wx(){return Ru||(Ru=vL(ZL,eO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ys)}catch(n){console.warn(n)}}}}).catch(t=>{throw rr.create("idb-open",{originalErrorMessage:t.message})})),Ru}async function tO(t){try{const n=(await wx()).transaction(ys),r=await n.objectStore(ys).get(xx(t));return await n.done,r}catch(e){if(e instanceof pr)kn.warn(e.message);else{const n=rr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kn.warn(n.message)}}}async function ry(t,e){try{const r=(await wx()).transaction(ys,"readwrite");await r.objectStore(ys).put(e,xx(t)),await r.done}catch(n){if(n instanceof pr)kn.warn(n.message);else{const r=rr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});kn.warn(r.message)}}}function xx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=1024,rO=30*24*60*60*1e3;class oO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oy();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=rO}),this._storage.overwrite(this._heartbeatsCache))}catch(o){kn.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oy(),{heartbeatsToSend:r,unsentEntries:o}=iO(this._heartbeatsCache.heartbeats),i=dx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return kn.warn(n),""}}}function oy(){return new Date().toISOString().substring(0,10)}function iO(t,e=nO){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),iy(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),iy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KB()?qB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return ry(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return ry(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function iy(t){return dx(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){vs(new zo("platform-logger",e=>new wL(e),"PRIVATE")),vs(new zo("heartbeat",e=>new oO(e),"PRIVATE")),Po(gh,ty,t),Po(gh,ty,"esm2017"),Po("fire-js","")}aO("");var lO="firebase",cO="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Po(lO,cO,"app");function cp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uO=kx,Ex=new Os("auth","Firebase",kx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new mx("@firebase/auth");function dO(t,...e){jl.logLevel<=oe.WARN&&jl.warn(`Auth (${Ms}): ${t}`,...e)}function Ma(t,...e){jl.logLevel<=oe.ERROR&&jl.error(`Auth (${Ms}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t,...e){throw dp(t,...e)}function Lt(t,...e){return dp(t,...e)}function up(t,e,n){const r=Object.assign(Object.assign({},uO()),{[e]:n});return new Os("auth","Firebase",r).create(e,{appName:t.name})}function Rr(t){return up(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gt(t,"argument-error"),up(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ex.create(t,...e)}function z(t,e,...n){if(!t)throw dp(e,...n)}function ln(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ma(e),new Error(e)}function En(t,e){t||ln(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fO(){return sy()==="http:"||sy()==="https:"}function sy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fO()||HB()||"connection"in navigator)?navigator.onLine:!0}function mO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this.shortDelay=e,this.longDelay=n,En(n>e,"Short delay should be less than long delay!"),this.isMobile=VB()||zB()}get(){return pO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t,e){En(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new js(3e4,6e4);function fp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ii(t,e,n,r,o={}){return Cx(t,o,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const a=Rs(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Sx.fetch()(Tx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Cx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gO),e);try{const o=new bO(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw fa(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fa(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw fa(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw fa(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw up(t,d,c);Gt(t,d)}}catch(o){if(o instanceof pr)throw o;Gt(t,"network-request-failed",{message:String(o)})}}async function yO(t,e,n,r,o={}){const i=await ii(t,e,n,r,o);return"mfaPendingCredential"in i&&Gt(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Tx(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?hp(t.config,o):`${t.config.apiScheme}://${o}`}class bO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lt(this.auth,"network-request-failed")),vO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Lt(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(t,e){return ii(t,"POST","/v1/accounts:delete",e)}async function _x(t,e){return ii(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xO(t,e=!1){const n=oi(t),r=await n.getIdToken(e),o=pp(r);z(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:Ki(Mu(o.auth_time)),issuedAtTime:Ki(Mu(o.iat)),expirationTime:Ki(Mu(o.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Mu(t){return Number(t)*1e3}function pp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ma("JWT malformed, contained fewer than 3 sections"),null;try{const o=hx(n);return o?JSON.parse(o):(Ma("Failed to decode base64 JWT payload"),null)}catch(o){return Ma("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ay(t){const e=pp(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pr&&kO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ki(this.lastLoginAt),this.creationTime=Ki(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t){var e;const n=t.auth,r=await t.getIdToken(),o=await bs(t,_x(n,{idToken:r}));z(o==null?void 0:o.users.length,n,"internal-error");const i=o.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Ix(i.providerUserInfo):[],a=CO(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new wh(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,u)}async function SO(t){const e=oi(t);await Dl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CO(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Ix(t){return t.map(e=>{var{providerId:n}=e,r=cp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e){const n=await Cx(t,{},async()=>{const r=Rs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=Tx(t,o,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Sx.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _O(t,e){return ii(t,"POST","/v2/accounts:revokeToken",fp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ay(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");const n=ay(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await TO(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new Ao;return r&&(z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),o&&(z(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),i&&(z(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cn{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=cp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await bs(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xO(this,e)}reload(){return SO(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(Rr(this.auth));const e=await this.getIdToken();return await bs(this,wO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,l,c,d;const u=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(o=n.email)!==null&&o!==void 0?o:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:x,isAnonymous:E,providerData:C,stsTokenManager:_}=n;z(y&&_,e,"internal-error");const S=Ao.fromJSON(this.name,_);z(typeof y=="string",e,"internal-error"),Pn(u,e.name),Pn(h,e.name),z(typeof x=="boolean",e,"internal-error"),z(typeof E=="boolean",e,"internal-error"),Pn(g,e.name),Pn(p,e.name),Pn(m,e.name),Pn(w,e.name),Pn(b,e.name),Pn(v,e.name);const T=new cn({uid:y,auth:e,email:h,emailVerified:x,displayName:u,isAnonymous:E,photoURL:p,phoneNumber:g,tenantId:m,stsTokenManager:S,createdAt:b,lastLoginAt:v});return C&&Array.isArray(C)&&(T.providerData=C.map(P=>Object.assign({},P))),w&&(T._redirectEventId=w),T}static async _fromIdTokenResponse(e,n,r=!1){const o=new Ao;o.updateFromServerResponse(n);const i=new cn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Dl(i),i}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];z(o.localId!==void 0,"internal-error");const i=o.providerUserInfo!==void 0?Ix(o.providerUserInfo):[],s=!(o.email&&o.passwordHash)&&!(i!=null&&i.length),a=new Ao;a.updateFromIdToken(r);const l=new cn({uid:o.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new wh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map;function un(t){En(t instanceof Function,"Expected a class definition");let e=ly.get(t);return e?(En(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ly.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Px.type="NONE";const cy=Px;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=ja(this.userKey,o.apiKey,i),this.fullPersistenceKey=ja("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new No(un(cy),e,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=o[0]||un(cy);const s=ja(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){const u=cn._fromJSON(e,d);c!==i&&(a=u),i=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new No(i,e,r):(i=l[0],a&&await i._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new No(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ax(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rx(e))return"Blackberry";if(Mx(e))return"Webos";if(Nx(e))return"Safari";if((e.includes("chrome/")||Bx(e))&&!e.includes("edge/"))return"Chrome";if(Ox(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ax(t=Ge()){return/firefox\//i.test(t)}function Nx(t=Ge()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bx(t=Ge()){return/crios\//i.test(t)}function Lx(t=Ge()){return/iemobile/i.test(t)}function Ox(t=Ge()){return/android/i.test(t)}function Rx(t=Ge()){return/blackberry/i.test(t)}function Mx(t=Ge()){return/webos/i.test(t)}function mp(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IO(t=Ge()){var e;return mp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PO(){return WB()&&document.documentMode===10}function jx(t=Ge()){return mp(t)||Ox(t)||Mx(t)||Rx(t)||/windows phone/i.test(t)||Lx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t,e=[]){let n;switch(t){case"Browser":n=uy(Ge());break;case"Worker":n=`${uy(Ge())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ms}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{const l=e(i);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e={}){return ii(t,"GET","/v2/passwordPolicy",fp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=6;class LO{constructor(e){var n,r,o,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:BO,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,i,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsLowercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dy(this),this.idTokenSubscription=new dy(this),this.beforeStateQueue=new AO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ex,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=un(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _x(this,{idToken:e}),r=await cn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(an(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(o=l.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(o)}catch(s){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(Rr(this));const n=e?oi(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(Rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(Rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NO(this),n=new LO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Os("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _O(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&un(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,o);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pc(t){return oi(t)}class dy{constructor(e){this.auth=e,this.observer=null,this.addObserver=QB(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RO(t){gp=t}function MO(t){return gp.loadJS(t)}function jO(){return gp.gapiScript}function DO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e){const n=yx(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(Rl(i,e??{}))return o;Gt(o,"already-initialized")}return n.initialize({options:e})}function $O(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(un);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UO(t,e,n){const r=Pc(t);z(r._canInitEmulator,r,"emulator-config-failed"),z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),i=Fx(e),{host:s,port:a}=VO(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||HO()}function Fx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VO(t){const e=Fx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:hy(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:hy(s)}}}function hy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ln("not implemented")}_getIdTokenResponse(e){return ln("not implemented")}_linkToIdToken(e,n){return ln("not implemented")}_getReauthenticationResolver(e){return ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t,e){return yO(t,"POST","/v1/accounts:signInWithIdp",fp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="http://localhost";class Hr extends $x{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,i=cp(n,["providerId","signInMethod"]);if(!r||!o)return null;const s=new Hr(r,o);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bo(e,n)}buildRequest(){const e={requestUri:zO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends vp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn extends Ds{constructor(){super("facebook.com")}static credential(e){return Hr._fromParams({providerId:Fn.PROVIDER_ID,signInMethod:Fn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fn.credentialFromTaggedObject(e)}static credentialFromError(e){return Fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fn.credential(e.oauthAccessToken)}catch{return null}}}Fn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn extends Ds{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hr._fromParams({providerId:tn.PROVIDER_ID,signInMethod:tn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tn.credentialFromTaggedObject(e)}static credentialFromError(e){return tn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return tn.credential(n,r)}catch{return null}}}tn.GOOGLE_SIGN_IN_METHOD="google.com";tn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends Ds{constructor(){super("github.com")}static credential(e){return Hr._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $n.credential(e.oauthAccessToken)}catch{return null}}}$n.GITHUB_SIGN_IN_METHOD="github.com";$n.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un extends Ds{constructor(){super("twitter.com")}static credential(e,n){return Hr._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Un.credential(n,r)}catch{return null}}}Un.TWITTER_SIGN_IN_METHOD="twitter.com";Un.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await cn._fromIdTokenResponse(e,r,o),s=fy(r);return new Wo({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=fy(r);return new Wo({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function fy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends pr{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Fl.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Fl(e,n,r,o)}}function Ux(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Fl._fromErrorAndOperation(t,i,e,r):i})}async function WO(t,e,n=!1){const r=await bs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e,n=!1){const{auth:r}=t;if(an(r.app))return Promise.reject(Rr(r));const o="reauthenticate";try{const i=await bs(t,Ux(r,o,e,t),n);z(i.idToken,r,"internal-error");const s=pp(i.idToken);z(s,r,"internal-error");const{sub:a}=s;return z(t.uid===a,r,"user-mismatch"),Wo._forOperation(t,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Gt(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e,n=!1){if(an(t.app))return Promise.reject(Rr(t));const r="signIn",o=await Ux(t,r,e),i=await Wo._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}function GO(t,e,n,r){return oi(t).onIdTokenChanged(e,n,r)}function YO(t,e,n){return oi(t).beforeAuthStateChanged(e,n)}const $l="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($l,"1"),this.storage.removeItem($l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=1e3,JO=10;class Hx extends Vx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);PO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,JO):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hx.type="LOCAL";const QO=Hx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends Vx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zx.type="SESSION";const Wx=zx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Ac(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(s).map(async c=>c(n.origin,i)),l=await ZO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ac.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,l)=>{const c=yp("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(u){const h=u;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return window}function tR(t){Kt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(){return typeof Kt().WorkerGlobalScope<"u"&&typeof Kt().importScripts=="function"}async function nR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oR(){return Kx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="firebaseLocalStorageDb",iR=1,Ul="firebaseLocalStorage",Gx="fbase_key";class Fs{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nc(t,e){return t.transaction([Ul],e?"readwrite":"readonly").objectStore(Ul)}function sR(){const t=indexedDB.deleteDatabase(qx);return new Fs(t).toPromise()}function xh(){const t=indexedDB.open(qx,iR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ul,{keyPath:Gx})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ul)?e(r):(r.close(),await sR(),e(await xh()))})})}async function py(t,e,n){const r=Nc(t,!0).put({[Gx]:e,value:n});return new Fs(r).toPromise()}async function aR(t,e){const n=Nc(t,!1).get(e),r=await new Fs(n).toPromise();return r===void 0?null:r.value}function my(t,e){const n=Nc(t,!0).delete(e);return new Fs(n).toPromise()}const lR=800,cR=3;class Yx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ac._getInstance(oR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nR(),!this.activeServiceWorker)return;this.sender=new eR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xh();return await py(e,$l,"1"),await my(e,$l),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>py(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>my(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=Nc(o,!1).getAll();return new Fs(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yx.type="LOCAL";const uR=Yx;new js(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e){return e?un(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends $x{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dR(t){return qO(t.auth,new bp(t),t.bypassAuthState)}function hR(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),KO(n,new bp(t),t.bypassAuthState)}async function fR(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),WO(n,new bp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dR;case"linkViaPopup":case"linkViaRedirect":return fR;case"reauthViaPopup":case"reauthViaRedirect":return hR;default:Gt(this.auth,"internal-error")}}resolve(e){En(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){En(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new js(2e3,1e4);async function mR(t,e,n){if(an(t.app))return Promise.reject(Lt(t,"operation-not-supported-in-this-environment"));const r=Pc(t);hO(t,e,vp);const o=Xx(r,n);return new Nr(r,"signInViaPopup",e,o).executeNotNull()}class Nr extends Jx{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,Nr.currentPopupAction&&Nr.currentPopupAction.cancel(),Nr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return z(e,this.auth,"internal-error"),e}async onExecution(){En(this.filter.length===1,"Popup operations only handle one event");const e=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pR.get())};e()}}Nr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="pendingRedirect",Da=new Map;class vR extends Jx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Da.get(this.auth._key());if(!e){try{const r=await yR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Da.set(this.auth._key(),e)}return this.bypassAuthState||Da.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yR(t,e){const n=xR(e),r=wR(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function bR(t,e){Da.set(t._key(),e)}function wR(t){return un(t._redirectPersistence)}function xR(t){return ja(gR,t.config.apiKey,t.name)}async function kR(t,e,n=!1){if(an(t.app))return Promise.reject(Rr(t));const r=Pc(t),o=Xx(r,e),s=await new vR(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=10*60*1e3;class SR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Qx(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lt(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ER&&this.cachedEventUids.clear(),this.cachedEventUids.has(gy(e))}saveEventToCache(e){this.cachedEventUids.add(gy(e)),this.lastProcessedEventTime=Date.now()}}function gy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Qx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e={}){return ii(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IR=/^https?/;async function PR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TR(t);for(const n of e)try{if(AR(n))return}catch{}Gt(t,"unauthorized-domain")}function AR(t){const e=bh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!IR.test(n))return!1;if(_R.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new js(3e4,6e4);function vy(){const t=Kt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BR(t){return new Promise((e,n)=>{var r,o,i;function s(){vy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vy(),n(Lt(t,"network-request-failed"))},timeout:NR.get()})}if(!((o=(r=Kt().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((i=Kt().gapi)===null||i===void 0)&&i.load)s();else{const a=DO("iframefcb");return Kt()[a]=()=>{gapi.load?s():n(Lt(t,"network-request-failed"))},MO(`${jO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fa=null,e})}let Fa=null;function LR(t){return Fa=Fa||BR(t),Fa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new js(5e3,15e3),RR="__/auth/iframe",MR="emulator/auth/iframe",jR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FR(t){const e=t.config;z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hp(e,MR):`https://${t.config.authDomain}/${RR}`,r={apiKey:e.apiKey,appName:t.name,v:Ms},o=DR.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Rs(r).slice(1)}`}async function $R(t){const e=await LR(t),n=Kt().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:FR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jR,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const s=Lt(t,"network-request-failed"),a=Kt().setTimeout(()=>{i(s)},OR.get());function l(){Kt().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VR=500,HR=600,zR="_blank",WR="http://localhost";class yy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KR(t,e,n,r=VR,o=HR){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},UR),{width:r.toString(),height:o.toString(),top:i,left:s}),c=Ge().toLowerCase();n&&(a=Bx(c)?zR:n),Ax(c)&&(e=e||WR,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[g,p])=>`${h}${g}=${p},`,"");if(IO(c)&&a!=="_self")return qR(e||"",a),new yy(null);const u=window.open(e||"",a,d);z(u,t,"popup-blocked");try{u.focus()}catch{}return new yy(u)}function qR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="__/auth/handler",YR="emulator/auth/handler",XR=encodeURIComponent("fac");async function by(t,e,n,r,o,i){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ms,eventId:o};if(e instanceof vp){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",JB(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,u]of Object.entries(i||{}))s[d]=u}if(e instanceof Ds){const d=e.getScopes().filter(u=>u!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${XR}=${encodeURIComponent(l)}`:"";return`${JR(t)}?${Rs(a).slice(1)}${c}`}function JR({config:t}){return t.emulator?hp(t,YR):`https://${t.authDomain}/${GR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju="webStorageSupport";class QR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wx,this._completeRedirectFn=kR,this._overrideRedirectResult=bR}async _openPopup(e,n,r,o){var i;En((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await by(e,n,r,bh(),o);return KR(e,s,yp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await by(e,n,r,bh(),o);return tR(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(En(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $R(e),r=new SR(e);return n.register("authEvent",o=>(z(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ju,{type:ju},o=>{var i;const s=(i=o==null?void 0:o[0])===null||i===void 0?void 0:i[ju];s!==void 0&&n(!!s),Gt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jx()||Nx()||mp()}}const ZR=QR;var wy="@firebase/auth",xy="1.7.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nM(t){vs(new zo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dx(t)},c=new OO(r,o,i,l);return $O(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vs(new zo("auth-internal",e=>{const n=Pc(e.getProvider("auth").getImmediate());return(r=>new eM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Po(wy,xy,tM(t)),Po(wy,xy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=5*60,oM=px("authIdTokenMaxAge")||rM;let ky=null;const iM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oM)return;const o=n==null?void 0:n.token;ky!==o&&(ky=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sM(t=QL()){const e=yx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FO(t,{popupRedirectResolver:ZR,persistence:[uR,QO,Wx]}),r=px("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const s=iM(i.toString());YO(n,s,()=>s(n.currentUser)),GO(n,a=>s(a))}}const o=$B("auth");return o&&UO(n,`http://${o}`),n}function aM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=Lt("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",aM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nM("Browser");console.log("AIzaSyBWmbmyU4621QPxS4x1ZKI4H7mVwezyIXQ");const lM={apiKey:"AIzaSyBWmbmyU4621QPxS4x1ZKI4H7mVwezyIXQ",authDomain:"mern-blog-71910.firebaseapp.com",projectId:"mern-blog-71910",storageBucket:"mern-blog-71910.appspot.com",messagingSenderId:"323738753441",appId:"1:323738753441:web:a3bf9eeee0635688f7d3e0"};bx(lM);const cM=new tn,uM=sM(),dM=async()=>{let t=null;return await mR(uM,cM).then(e=>{t=e.user}).catch(e=>{console.log(e)}),t},Ey=({type:t})=>{const{userAuth:{access_token:e},setUserAuth:n}=k.useContext(_e),r=(s,a)=>{Z.post("https://six0551c5f-blogiflux-server.onrender.com"+s,a).then(({data:l})=>{Al("user",JSON.stringify(l)),n(l)}).catch(l=>{console.log(l.response),Y.error(l.response.data.error)})},o=s=>{s.preventDefault();const a=t==="sign-in"?"/signin":"/signup",l=new FormData(formElement),c={};for(let[m,w]of l.entries())c[m]=w;const{fullname:d,email:u,password:h}=c;let g=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,p=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;if(d&&d.length<3)return Y.error("Fullname must be 3 letters long");if(!u.length)return Y.error("Enter Email");if(!g.test(u))return Y.error("Email is invalid");if(!p.test(h))return Y.error("Password should be 6 to 20 characters long with a numeric, 1 lowercase and 1 uppercase letter");r(a,c)},i=s=>{s.preventDefault(),dM().then(a=>{const l="/google-auth",c={access_token:a.accessToken};r(l,c)}).catch(a=>{Y.error("trouble login with google"),console.log(a)})};return e?f.jsx(Bf,{to:"/"}):f.jsx(Ce,{children:f.jsxs("section",{className:"h-cover flex items-center justify-center",children:[f.jsx(Ls,{}),f.jsxs("form",{className:"w-[80%] max-w-[400px]",id:"formElement",children:[f.jsx("h1",{className:"text-4xl font-gelasio capitalize text-center mb-24",children:t==="sign-in"?"Welcome back":"Join us today"}),t!=="sign-in"?f.jsx(sn,{name:"fullname",type:"text",placeholder:"Full Name",icon:"fi-rr-user"}):"",f.jsx(sn,{name:"email",type:"email",placeholder:"Email",icon:"fi-rr-envelope"}),f.jsx(sn,{name:"password",type:"password",placeholder:"Password",icon:"fi-rr-key"}),f.jsx("button",{className:"btn-dark center mt-14",type:"submit",onClick:o,children:t.replace("-"," ")}),f.jsxs("div",{className:"relative w-full flex items-center gap-2 my-10 opacity-10 uppercase text-black font-bold",children:[f.jsx("hr",{className:"w-1/2 border-black"}),f.jsx("p",{children:"or"}),f.jsx("hr",{className:"w-1/2 border-black"})]}),f.jsxs("button",{className:"btn-dark flex items-center justify-center gap-4 w-[90%] center",onClick:i,children:[f.jsx("img",{src:HN,alt:"",className:"w-5"}),"Continue with google"]}),t==="sign-in"?f.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Don't have an account?"," ",f.jsx(ee,{to:"/signup",className:"underline text-vlack text-xl ml-1",children:"Join us today"})]}):f.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Already a member?"," ",f.jsx(ee,{to:"/signin",className:"underline text-vlack text-xl ml-1",children:"Sign in here"})]})]})]})})},wp=async t=>{let e=null;return await Z.get("https://six0551c5f-blogiflux-server.onrender.com/get-upload-url").then(async({data:{uploadURL:n}})=>{await Z({method:"PUT",url:n,headers:{"Content-Type":"multipart/form-data"},data:t}).then(()=>{e=n.split("?")[0]})}),e},hM="/849e43cb-blogiflux-web/assets/blog banner light-4c269e06.png",fM="/849e43cb-blogiflux-web/assets/blog banner dark-5dfd346c.png";(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var pM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Du(){}Object.assign(Du,{default:Du,register:Du,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),o=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,c=i&&!s;(i||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(i||s||a||l)&&!t&&this.scrollIntoView(c)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let mM=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var Zx=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(Zx||{});const W={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},gM={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function $s(t,e,n="log",r,o="color: inherit"){if(!("console"in window)||!window.console[n])return;const i=["info","log","warn","error"].includes(n),s=[];switch($s.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!i||t)return;break}r&&s.push(r);const a="Editor.js 2.30.5",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;t&&(i?(s.unshift(l,o),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{i?r?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}$s.logLevel="VERBOSE";function vM(t){$s.logLevel=t}const ne=$s.bind(window,!1),wt=$s.bind(window,!0);function zr(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function fe(t){return zr(t)==="function"||zr(t)==="asyncfunction"}function Re(t){return zr(t)==="object"}function Sn(t){return zr(t)==="string"}function yM(t){return zr(t)==="boolean"}function Sy(t){return zr(t)==="number"}function Cy(t){return zr(t)==="undefined"}function Ct(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function ek(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function bM(t,e=()=>{},n=()=>{}){async function r(o,i,s){try{await o.function(o.data),await i(Cy(o.data)?{}:o.data)}catch{s(Cy(o.data)?{}:o.data)}}return t.reduce(async(o,i)=>(await o,r(i,e,n)),Promise.resolve())}function tk(t){return Array.prototype.slice.call(t)}function Vl(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function wM(t){return t.name.split(".").pop()}function xM(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function Ty(t,e,n){let r;return(...o)=>{const i=this,s=()=>{r=null,n||t.apply(i,o)},a=n&&!r;window.clearTimeout(r),r=window.setTimeout(s,e),a&&t.apply(i,o)}}function kh(t,e,n=void 0){let r,o,i,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,o),s||(r=o=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const d=e-(c-a);return r=this,o=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),a=c,i=t.apply(r,o),s||(r=o=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,d)),i}}function kM(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function Hl(t){return t[0].toUpperCase()+t.slice(1)}function Eh(t,...e){if(!e.length)return t;const n=e.shift();if(Re(t)&&Re(n))for(const r in n)Re(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Eh(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Eh(t,...e)}function xp(t){const e=kM();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function EM(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function SM(){return mM(10)}function CM(t){window.open(t,"_blank")}function TM(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function Sh(t,e,n){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&wt(r,"warn")}function si(t,e,n){const r=n.value?"value":"get",o=n[r],i=`#${e}Cache`;if(n[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,...s)),this[i]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete t[i],s.apply(this,a)}}return n}const nk=650;function ai(){return window.matchMedia(`(max-width: ${nk}px)`).matches}const Ch=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function _M(t,e){const n=Array.isArray(t)||Re(t),r=Array.isArray(e)||Re(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}let A=class He{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const o=document.createElement(e);if(Array.isArray(n)){const i=n.filter(s=>s!==void 0);o.classList.add(...i)}else n&&o.classList.add(n);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i]);return o}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(e,n),o.insertBefore(n,r),o.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return tk(e.querySelectorAll(He.allInputsSelector)).reduce((n,r)=>He.isNativeInput(r)||He.containsOnlyInlineElements(r)?[...n,r]:[...n,...He.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",o=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let i=e[r];if(He.isSingleTag(i)&&!He.isNativeInput(i)&&!He.isLineBreakTag(i))if(i[o])i=i[o];else if(i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return this.getDeepestNode(i,n)}return e}static isElement(e){return Sy(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return Sy(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(He.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=He.isContentEditable(e);return n}static isNodeEmpty(e,n){let r;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?r=e.value:r=e.textContent.replace("​",""),n&&(r=r.replace(new RegExp(n,"g"),"")),r.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,n){e.normalize();const r=[e];for(;r.length>0;)if(e=r.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,n))return!1;e.childNodes&&r.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=He.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return He.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;Sn(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=o=>!He.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return He.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...He.getDeepestBlockElements(r)],[])}static getHolder(e){return Sn(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=n.top+o,s=n.left+r;return{top:i,left:s,bottom:i+n.height,right:s+n.width}}};function IM(t){return!/[^\t\n\r ]/.test(t)}function PM(t){const e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,o=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=n*.8,l=(r-n)/2;return s+i+o+l+a}function rk(t){t.dataset.empty=A.isEmpty(t)?"true":"false"}const AM={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},NM={Text:"",Link:"",Bold:"",Italic:""},BM={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},LM={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},ok={ui:AM,toolNames:NM,tools:BM,blockTunes:LM},ik=class no{static ui(e,n){return no._t(e,n)}static t(e,n){return no._t(e,n)}static setDictionary(e){no.currentDictionary=e}static _t(e,n){const r=no.getNamespace(e);return!r||!r[n]?n:r[n]}static getNamespace(e){return e.split(".").reduce((n,r)=>!n||!Object.keys(n).length?{}:n[r],no.currentDictionary)}};ik.currentDictionary=ok;let Ke=ik,sk=class extends Error{};class Us{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=o=>{const i=n(o),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),i};this.subscribers[e].push(r)}emit(e,n){Ct(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,o)=>{const i=o(r);return i!==void 0?i:r},n)}off(e,n){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers={}}}function Qt(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},get focusable(){return t.focusable},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()},getActiveToolboxEntry(){return t.getActiveToolboxEntry()}})}class Vs{constructor(){this.allListeners=[]}on(e,n,r,o=!1){const i=TM("l"),s={id:i,element:e,eventType:n,handler:r,options:o};if(!this.findOne(e,n,r))return this.allListeners.push(s),e.addEventListener(n,r,o),i}off(e,n,r,o){const i=this.findAll(e,n,r);i.forEach((s,a)=>{const l=this.allListeners.indexOf(i[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const o=this.findAll(e,n,r);return o.length>0?o[0]:null}findAll(e,n,r){let o;const i=e?this.findByEventTarget(e):[];return e&&n&&r?o=i.filter(s=>s.eventType===n&&s.handler===r):e&&n?o=i.filter(s=>s.eventType===n):o=i,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}let X=class ak{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new Vs,this.readOnlyMutableListeners={on:(r,o,i,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,o,i,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===ak)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},V=class Nn{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?A.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(Nn.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${Nn.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${Nn.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!Nn.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return ne("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return ne("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("​")),n.insertNode(o),r=o.getBoundingClientRect();const i=o.parentNode;i.removeChild(o),i.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),o=window.getSelection();return A.isNativeInput(e)?A.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),o.removeAllRanges(),o.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=Nn.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=Nn.range;if(e===null)return;const n=A.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return A.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=A.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=Nn.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const o=window.getSelection();let i=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(s=>{let a=r;for(;a>0&&s.parentNode&&!(s.tagName===e&&(i=s,n&&s.classList&&!s.classList.contains(n)&&(i=null),i));)s=s.parentNode,a--}),i)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}};function OM(t,e){const{type:n,target:r,addedNodes:o,removedNodes:i}=t;return t.type==="attributes"&&t.attributeName==="data-empty"?!1:!!(e.contains(r)||n==="childList"&&(Array.from(o).some(s=>s===e)||Array.from(i).some(s=>s===e)))}const Th="redactor dom changed",lk="block changed",ck="fake cursor is about to be toggled",uk="fake cursor have been set",ws="editor mobile layout toggled";function dk(t,e){if(!t.conversionConfig)return!1;const n=t.conversionConfig[e];return fe(n)||Sn(n)}function zl(t,e){return dk(t.tool,e)}function hk(t,e){return Object.entries(t).some(([n,r])=>e[n]&&_M(e[n],r))}async function fk(t,e){const n=(await t.save()).data;return e.reduce((r,o)=>{if(!dk(o,"import"))return r;const i=o.toolbox.filter(s=>{if(Ct(s)||!s.icon)return!1;if(s.data!==void 0){if(hk(s.data,n))return!1}else if(o.name===t.name)return!1;return!0});return r.push({...o,toolbox:i}),r},[])}function _y(t,e){return t.mergeable?t.name===e.name?!0:zl(e,"export")&&zl(t,"import"):!1}function RM(t,e){const n=e==null?void 0:e.export;return fe(n)?n(t):Sn(n)?t[n]:(n!==void 0&&ne("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function Iy(t,e){const n=e==null?void 0:e.import;return fe(n)?n(t):Sn(n)?{[n]:t}:(n!==void 0&&ne("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var ce=(t=>(t.Default="default",t.Separator="separator",t.Html="html",t))(ce||{}),en=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(en||{});let dn=class Bn extends Us{constructor({id:e=SM(),data:n,tool:r,readOnly:o,tunesData:i},s){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(a=void 0)=>{const l=a===void 0,c=a instanceof InputEvent;!l&&!c&&this.detectToolRootChange(a);let d;l||c?d=!0:d=!(a.length>0&&a.every(u=>{const{addedNodes:h,removedNodes:g,target:p}=u;return[...Array.from(h),...Array.from(g),p].some(m=>(A.isElement(m)||(m=m.parentElement),m&&m.closest('[data-mutation-free="true"]')!==null))})),d&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.editorEventBus=s||null,this.blockAPI=new Qt(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,o),this.tunes=r.tunes,this.composeTunes(i),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=A.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!Ct(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return fe(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=A.isEmpty(this.pluginsContent,"/"),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var n,r;this.holder.classList.toggle(Bn.CSS.selected,e);const o=e===!0&&V.isRangeInsideContainer(this.holder),i=e===!1&&V.isFakeCursorInsideContainer(this.holder);(o||i)&&((n=this.editorEventBus)==null||n.emit(ck,{state:e}),o?V.addFakeCursor():V.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(uk,{state:e}))}get selected(){return this.holder.classList.contains(Bn.CSS.selected)}set stretched(e){this.holder.classList.toggle(Bn.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(Bn.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(Bn.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(fe(this.toolInstance[e])){e==="appendCallback"&&ne("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){ne(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([i,s])=>{if(fe(s.save))try{n[i]=s.save()}catch(a){ne(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let o;return Promise.resolve(e).then(i=>(o=window.performance.now(),{id:this.id,tool:this.name,data:i,tunes:n,time:o-r})).catch(i=>{ne(`Saving process for ${this.name} tool failed due to the ${i}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=[],n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return A.isElement(r)?e.push({type:ce.Html,element:r}):Array.isArray(r)?e.push(...r):e.push(r),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(o=>o.render()).forEach(o=>{A.isElement(o)?n.push({type:ce.Html,element:o}):Array.isArray(o)?n.push(...o):n.push(o)}),{toolTunes:e,commonTunes:n}}updateCurrentInput(){this.currentInput=A.isNativeInput(document.activeElement)||!V.anchorNode?document.activeElement:V.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),fe(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data,r=e;return r==null?void 0:r.find(o=>hk(o.data,n))}async exportDataAsString(){const e=await this.data;return RM(e,this.tool.conversionConfig)}compose(){const e=A.make("div",Bn.CSS.wrapper),n=A.make("div",Bn.CSS.content),r=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let o=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(i=>{if(fe(i.wrap))try{o=i.wrap(o)}catch(s){ne(`Tune ${i.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),A.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),A.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(o=>OM(o,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(Th,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Th,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(rk)}};class MM extends X{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},o,i,s,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:o,needToFocus:i,replace:s});return new Qt(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new dn({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,n,r)=>{const{BlockManager:o}=this.Editor,i=o.getBlockById(e);if(i===void 0)throw new Error(`Block with id "${e}" not found`);const s=await o.update(i,n,r);return new Qt(s)},this.convert=async(e,n,r)=>{var o,i;const{BlockManager:s,Tools:a}=this.Editor,l=s.getBlockById(e);if(!l)throw new Error(`Block with id "${e}" not found`);const c=a.blockTools.get(l.name),d=a.blockTools.get(n);if(!d)throw new Error(`Block Tool with type "${n}" not found`);const u=((o=c==null?void 0:c.conversionConfig)==null?void 0:o.export)!==void 0,h=((i=d.conversionConfig)==null?void 0:i.import)!==void 0;if(u&&h){const g=await s.convert(l,n,r);return new Qt(g)}else{const g=[u?!1:Hl(l.name),h?!1:Hl(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${l.name}" to "${n}" is not possible. ${g} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const r=e.map(({id:o,type:i,data:s})=>this.Editor.BlockManager.composeBlock({id:o,tool:i||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(r,n),r.map(o=>new Qt(o))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){wt("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){wt("There is no block at index `"+e+"`","warn");return}return new Qt(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(wt("There is no block with id `"+e+"`","warn"),null):new Qt(n)}getBlockByElement(e){const n=this.Editor.BlockManager.getBlock(e);if(n===void 0){wt("There is no block corresponding to element `"+e+"`","warn");return}return new Qt(n)}swap(e,n){ne("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(n)}catch(n){wt(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){Sh(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){ne("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}function jM(t,e){return typeof t=="number"?e.BlockManager.getBlockByIndex(t):typeof t=="string"?e.BlockManager.getBlockById(t):e.BlockManager.getBlockById(t.id)}class DM extends X{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>{const o=jM(e,this.Editor);return o===void 0?!1:(this.Editor.Caret.setToBlock(o,n,r),!0)},this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class FM extends X{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}let $M=class pk extends X{static getNamespace(e,n){return n?`blockTunes.${e}`:`tools.${e}`}get methods(){return{t:()=>{wt("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,n){return Object.assign(this.methods,{t:r=>Ke.t(pk.getNamespace(e,n),r)})}};class UM extends X{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,n){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,n)})}}class VM extends X{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class HM extends X{get methods(){return{on:(e,n,r,o)=>this.on(e,n,r,o),off:(e,n,r,o)=>this.off(e,n,r,o),offById:e=>this.offById(e)}}on(e,n,r,o){return this.listeners.on(e,n,r,o)}off(e,n,r,o){this.listeners.off(e,n,r,o)}offById(e){this.listeners.offById(e)}}var mk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=0)}([function(n,r,o){o(1),n.exports=function(){var i=o(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=i.getWrapper(),document.body.appendChild(a)})();var c=null,d=l.time||8e3;switch(l.type){case"confirm":c=i.confirm(l);break;case"prompt":c=i.prompt(l);break;default:c=i.alert(l),window.setTimeout(function(){c.remove()},d)}a.appendChild(c),c.classList.add(s)}}}}()},function(n,r,o){var i=o(2);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(4)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var d=l[1]||"",u=l[3];if(!u)return d;if(c&&typeof btoa=="function"){var h=(p=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),g=u.sources.map(function(m){return"/*# sourceURL="+u.sourceRoot+m+" */"});return[d].concat(g).concat([h]).join(`
`)}var p;return[d].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(l[d]=!0)}for(c=0;c<s.length;c++){var u=s[c];typeof u[0]=="number"&&l[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),i.push(u))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(S){var T={};return function(P){if(typeof P=="function")return P();if(T[P]===void 0){var O=(function(L){return document.querySelector(L)}).call(this,P);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch{O=null}T[P]=O}return T[P]}}(),d=null,u=0,h=[],g=o(5);function p(S,T){for(var P=0;P<S.length;P++){var O=S[P],L=a[O.id];if(L){L.refs++;for(var R=0;R<L.parts.length;R++)L.parts[R](O.parts[R]);for(;R<O.parts.length;R++)L.parts.push(x(O.parts[R],T))}else{var j=[];for(R=0;R<O.parts.length;R++)j.push(x(O.parts[R],T));a[O.id]={id:O.id,refs:1,parts:j}}}}function m(S,T){for(var P=[],O={},L=0;L<S.length;L++){var R=S[L],j=T.base?R[0]+T.base:R[0],U={css:R[1],media:R[2],sourceMap:R[3]};O[j]?O[j].parts.push(U):P.push(O[j]={id:j,parts:[U]})}return P}function w(S,T){var P=c(S.insertInto);if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var O=h[h.length-1];if(S.insertAt==="top")O?O.nextSibling?P.insertBefore(T,O.nextSibling):P.appendChild(T):P.insertBefore(T,P.firstChild),h.push(T);else if(S.insertAt==="bottom")P.appendChild(T);else{if(typeof S.insertAt!="object"||!S.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var L=c(S.insertInto+" "+S.insertAt.before);P.insertBefore(T,L)}}function b(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S);var T=h.indexOf(S);T>=0&&h.splice(T,1)}function v(S){var T=document.createElement("style");return S.attrs.type===void 0&&(S.attrs.type="text/css"),y(T,S.attrs),w(S,T),T}function y(S,T){Object.keys(T).forEach(function(P){S.setAttribute(P,T[P])})}function x(S,T){var P,O,L,R;if(T.transform&&S.css){if(!(R=T.transform(S.css)))return function(){};S.css=R}if(T.singleton){var j=u++;P=d||(d=v(T)),O=_.bind(null,P,j,!1),L=_.bind(null,P,j,!0)}else S.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(P=function(U){var q=document.createElement("link");return U.attrs.type===void 0&&(U.attrs.type="text/css"),U.attrs.rel="stylesheet",y(q,U.attrs),w(U,q),q}(T),O=(function(U,q,ke){var B=ke.css,D=ke.sourceMap,H=q.convertToAbsoluteUrls===void 0&&D;(q.convertToAbsoluteUrls||H)&&(B=g(B)),D&&(B+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(D))))+" */");var F=new Blob([B],{type:"text/css"}),Q=U.href;U.href=URL.createObjectURL(F),Q&&URL.revokeObjectURL(Q)}).bind(null,P,T),L=function(){b(P),P.href&&URL.revokeObjectURL(P.href)}):(P=v(T),O=(function(U,q){var ke=q.css,B=q.media;if(B&&U.setAttribute("media",B),U.styleSheet)U.styleSheet.cssText=ke;else{for(;U.firstChild;)U.removeChild(U.firstChild);U.appendChild(document.createTextNode(ke))}}).bind(null,P),L=function(){b(P)});return O(S),function(U){if(U){if(U.css===S.css&&U.media===S.media&&U.sourceMap===S.sourceMap)return;O(S=U)}else L()}}n.exports=function(S,T){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(T=T||{}).attrs=typeof T.attrs=="object"?T.attrs:{},T.singleton||typeof T.singleton=="boolean"||(T.singleton=l()),T.insertInto||(T.insertInto="head"),T.insertAt||(T.insertAt="bottom");var P=m(S,T);return p(P,T),function(O){for(var L=[],R=0;R<P.length;R++){var j=P[R];(U=a[j.id]).refs--,L.push(U)}for(O&&p(m(O,T),T),R=0;R<L.length;R++){var U;if((U=L[R]).refs===0){for(var q=0;q<U.parts.length;q++)U.parts[q]();delete a[U.id]}}}};var E,C=(E=[],function(S,T){return E[S]=T,E.filter(Boolean).join(`
`)});function _(S,T,P,O){var L=P?"":O.css;if(S.styleSheet)S.styleSheet.cssText=C(T,L);else{var R=document.createTextNode(L),j=S.childNodes;j[T]&&S.removeChild(j[T]),j.length?S.insertBefore(R,j[T]):S.appendChild(R)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var d,u=c.trim().replace(/^"(.*)"$/,function(h,g){return g}).replace(/^'(.*)'$/,function(h,g){return g});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?l:(d=u.indexOf("//")===0?u:u.indexOf("/")===0?s+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(n,r,o){var i,s,a,l,c,d,u,h,g;n.exports=(i="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",d="cdx-notify__input",u="cdx-notify__button",h="cdx-notify__btns-wrapper",{alert:g=function(p){var m=document.createElement("DIV"),w=document.createElement("DIV"),b=p.message,v=p.style;return m.classList.add(s),v&&m.classList.add(s+"--"+v),m.innerHTML=b,w.classList.add(a),w.addEventListener("click",m.remove.bind(m)),m.appendChild(w),m},confirm:function(p){var m=g(p),w=document.createElement("div"),b=document.createElement("button"),v=document.createElement("button"),y=m.querySelector("."+a),x=p.cancelHandler,E=p.okHandler;return w.classList.add(h),b.innerHTML=p.okText||"Confirm",v.innerHTML=p.cancelText||"Cancel",b.classList.add(u),v.classList.add(u),b.classList.add(l),v.classList.add(c),x&&typeof x=="function"&&(v.addEventListener("click",x),y.addEventListener("click",x)),E&&typeof E=="function"&&b.addEventListener("click",E),b.addEventListener("click",m.remove.bind(m)),v.addEventListener("click",m.remove.bind(m)),w.appendChild(b),w.appendChild(v),m.appendChild(w),m},prompt:function(p){var m=g(p),w=document.createElement("div"),b=document.createElement("button"),v=document.createElement("input"),y=m.querySelector("."+a),x=p.cancelHandler,E=p.okHandler;return w.classList.add(h),b.innerHTML=p.okText||"Ok",b.classList.add(u),b.classList.add(l),v.classList.add(d),p.placeholder&&v.setAttribute("placeholder",p.placeholder),p.default&&(v.value=p.default),p.inputType&&(v.type=p.inputType),x&&typeof x=="function"&&y.addEventListener("click",x),E&&typeof E=="function"&&b.addEventListener("click",function(){E(v.value)}),b.addEventListener("click",m.remove.bind(m)),w.appendChild(v),w.appendChild(b),m.appendChild(w),m},getWrapper:function(){var p=document.createElement("DIV");return p.classList.add(i),p}})}])})})(mk);var zM=mk.exports;const WM=Bc(zM);class KM{show(e){WM.show(e)}}class qM extends X{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new KM}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class GM extends X{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var gk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(pM,function(){function n(u){var h=u.tags,g=Object.keys(h),p=g.map(function(m){return typeof h[m]}).every(function(m){return m==="object"||m==="boolean"||m==="function"});if(!p)throw new Error("The configuration was invalid");this.config=u}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(u){return r.indexOf(u.nodeName)!==-1}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(u){return i.indexOf(u.nodeName)!==-1}n.prototype.clean=function(u){const h=document.implementation.createHTMLDocument(),g=h.createElement("div");return g.innerHTML=u,this._sanitize(h,g),g.innerHTML},n.prototype._sanitize=function(u,h){var g=a(u,h),p=g.firstChild();if(p)do{if(p.nodeType===Node.TEXT_NODE)if(p.data.trim()===""&&(p.previousElementSibling&&o(p.previousElementSibling)||p.nextElementSibling&&o(p.nextElementSibling))){h.removeChild(p),this._sanitize(u,h);break}else continue;if(p.nodeType===Node.COMMENT_NODE){h.removeChild(p),this._sanitize(u,h);break}var m=s(p),w;m&&(w=Array.prototype.some.call(p.childNodes,o));var b=!!h.parentNode,v=o(h)&&o(p)&&b,y=p.nodeName.toLowerCase(),x=l(this.config,y,p),E=m&&w;if(E||c(p,x)||!this.config.keepNestedBlockElements&&v){if(!(p.nodeName==="SCRIPT"||p.nodeName==="STYLE"))for(;p.childNodes.length>0;)h.insertBefore(p.childNodes[0],p);h.removeChild(p),this._sanitize(u,h);break}for(var C=0;C<p.attributes.length;C+=1){var _=p.attributes[C];d(_,x,p)&&(p.removeAttribute(_.name),C=C-1)}this._sanitize(u,p)}while(p=g.nextSibling())};function a(u,h){return u.createTreeWalker(h,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(u,h,g){return typeof u.tags[h]=="function"?u.tags[h](g):u.tags[h]}function c(u,h){return typeof h>"u"?!0:typeof h=="boolean"?!h:!1}function d(u,h,g){var p=u.name.toLowerCase();return h===!0?!1:typeof h[p]=="function"?!h[p](u.value,g):typeof h[p]>"u"||h[p]===!1?!0:typeof h[p]=="string"?h[p]!==u.value:!1}return n})})(gk);var YM=gk.exports;const XM=Bc(YM);function kp(t,e){return t.map(n=>{const r=fe(e)?e(n.tool):e;return Ct(r)||(n.data=Ep(n.data,r)),n})}function Vt(t,e={}){const n={tags:e};return new XM(n).clean(t)}function Ep(t,e){return Array.isArray(t)?JM(t,e):Re(t)?QM(t,e):Sn(t)?ZM(t,e):t}function JM(t,e){return t.map(n=>Ep(n,e))}function QM(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const o=t[r],i=ej(e[r])?e[r]:e;n[r]=Ep(o,i)}return n}function ZM(t,e){return Re(e)?Vt(t,e):e===!1?Vt(t,{}):t}function ej(t){return Re(t)||yM(t)||fe(t)}class tj extends X{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return Vt(e,n)}}class nj extends X{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(wt(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class rj extends X{constructor(){super(...arguments),this.selectionUtils=new V}get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,n){return this.selectionUtils.findParentTag(e,n)}expandToTag(e){this.selectionUtils.expandToTag(e)}}class oj extends X{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class ij extends X{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class sj extends X{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){wt("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){wt("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var vk={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){o.r(r),o.d(r,"default",function(){return i});class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const d=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(d.hidingDelay&&(this.hidingDelay=d.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),d.placement){case"top":this.placeTop(a,d);break;case"left":this.placeLeft(a,d);break;case"right":this.placeRight(a,d);break;case"bottom":default:this.placeBottom(a,d)}d&&d.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},d.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=o(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",d,u)}placeTop(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",d,u)}placeLeft(a,l){const c=a.getBoundingClientRect(),d=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",d,u)}placeRight(a,l){const c=a.getBoundingClientRect(),d=c.right+this.offsetRight+l.marginRight,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",d,u)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const d=document.createElement(a);Array.isArray(l)?d.classList.add(...l):l&&d.classList.add(l);for(const u in c)c.hasOwnProperty(u)&&(d[u]=c[u]);return d}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(vk);var aj=vk.exports;const lj=Bc(aj);let Ot=null;function Sp(){Ot||(Ot=new lj)}function cj(t,e,n){Sp(),Ot==null||Ot.show(t,e,n)}function Wl(t=!1){Sp(),Ot==null||Ot.hide(t)}function Kl(t,e,n){Sp(),Ot==null||Ot.onHover(t,e,n)}function uj(){Ot==null||Ot.destroy(),Ot=null}class dj extends X{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n})}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){cj(e,n,r)}hide(){Wl()}onHover(e,n,r){Kl(e,n,r)}}class hj extends X{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function yk(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if(Re(o)){const i=e?`${e}.${r}`:r;Object.values(o).every(s=>Sn(s))?n[r]=i:n[r]=yk(o,i);return}n[r]=o}),n}const at=yk(ok);function fj(t,e){const n={};return Object.keys(t).forEach(r=>{const o=e[r];o!==void 0?n[o]=t[r]:n[r]=t[r]}),n}const bk=class Pi{constructor(e,n){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=n}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(Pi.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(Pi.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(this.items.length===0)return this.cursor;let n=this.cursor;return n===-1?n=e===Pi.directions.RIGHT?-1:0:this.items[n].classList.remove(this.focusedCssClass),e===Pi.directions.RIGHT?n=(n+1)%this.items.length:n=(this.items.length+n-1)%this.items.length,A.canSetCaret(this.items[n])&&Vl(()=>V.setCursor(this.items[n]),50)(),this.items[n].classList.add(this.focusedCssClass),n}};bk.directions={RIGHT:"right",LEFT:"left"};let xi=bk,ql=class _h{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(_h.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case W.TAB:this.handleTabPress(n);break;case W.LEFT:case W.UP:this.flipLeft();break;case W.RIGHT:case W.DOWN:this.flipRight();break;case W.ENTER:this.handleEnterPress(n);break}},this.iterator=new xi(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||_h.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[W.TAB,W.LEFT,W.RIGHT,W.ENTER,W.UP,W.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?xi.directions.LEFT:xi.directions.RIGHT){case xi.directions.RIGHT:this.flipRight();break;case xi.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),fe(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}};const pj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',mj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',gj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',vj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',yj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',bj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',wj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',xj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Py='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',kj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',Ej='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',wk='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',Sj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Cj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Tj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',_j="__",Ij="--";function mr(t){return(e,n)=>[[t,e].filter(r=>!!r).join(_j),n].filter(r=>!!r).join(Ij)}const ki=mr("ce-hint"),Ei={root:ki(),alignedStart:ki(null,"align-left"),alignedCenter:ki(null,"align-center"),title:ki("title"),description:ki("description")};class Pj{constructor(e){this.nodes={root:A.make("div",[Ei.root,e.alignment==="center"?Ei.alignedCenter:Ei.alignedStart]),title:A.make("div",Ei.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),e.description!==void 0&&(this.nodes.description=A.make("div",Ei.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}let Cp=class{constructor(e){this.params=e}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){Wl()}onChildrenOpen(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onClose)=="function"&&this.params.children.onClose()}handleClick(){var e,n;this.params!==void 0&&"onActivate"in this.params&&((n=(e=this.params).onActivate)==null||n.call(e,this.params))}addHint(e,n){const r=new Pj(n);Kl(e,r.getElement(),{placement:n.position,hidingDelay:100})}get children(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.isOpen)===!0}get isChildrenFlippable(){var e;return!(this.params===void 0||!("children"in this.params)||((e=this.params.children)==null?void 0:e.isFlippable)===!1)}get isChildrenSearchable(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}};const ot=mr("ce-popover-item"),ve={container:ot(),active:ot(null,"active"),disabled:ot(null,"disabled"),focused:ot(null,"focused"),hidden:ot(null,"hidden"),confirmationState:ot(null,"confirmation"),noHover:ot(null,"no-hover"),noFocus:ot(null,"no-focus"),title:ot("title"),secondaryTitle:ot("secondary-title"),icon:ot("icon"),iconTool:ot("icon","tool"),iconChevronRight:ot("icon","chevron-right"),wobbleAnimation:mr("wobble")()};let Br=class extends Cp{constructor(e,n){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(ve.noFocus)},this.removeSpecialHoverBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(ve.noHover)},this.onErrorAnimationEnd=()=>{var r,o;(r=this.nodes.icon)==null||r.classList.remove(ve.wobbleAnimation),(o=this.nodes.icon)==null||o.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,n)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(ve.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var n;(n=this.nodes.root)==null||n.classList.toggle(ve.active,e)}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(ve.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,n){var r,o;const i=(n==null?void 0:n.wrapperTag)||"div",s=A.make(i,ve.container,{type:i==="button"?"button":void 0});return e.name&&(s.dataset.itemName=e.name),this.nodes.icon=A.make("div",[ve.icon,ve.iconTool],{innerHTML:e.icon||wj}),s.appendChild(this.nodes.icon),e.title!==void 0&&s.appendChild(A.make("div",ve.title,{innerHTML:e.title||""})),e.secondaryLabel&&s.appendChild(A.make("div",ve.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&s.appendChild(A.make("div",[ve.icon,ve.iconChevronRight],{innerHTML:vj})),this.isActive&&s.classList.add(ve.active),e.isDisabled&&s.classList.add(ve.disabled),e.hint!==void 0&&((r=n==null?void 0:n.hint)==null?void 0:r.enabled)!==!1&&this.addHint(s,{...e.hint,position:((o=n==null?void 0:n.hint)==null?void 0:o.position)||"right"}),s}enableConfirmationMode(e){if(this.nodes.root===null)return;const n={...this.params,...e,confirmation:"confirmation"in e?e.confirmation:void 0},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(ve.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(ve.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,n,r;(e=this.nodes.root)==null||e.classList.add(ve.noHover),(n=this.nodes.root)==null||n.classList.add(ve.noFocus),(r=this.nodes.root)==null||r.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(e=this.nodes.root)==null||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var n;if(!("confirmation"in e)||e.confirmation===void 0)try{(n=e.onActivate)==null||n.call(e,e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){var e,n,r;(e=this.nodes.icon)!=null&&e.classList.contains(ve.wobbleAnimation)||((n=this.nodes.icon)==null||n.classList.add(ve.wobbleAnimation),(r=this.nodes.icon)==null||r.addEventListener("animationend",this.onErrorAnimationEnd))}};const Fu=mr("ce-popover-item-separator"),$u={container:Fu(),line:Fu("line"),hidden:Fu(null,"hidden")};let xk=class extends Cp{constructor(){super(),this.nodes={root:A.make("div",$u.container),line:A.make("div",$u.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle($u.hidden,e)}};var qt=(t=>(t.Closed="closed",t.ClosedOnActivate="closed-on-activate",t))(qt||{});const Ve=mr("ce-popover"),we={popover:Ve(),popoverContainer:Ve("container"),popoverOpenTop:Ve(null,"open-top"),popoverOpenLeft:Ve(null,"open-left"),popoverOpened:Ve(null,"opened"),search:Ve("search"),nothingFoundMessage:Ve("nothing-found-message"),nothingFoundMessageDisplayed:Ve("nothing-found-message","displayed"),items:Ve("items"),overlay:Ve("overlay"),overlayHidden:Ve("overlay","hidden"),popoverNested:Ve(null,"nested"),getPopoverNestedClass:t=>Ve(null,`nested-level-${t.toString()}`),popoverInline:Ve(null,"inline"),popoverHeader:Ve("header")};var Lo=(t=>(t.NestingLevel="--nesting-level",t.PopoverHeight="--popover-height",t.InlinePopoverWidth="--inline-popover-width",t.TriggerItemLeft="--trigger-item-left",t.TriggerItemTop="--trigger-item-top",t))(Lo||{});const Ay=mr("ce-popover-item-html"),Ny={root:Ay(),hidden:Ay(null,"hidden")};let xs=class extends Cp{constructor(e,n){var r,o;super(e),this.nodes={root:A.make("div",Ny.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),e.hint!==void 0&&((r=n==null?void 0:n.hint)==null?void 0:r.enabled)!==!1&&this.addHint(this.nodes.root,{...e.hint,position:((o=n==null?void 0:n.hint)==null?void 0:o.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Ny.hidden,e)}getControls(){const e=this.nodes.root.querySelectorAll(`button, ${A.allInputsSelector}`);return Array.from(e)}},kk=class extends Us{constructor(e,n={}){super(),this.params=e,this.itemsRenderParams=n,this.listeners=new Vs,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages={...this.messages,...e.messages}),this.nodes={},this.nodes.popoverContainer=A.make("div",[we.popoverContainer]),this.nodes.nothingFoundMessage=A.make("div",[we.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=A.make("div",[we.items]),this.items.forEach(r=>{const o=r.getElement();o!==null&&this.nodes.items.appendChild(o)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",r=>this.handleClick(r)),this.nodes.popover=A.make("div",[we.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(e=>e instanceof Br)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(we.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(we.popoverOpened),this.nodes.popover.classList.remove(we.popoverOpenTop),this.itemsDefault.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),this.emit(qt.Closed)}destroy(){var e;this.items.forEach(n=>n.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(e=this.search)==null||e.destroy()}activateItemByName(e){const n=this.items.find(r=>r.name===e);this.handleItemClick(n)}buildItems(e){return e.map(n=>{switch(n.type){case ce.Separator:return new xk;case ce.Html:return new xs(n,this.itemsRenderParams[ce.Html]);default:return new Br(n,this.itemsRenderParams[ce.Default])}})}getTargetItem(e){return this.items.filter(n=>n instanceof Br||n instanceof xs).find(n=>{const r=n.getElement();return r===null?!1:e.composedPath().includes(r)})}handleItemClick(e){if(!("isDisabled"in e&&e.isDisabled)){if(e.hasChildren){this.showNestedItems(e),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick();return}this.itemsDefault.filter(n=>n!==e).forEach(n=>n.reset()),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit(qt.ClosedOnActivate))}}handleClick(e){const n=this.getTargetItem(e);n!==void 0&&this.handleItemClick(n)}toggleItemActivenessIfNeeded(e){if(e instanceof Br&&(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string")){const n=this.itemsDefault.filter(r=>r.toggle===e.toggle);if(n.length===1){e.toggleActive();return}n.forEach(r=>{r.toggleActive(r===e)})}}};var Gl=(t=>(t.Search="search",t))(Gl||{});const Uu=mr("cdx-search-field"),Vu={wrapper:Uu(),icon:Uu("icon"),input:Uu("input")};class Aj extends Us{constructor({items:e,placeholder:n}){super(),this.listeners=new Vs,this.items=e,this.wrapper=A.make("div",Vu.wrapper);const r=A.make("div",Vu.icon,{innerHTML:Sj});this.input=A.make("input",Vu.input,{placeholder:n,tabIndex:-1}),this.wrapper.appendChild(r),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(Gl.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(Gl.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n,r;const o=((n=e.title)==null?void 0:n.toLowerCase())||"",i=(r=this.searchQuery)==null?void 0:r.toLowerCase();return i!==void 0?o.includes(i):!1}}var Nj=Object.defineProperty,Bj=Object.getOwnPropertyDescriptor,Lj=(t,e,n,r)=>{for(var o=r>1?void 0:r?Bj(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&Nj(e,n,o),o};const Ek=class Sk extends kk{constructor(e,n){super(e,n),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var r;super.hide(),this.destroyNestedPopoverIfExists(),(r=this.flipper)==null||r.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const r=this.itemsDefault.find(o=>o.isFocused);r==null||r.onFocus()},this.onSearch=r=>{var o;const i=r.query==="",s=r.items.length===0;this.items.forEach(l=>{let c=!1;l instanceof Br?c=!r.items.includes(l):(l instanceof xk||l instanceof xs)&&(c=s||!i),l.toggleHidden(c)}),this.toggleNothingFoundMessage(s);const a=r.query===""?this.flippableElements:r.items.map(l=>l.getElement());(o=this.flipper)!=null&&o.isActivated&&(this.flipper.deactivate(),this.flipper.activate(a))},e.nestingLevel!==void 0&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(we.popoverNested),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",r=>this.handleHover(r)),e.searchable&&this.addSearch(),e.flippable!==!1&&(this.flipper=new ql({items:this.flippableElements,focusedItemClass:ve.focused,allowedKeys:[W.TAB,W.UP,W.DOWN,W.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(Lo.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(we.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(we.popoverOpenLeft),super.show(),(e=this.flipper)==null||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){const n=this.getTargetItem(e);n!==void 0&&this.previouslyHoveredItem!==n&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=n,n.hasChildren&&this.showNestedPopoverForItem(n))}setTriggerItemPosition(e,n){const r=n.getElement(),o=(r?r.offsetTop:0)-this.scrollTop,i=this.offsetTop+o;e.style.setProperty(Lo.TriggerItemTop,i+"px")}destroyNestedPopoverIfExists(){var e,n;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(qt.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(e=this.flipper)==null||e.activate(this.flippableElements),(n=this.nestedPopoverTriggerItem)==null||n.onChildrenClose())}showNestedPopoverForItem(e){var n;this.nestedPopover=new Sk({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on(qt.ClosedOnActivate,this.hide);const r=this.nestedPopover.getElement();return this.nodes.popover.appendChild(r),this.setTriggerItemPosition(r,e),r.style.setProperty(Lo.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(n=this.flipper)==null||n.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popoverContainer.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.height,o=e.top+r,i=e.top-r,s=Math.min(window.innerHeight,n.bottom);return i<n.top||o<=s}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popover.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.width,o=e.right+r,i=e.left-r,s=Math.min(window.innerWidth,n.right);return i<n.left||o<=s}get size(){var e;const n={height:0,width:0};if(this.nodes.popover===null)return n;const r=this.nodes.popover.cloneNode(!0);r.style.visibility="hidden",r.style.position="absolute",r.style.top="-1000px",r.classList.add(we.popoverOpened),(e=r.querySelector("."+we.popoverNested))==null||e.remove(),document.body.appendChild(r);const o=r.querySelector("."+we.popoverContainer);return n.height=o.offsetHeight,n.width=o.offsetWidth,r.remove(),n}get flippableElements(){return this.items.map(e=>{if(e instanceof Br)return e.getElement();if(e instanceof xs)return e.getControls()}).flat().filter(e=>e!=null)}addSearch(){this.search=new Aj({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(Gl.Search,this.onSearch);const e=this.search.getElement();e.classList.add(we.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(we.nothingFoundMessageDisplayed,e)}};Lj([si],Ek.prototype,"size",1);let Tp=Ek;class Oj extends Tp{constructor(e){const n=!ai();super({...e,class:we.popoverInline},{[ce.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:n}},[ce.Html]:{hint:{position:"top",alignment:"center",enabled:n}}}),this.items.forEach(r=>{!(r instanceof Br)&&!(r instanceof xs)||r.hasChildren&&r.isChildrenOpen&&this.showNestedItems(r)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(Lo.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,n){const r=n.getElement(),o=r?r.offsetLeft:0,i=this.offsetLeft+o;e.style.setProperty(Lo.TriggerItemLeft,i+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(e)}showNestedPopoverForItem(e){const n=super.showNestedPopoverForItem(e);return n.getElement().classList.add(we.getPopoverNestedClass(n.nestingLevel)),n}handleItemClick(e){var n;e!==this.nestedPopoverTriggerItem&&((n=this.nestedPopoverTriggerItem)==null||n.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}}const Ck=class Ai{constructor(){this.scrollPosition=null}lock(){Ch?this.lockHard():document.body.classList.add(Ai.CSS.scrollLocked)}unlock(){Ch?this.unlockHard():document.body.classList.remove(Ai.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Ai.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Ai.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};Ck.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let Rj=Ck;const Hu=mr("ce-popover-header"),zu={root:Hu(),text:Hu("text"),backButton:Hu("back-button")};class Mj{constructor({text:e,onBackButtonClick:n}){this.listeners=new Vs,this.text=e,this.onBackButtonClick=n,this.nodes={root:A.make("div",[zu.root]),backButton:A.make("button",[zu.backButton]),text:A.make("div",[zu.text])},this.nodes.backButton.innerHTML=gj,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class jj{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}let Tk=class extends kk{constructor(e){super(e,{[ce.Default]:{hint:{enabled:!1}},[ce.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new Rj,this.history=new jj,this.isHidden=!0,this.nodes.overlay=A.make("div",[we.overlay,we.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove(we.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(we.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,n){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),n!==void 0){this.header=new Mj({text:n,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const r=this.header.getElement();r!==null&&this.nodes.popoverContainer.insertBefore(r,this.nodes.popoverContainer.firstChild)}this.items.forEach(r=>{var o;return(o=r.getElement())==null?void 0:o.remove()}),this.items=this.buildItems(e),this.items.forEach(r=>{var o;const i=r.getElement();i!==null&&((o=this.nodes.items)==null||o.appendChild(i))})}};class Dj extends X{constructor(){super(...arguments),this.opened=!1,this.selection=new V,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,V.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(qt.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(this.popover!==null)return"flipper"in this.popover?(e=this.popover)==null?void 0:e.flipper:void 0}make(){this.nodes.wrapper=A.make("div",[this.CSS.settings]),this.eventsDispatcher.on(ws,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(ws,this.close)}async open(e=this.Editor.BlockManager.currentBlock){var n;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const{toolTunes:r,commonTunes:o}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);const i=ai()?Tk:Tp;this.popover=new i({searchable:!0,items:await this.getTunesItems(e,o,r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Ke.ui(at.ui.popover,"Nothing found"),search:Ke.ui(at.ui.popover,"Filter")}}),this.popover.on(qt.Closed,this.onPopoverClose),(n=this.nodes.wrapper)==null||n.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(e,n,r){const o=[];r!==void 0&&r.length>0&&(o.push(...r),o.push({type:ce.Separator}));const i=Array.from(this.Editor.Tools.blockTools.values()),s=(await fk(e,i)).reduce((a,l)=>(l.toolbox.forEach(c=>{a.push({icon:c.icon,title:Ke.t(at.toolNames,c.title),name:l.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:d,Caret:u,Toolbar:h}=this.Editor,g=await d.convert(e,l.name,c.data);h.close(),u.setToBlock(g,u.positions.END)}})}),a),[]);return s.length>0&&(o.push({icon:wk,name:"convert-to",title:Ke.ui(at.ui.popover,"Convert to"),children:{searchable:!0,items:s}}),o.push({type:ce.Separator})),o.push(...n),o.map(a=>this.resolveTuneAliases(a))}resolveTuneAliases(e){if(e.type===ce.Separator||e.type===ce.Html)return e;const n=fj(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}var _k={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){function i(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function s(l,c,d){return c&&i(l.prototype,c),d&&i(l,d),l}o.r(r);var a=function(){function l(c){var d=this;(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(u){d.execute(u)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var d=0;d<c.length;d++){c[d]=c[d].toUpperCase();var u=!1;for(var h in l.supportedCommands)if(l.supportedCommands[h].includes(c[d])){u=this.commands[h]=!0;break}u||(this.keys[c[d]]=!0)}for(var g in l.supportedCommands)this.commands[g]||(this.commands[g]=!1)}},{key:"execute",value:function(c){var d,u={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},h=!0;for(d in this.commands)this.commands[d]!==u[d]&&(h=!1);var g,p=!0;for(g in this.keys)p=p&&c.keyCode===l.keyCodes[g];h&&p&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(_k);var Fj=_k.exports;const $j=Bc(Fj);class Uj{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new $j({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(i=>i!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const Ko=new Uj;var Vj=Object.defineProperty,Hj=Object.getOwnPropertyDescriptor,Ik=(t,e,n,r)=>{for(var o=r>1?void 0:r?Hj(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&Vj(e,n,o),o},$a=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))($a||{});const _p=class Pk extends Us{constructor({api:e,tools:n,i18nLabels:r}){super(),this.opened=!1,this.listeners=new Vs,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=n,this.i18nLabels=r,this.enableShortcuts(),this.nodes={toolbox:A.make("div",Pk.CSS.toolbox)},this.initPopover(),this.api.events.on(ws,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(e=this.popover)==null||e.off(qt.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(ws,this.handleMobileLayoutToggle)}toolButtonActivated(e,n){this.insertNewBlock(e,n)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;const n=ai()?Tk:Tp;this.popover=new n({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(qt.Closed,this.onPopoverClose),(e=this.nodes.toolbox)==null||e.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(qt.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(n=>{n.toolbox&&e.push(n)}),e}get toolboxItemsToBeDisplayed(){const e=(n,r)=>({icon:n.icon,title:Ke.t(at.toolNames,n.title||Hl(r.name)),name:r.name,onActivate:()=>{this.toolButtonActivated(r.name,n.data)},secondaryLabel:r.shortcut?xp(r.shortcut):""});return this.toolsToBeDisplayed.reduce((n,r)=>(Array.isArray(r.toolbox)?r.toolbox.forEach(o=>{n.push(e(o,r))}):r.toolbox!==void 0&&n.push(e(r.toolbox,r)),n),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&this.enableShortcutForTool(e.name,n)})}enableShortcutForTool(e,n){Ko.add({name:n,on:this.api.ui.nodes.redactor,handler:async r=>{r.preventDefault();const o=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(o);if(i)try{const s=await this.api.blocks.convert(i.id,e);this.api.caret.setToBlock(s,"end");return}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&Ko.remove(this.api.ui.nodes.redactor,n)})}async insertNewBlock(e,n){const r=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(r);if(!o)return;const i=o.isEmpty?r:r+1;let s;if(n){const l=await this.api.blocks.composeBlockData(e);s=Object.assign(l,n)}const a=this.api.blocks.insert(e,s,void 0,i,void 0,o.isEmpty);a.call(en.APPEND_CALLBACK),this.api.caret.setToBlock(i),this.emit("toolbox-block-added",{block:a}),this.api.toolbar.close()}};Ik([si],_p.prototype,"toolsToBeDisplayed",1);Ik([si],_p.prototype,"toolboxItemsToBeDisplayed",1);let zj=_p;const Ak="block hovered";async function Wj(t,e){const n=navigator.keyboard;return n&&(await n.getLayoutMap()).get(t)||e}class Kj extends X{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){ne("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){ne("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){ne("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI;let o;const i=20,s=e.firstInput,a=n.getBoundingClientRect(),l=s!==void 0?s.getBoundingClientRect():null,c=l!==null?l.top-a.top:null,d=c!==null?c>i:void 0;if(r)o=n.offsetTop+n.offsetHeight;else if(s===void 0||d){const u=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);o=n.offsetTop+u}else{const u=PM(s),h=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10),g=8;o=n.offsetTop+u-h+g+c}this.nodes.wrapper.style.top=`${Math.floor(o)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,n;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(n=this.toolboxInstance)==null||n.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=A.make("div",this.CSS.toolbar),["content","actions"].forEach(i=>{this.nodes[i]=A.make("div",this.CSS[i])}),A.append(this.nodes.wrapper,this.nodes.content),A.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=A.make("div",this.CSS.plusButton,{innerHTML:Ej}),A.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{Wl(!0),this.plusButtonClicked()},!1);const e=A.make("div");e.appendChild(document.createTextNode(Ke.ui(at.ui.toolbar.toolbox,"Add"))),e.appendChild(A.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),Kl(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=A.make("span",this.CSS.settingsToggler,{innerHTML:kj}),A.append(this.nodes.actions,this.nodes.settingsToggler);const n=A.make("div"),r=A.text(Ke.ui(at.ui.blockTunes.toggler,"Click to tune")),o=await Wj("Slash","/");n.appendChild(r),n.appendChild(A.make("div",this.CSS.plusButtonShortcut,{textContent:xp(`CMD + ${o}`)})),Kl(this.nodes.settingsToggler,n,{hidingDelay:400}),A.append(this.nodes.actions,this.makeToolbox()),A.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),A.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new zj({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Ke.ui(at.ui.popover,"Filter"),nothingFound:Ke.ui(at.ui.popover,"Nothing found")}}),this.toolboxInstance.on($a.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on($a.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on($a.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,o=n.getBlockById(e.id);o.inputs.length===0&&(o===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var n;e.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),Wl(!0)},!0),ai()||this.eventsDispatcher.on(Ak,e=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var Mr=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(Mr||{}),Ua=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Ua||{}),Nk=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(Nk||{}),ro=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(ro||{}),Ip=(t=>(t.IsInline="isInline",t.Title="title",t))(Ip||{}),Ih=(t=>(t.IsTune="isTune",t))(Ih||{});let Pp=class{constructor({name:e,constructable:n,config:r,api:o,isDefault:i,isInternal:s=!1,defaultPlaceholder:a}){this.api=o,this.name=e,this.constructable=n,this.config=r,this.isDefault=i,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(fe(this.constructable.reset))return this.constructable.reset()}prepare(){if(fe(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===Mr.Inline}isBlock(){return this.type===Mr.Block}isTune(){return this.type===Mr.Tune}};class qj extends X{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=ai()?20:6,this.toolsInstances=new Map}toggleReadOnly(e){e?this.destroy():window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1){e&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var e,n;this.opened&&(this.Editor.ReadOnly.isEnabled||(Array.from(this.toolsInstances.entries()).forEach(([r,o])=>{const i=this.getToolShortcut(r);i&&Ko.remove(this.Editor.UI.nodes.redactor,i),fe(o.clear)&&o.clear()}),this.toolsInstances=null,this.reset(),this.opened=!1,(e=this.popover)==null||e.hide(),(n=this.popover)==null||n.destroy(),this.popover=null))}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),(e=this.popover)==null||e.destroy(),this.popover=null}make(){this.nodes.wrapper=A.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),A.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var e;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy();const n=await this.getInlineTools();this.popover=new Oj({items:n,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Ke.ui(at.ui.popover,"Nothing found"),search:Ke.ui(at.ui.popover,"Filter")}}),this.move(this.popover.size.width),(e=this.nodes.wrapper)==null||e.append(this.popover.getElement()),this.popover.show()}move(e){const n=V.rect,r=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),o={x:n.x-r.x,y:n.y+n.height-r.top+this.toolbarVerticalMargin};o.x+e+r.x>this.Editor.UI.contentRect.right&&(o.x=this.Editor.UI.contentRect.right-e-r.x),this.nodes.wrapper.style.left=Math.floor(o.x)+"px",this.nodes.wrapper.style.top=Math.floor(o.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],n=V.get(),r=V.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const o=A.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(o===null||n&&e.includes(o.tagName)||o.closest('[contenteditable="true"]')===null)return!1;const i=this.Editor.BlockManager.getBlock(n.anchorNode);return i?i.tool.inlineTools.size!==0:!1}async getInlineTools(){const e=V.get(),n=this.Editor.BlockManager.getBlock(e.anchorNode),r=Array.from(n.tool.inlineTools.values()),o=[];this.toolsInstances===null&&(this.toolsInstances=new Map);for(let i=0;i<r.length;i++){const s=r[i],a=s.create(),l=await a.render();this.toolsInstances.set(s.name,a);const c=this.getToolShortcut(s.name);if(c)try{this.enableShortcuts(s.name,c)}catch{}const d=c!==void 0?xp(c):void 0,u=Ke.t(at.toolNames,s.title||Hl(s.name));[l].flat().forEach(h=>{var g,p;const m={name:s.name,onActivate:()=>{this.toolClicked(a)},hint:{title:u,description:d}};if(A.isElement(h)){const w={...m,element:h,type:ce.Html};if(fe(a.renderActions)){const b=a.renderActions();w.children={isOpen:(g=a.checkState)==null?void 0:g.call(a,V.get()),isFlippable:!1,items:[{type:ce.Html,element:b}]}}else(p=a.checkState)==null||p.call(a,V.get());o.push(w)}else if(h.type===ce.Html)o.push({...m,...h,type:ce.Html});else if(h.type===ce.Separator)o.push({type:ce.Separator});else{const w={...m,...h,type:ce.Default};"children"in w&&i!==0&&o.push({type:ce.Separator}),o.push(w),"children"in w&&i<r.length-1&&o.push({type:ce.Separator})}})}return o}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),o=n.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][Nk.Shortcut]:r==null?void 0:r.shortcut}enableShortcuts(e,n){Ko.add({name:n,handler:r=>{var o;const{currentBlock:i}=this.Editor.BlockManager;i&&i.tool.enabledInlineTools&&(r.preventDefault(),(o=this.popover)==null||o.activateItemByName(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){var n;const r=V.range;(n=e.surround)==null||n.call(e,r),this.checkToolsState()}checkToolsState(){var e;(e=this.toolsInstances)==null||e.forEach(n=>{var r;(r=n.checkState)==null||r.call(n,V.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}}function Bk(){const t=window.getSelection();if(t===null)return[null,0];let e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],n=e.textContent.length)),[e,n])}function Lk(t,e,n,r){const o=document.createRange();r==="left"?(o.setStart(t,0),o.setEnd(e,n)):(o.setStart(e,n),o.setEnd(t,t.childNodes.length));const i=o.cloneContents(),s=document.createElement("div");s.appendChild(i);const a=s.textContent||"";return IM(a)}function Va(t){const e=A.getDeepestNode(t);if(e===null||A.isEmpty(t))return!0;if(A.isNativeInput(e))return e.selectionEnd===0;if(A.isEmpty(t))return!0;const[n,r]=Bk();return n===null?!1:Lk(t,n,r,"left")}function Ha(t){const e=A.getDeepestNode(t,!0);if(e===null)return!0;if(A.isNativeInput(e))return e.selectionEnd===e.value.length;const[n,r]=Bk();return n===null?!1:Lk(t,n,r,"right")}class Gj extends X{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case W.BACKSPACE:this.backspace(e);break;case W.DELETE:this.delete(e);break;case W.ENTER:this.enter(e);break;case W.DOWN:case W.RIGHT:this.arrowRightAndDown(e);break;case W.UP:case W.LEFT:this.arrowLeftAndUp(e);break;case W.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&ek(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:o}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const i=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),n.clearSelection(e)})}tabPressed(e){const{InlineToolbar:n,Caret:r}=this.Editor;n.opened||(e.shiftKey?r.navigatePrevious(!0):r.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){this.Editor.BlockManager.currentBlock.isEmpty&&(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){const{BlockManager:n,UI:r}=this.Editor,o=n.currentBlock;if(o===void 0||o.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey&&!Ch)return;let i=o;o.currentInput!==void 0&&Va(o.currentInput)&&!o.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):o.currentInput&&Ha(o.currentInput)?i=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):i=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i),e.preventDefault()}backspace(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o,previousBlock:i}=n;if(!(o===void 0||!V.isCollapsed||!o.currentInput||!Va(o.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.firstInput){r.navigatePrevious();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(o.isEmpty){n.removeBlock(o);const s=n.currentBlock;r.setToBlock(s,r.positions.END);return}_y(i,o)?this.mergeBlocks(i,o):r.setToBlock(i,r.positions.END)}}}delete(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o,nextBlock:i}=n;if(!(!V.isCollapsed||!Ha(o.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.lastInput){r.navigateNext();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(o.isEmpty){n.removeBlock(o),r.setToBlock(i,r.positions.START);return}_y(o,i)?this.mergeBlocks(o,i):r.setToBlock(i,r.positions.START)}}}mergeBlocks(e,n){const{BlockManager:r,Caret:o,Toolbar:i}=this.Editor;o.createShadow(e.lastInput),r.mergeBlocks(e,n).then(()=>{o.restoreCaret(e.pluginsContent),i.close()})}arrowRightAndDown(e){const n=ql.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===W.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.Toolbar.close();const{currentBlock:r}=this.Editor.BlockManager,o=((r==null?void 0:r.currentInput)!==void 0?Ha(r.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===W.DOWN&&o){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===W.DOWN||e.keyCode===W.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}Vl(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(ql.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===W.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:n}=this.Editor.BlockManager,r=((n==null?void 0:n.currentInput)!==void 0?Va(n.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===W.UP&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===W.UP||e.keyCode===W.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}Vl(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===W.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===W.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===W.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===W.TAB;return!(e.shiftKey||i||n||r||o)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}let Wu=class{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return tk(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];A.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],o=e-1,i=Math.max(0,o),s=this.blocks[i];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(en.MOVED,a)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(en.REMOVED));const o=r?1:0;if(this.blocks.splice(e,o,n),e>0){const i=this.blocks[e-1];this.insertToDOM(n,"afterend",i)}else{const i=this.blocks[e+1];i?this.insertToDOM(n,"beforebegin",i):this.insertToDOM(n)}}replace(e,n){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(n.holder),this.blocks[e]=n}insertMany(e,n){const r=new DocumentFragment;for(const o of e)r.appendChild(o.holder);if(this.length>0){if(n>0){const o=Math.min(n-1,this.length-1);this.blocks[o].holder.after(r)}else n===0&&this.workingArea.prepend(r);this.blocks.splice(n,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(r);e.forEach(o=>o.call(en.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(en.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(en.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(en.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}};const By="block-removed",Ly="block-added",Yj="block-moved",Oy="block-changed";class Xj{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}class Jj extends X{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Wu(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Wu.set,get:Wu.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:o={}}){const i=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new dn({id:r,data:n,tool:s,api:this.Editor.API,readOnly:i,tunesData:o},this.eventsDispatcher);return i||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:o,needToFocus:i=!0,replace:s=!1,tunes:a={}}={}){let l=o;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const c=this.composeBlock({id:e,tool:n,data:r,tunes:a});return s&&this.blockDidMutated(By,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(Ly,c,{index:l}),i?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}insertMany(e,n=0){this._blocks.insertMany(e,n)}async update(e,n,r){if(!n&&!r)return e;const o=await e.data,i=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},o,n??{}),tunes:r??e.tunes}),s=this.getBlockIndex(e);return this._blocks.replace(s,i),this.blockDidMutated(Oy,i,{index:s}),i}replace(e,n,r){const o=this.getBlockIndex(e);return this.insert({tool:n,data:r,index:o,replace:!0})}paste(e,n,r=!1){const o=this.insert({tool:e,replace:r});try{window.requestIdleCallback(()=>{o.call(en.ON_PASTE,n)})}catch(i){ne(`${e}: onPaste callback call is failed`,"error",i)}return o}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(Ly,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){let r;if(e.name===n.name&&e.mergeable){const o=await n.data;if(Ct(o)){console.error("Could not merge Block. Failed to extract original Block data.");return}const[i]=kp([o],e.tool.sanitizeConfig);r=i}else if(e.mergeable&&zl(n,"export")&&zl(e,"import")){const o=await n.exportDataAsString(),i=Vt(o,e.tool.sanitizeConfig);r=Iy(i,e.tool.conversionConfig)}r!==void 0&&(await e.mergeWith(r),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(e))}removeBlock(e,n=!0){return new Promise(r=>{const o=this._blocks.indexOf(e);if(!this.validateIndex(o))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(o),this.blockDidMutated(By,e,{index:o}),this.currentBlockIndex>=o&&this.currentBlockIndex--,this.blocks.length?o===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),n&&this.insert()),r()})}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=A.make("div");n.appendChild(e);const r={text:A.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){A.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${dn.CSS.wrapper}`),o=n.indexOf(r);if(o>=0)return this._blocks[o]}setCurrentBlockByChildNode(e){A.isElement(e)||(e=e.parentNode);const n=e.closest(`.${dn.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;A.isElement(e)||(e=e.parentNode);const n=e.closest(`.${dn.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){ne("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){ne("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(Yj,this.currentBlock,{fromIndex:n,toIndex:e})}async convert(e,n,r){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const o=this.Editor.Tools.blockTools.get(n);if(!o)throw new Error(`Could not convert Block. Tool «${n}» not found.`);const i=await e.exportDataAsString(),s=Vt(i,o.sanitizeConfig);let a=Iy(s,o.conversionConfig);return r&&(a=Object.assign(a,r)),this.replace(e,o.name,a)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(e=!1){const n=new Xj;this.blocks.forEach(r=>{n.add(async()=>{await this.removeBlock(r,!1)})}),await n.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(Oy,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const o=new CustomEvent(e,{detail:{target:new Qt(n),...r}});return this.eventsDispatcher.emit(lk,{event:o}),n}}class Qj extends X{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new V,Ko.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){V.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:o,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,a=s&&ek(e.keyCode);if(this.anyBlockSelected&&s&&a&&!V.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),o.setToBlock(r.currentBlock),Vl(()=>{const c=e.key;o.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||i.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=A.make("div");this.selectedBlocks.forEach(i=>{const s=Vt(i.holder.innerHTML,this.sanitizerConfig),a=A.make("p");a.innerHTML=s,n.appendChild(a)});const r=Array.from(n.childNodes).map(i=>i.textContent).join(`

`),o=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(i=>i.save())).then(i=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor,r=n.getBlockByIndex(e);r!==void 0&&this.selectBlock(r)}selectBlock(e){this.selection.save(),V.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Ko.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),A.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target),r=n.inputs;if(r.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(r.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(n),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),V.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}let Zj=class Ph extends X{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e,n=this.positions.DEFAULT,r=0){var o;const{BlockManager:i,BlockSelection:s}=this.Editor;if(s.clearSelection(),!e.focusable){(o=window.getSelection())==null||o.removeAllRanges(),s.selectBlock(e),i.currentBlock=e;return}let a;switch(n){case this.positions.START:a=e.firstInput;break;case this.positions.END:a=e.lastInput;break;default:a=e.currentInput}if(!a)return;const l=A.getDeepestNode(a,n===this.positions.END),c=A.getContentLength(l);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>c:r=c;break}this.set(l,r),i.setCurrentBlockByChildNode(e.holder),i.currentBlock.currentInput=a}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:o}=this.Editor.BlockManager,i=A.getDeepestNode(e);switch(n){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,A.getContentLength(i));break;default:r&&this.set(i,r)}o.currentInput=e}set(e,n=0){const{top:r,bottom:o}=V.setCursor(e,n),{innerHeight:i}=window;r<0?window.scrollBy(0,r-30):o>i&&window.scrollBy(0,o-i+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=V.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(A.isNativeInput(r)){const o=r,i=document.createDocumentFragment(),s=o.value.substring(0,o.selectionStart),a=o.value.substring(o.selectionStart);return i.textContent=a,o.value=s,i}else{const o=n.cloneRange();return o.selectNodeContents(r),o.setStart(n.endContainer,n.endOffset),o.extractContents()}}}navigateNext(e=!1){const{BlockManager:n}=this.Editor,{currentBlock:r,nextBlock:o}=n;if(r===void 0)return!1;const{nextInput:i,currentInput:s}=r,a=s!==void 0?Ha(s):void 0;let l=o;const c=e||a||!r.focusable;if(i&&c)return this.setToInput(i,this.positions.START),!0;if(l===null){if(r.tool.isDefault||!c)return!1;l=n.insertAtEnd()}return c?(this.setToBlock(l,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:n,previousBlock:r}=this.Editor.BlockManager;if(!n)return!1;const{previousInput:o,currentInput:i}=n,s=i!==void 0?Va(i):void 0,a=e||s||!n.focusable;return o&&a?(this.setToInput(o,this.positions.END),!0):r!==null&&a?(this.setToBlock(r,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(Ph.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${Ph.CSS.shadowCaret}`);if(!n)return;new V().expandToTag(n);const r=document.createRange();r.selectNode(n),r.extractContents()}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),o=V.get(),i=V.range;r.innerHTML=e,Array.from(r.childNodes).forEach(c=>n.appendChild(c)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;i.deleteContents(),i.insertNode(n);const a=document.createRange(),l=s.nodeType===Node.TEXT_NODE?s:s.firstChild;l!==null&&l.textContent!==null&&a.setStart(l,l.textContent.length),o.removeAllRanges(),o.addRange(a)}};class eD extends X{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const o=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=n.getBlockByChildNode(e.target);if(!(!o||!i)&&i!==o){if(o===this.firstSelectedBlock){V.get().removeAllRanges(),o.selected=!0,i.selected=!0,r.clearCache();return}if(i===this.firstSelectedBlock){o.selected=!1,i.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,i),this.lastSelectedBlock=i}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==gM.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),V.get().removeAllRanges());const o=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=n.blocks[o];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,i=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&i>-1&&s>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case W.DOWN:case W.RIGHT:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END);break;case W.UP:case W.LEFT:o.setToBlock(n.blocks[Math.min(i,s)],o.positions.START);break;default:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;V.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:o}=this.Editor,i=r.blocks.indexOf(e),s=r.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(i,s);l<=Math.max(i,s);l++){const c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:n)&&(r.blocks[l].selected=!r.blocks[l].selected,o.clearCache())}}}class tD extends X{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Paste:r,Caret:o}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),V.isAtEditor&&!V.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const i=n.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,o.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,o.positions.END)}await r.processDataTransfer(e.dataTransfer,!0)}processDragStart(){V.isAtEditor&&!V.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}const nD=180,rD=400;class oD extends X{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=rD,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(lk,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(ck,()=>{this.disable()}),this.eventsDispatcher.on(uk,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!fe(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Th,{mutations:e})}}const Ok=class Rk extends X{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const n=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!fe(n.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(n){ne(`Paste handling for «${e.name}» Tool hasn't been set up because of the error`,"warn",n)}},this.handlePasteEvent=async e=>{const{BlockManager:n,Toolbar:r}=this.Editor,o=n.setCurrentBlockByChildNode(e.target);!o||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||o&&this.exceptionList.includes(o.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),r.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,n=!1){const{Tools:r}=this.Editor,o=e.types;if((o.includes?o.includes("Files"):o.contains("Files"))&&!Ct(this.toolsFiles)){await this.processFiles(e.files);return}const i=e.getData(this.MIME_TYPE),s=e.getData("text/plain");let a=e.getData("text/html");if(i)try{this.insertEditorJSData(JSON.parse(i));return}catch{}n&&s.trim()&&a.trim()&&(a="<p>"+(a.trim()?a:s)+"</p>");const l=Object.keys(this.toolsTags).reduce((u,h)=>(u[h.toLowerCase()]=this.toolsTags[h].sanitizationConfig??{},u),{}),c=Object.assign({},l,r.getAllInlineToolsSanitizeConfig(),{br:{}}),d=Vt(a,c);!d.trim()||d.trim()===s||!A.isHTMLString(d)?await this.processText(s):await this.processText(d,!0)}async processText(e,n=!1){const{Caret:r,BlockManager:o}=this.Editor,i=n?this.processHTML(e):this.processPlain(e);if(!i.length)return;if(i.length===1){i[0].isBlock?this.processSingleBlock(i.pop()):this.processInlinePaste(i.pop());return}const s=o.currentBlock&&o.currentBlock.tool.isDefault&&o.currentBlock.isEmpty;i.map(async(a,l)=>this.insertBlock(a,l===0&&s)),o.currentBlock&&r.setToBlock(o.currentBlock,r.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return Sn(e)?[e]:Re(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const n=e.pasteConfig.tags||[],r=[];n.forEach(o=>{const i=this.collectTagNames(o);r.push(...i),i.forEach(s=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,s)){ne(`Paste handler for «${e.name}» Tool on «${s}» tag is skipped because it is already used by «${this.toolsTags[s].tool.name}» Tool.`,"warn");return}const a=Re(o)?o[s]:null;this.toolsTags[s.toUpperCase()]={tool:e,sanitizationConfig:a}})}),this.tagsByTool[e.name]=r.map(o=>o.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:n={}}=e.pasteConfig;let{extensions:r,mimeTypes:o}=n;!r&&!o||(r&&!Array.isArray(r)&&(ne(`«extensions» property of the onDrop config for «${e.name}» Tool should be an array`),r=[]),o&&!Array.isArray(o)&&(ne(`«mimeTypes» property of the onDrop config for «${e.name}» Tool should be an array`),o=[]),o&&(o=o.filter(i=>xM(i)?!0:(ne(`MIME type value «${i}» for the «${e.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:r||[],mimeTypes:o||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||Ct(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([n,r])=>{r instanceof RegExp||ne(`Pattern ${r} for «${e.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:n,pattern:r,tool:e})})}isNativeBehaviour(e){return A.isNativeInput(e)}async processFiles(e){const{BlockManager:n}=this.Editor;let r;r=await Promise.all(Array.from(e).map(i=>this.processFile(i))),r=r.filter(i=>!!i);const o=n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;r.forEach((i,s)=>{n.paste(i.type,i.event,s===0&&o)})}async processFile(e){const n=wM(e),r=Object.entries(this.toolsFiles).find(([i,{mimeTypes:s,extensions:a}])=>{const[l,c]=e.type.split("/"),d=a.find(h=>h.toLowerCase()===n.toLowerCase()),u=s.find(h=>{const[g,p]=h.split("/");return g===l&&(p===c||p==="*")});return!!d||!!u});if(!r)return;const[o]=r;return{event:this.composePasteEvent("file",{file:e}),type:o}}processHTML(e){const{Tools:n}=this.Editor,r=A.make("DIV");return r.innerHTML=e,this.getNodes(r).map(o=>{let i,s=n.defaultTool,a=!1;switch(o.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:i=A.make("div"),i.appendChild(o);break;case Node.ELEMENT_NODE:i=o,a=!0,this.toolsTags[i.tagName]&&(s=this.toolsTags[i.tagName].tool);break}const{tags:l}=s.pasteConfig||{tags:[]},c=l.reduce((h,g)=>(this.collectTagNames(g).forEach(p=>{const m=Re(g)?g[p]:null;h[p.toLowerCase()]=m||{}}),h),{}),d=Object.assign({},c,s.baseSanitizeConfig);if(i.tagName.toLowerCase()==="table"){const h=Vt(i.outerHTML,d);i=A.make("div",void 0,{innerHTML:h}).firstChild}else i.innerHTML=Vt(i.innerHTML,d);const u=this.composePasteEvent("tag",{data:i});return{content:i,isBlock:a,tool:s.name,event:u}}).filter(o=>{const i=A.isEmpty(o.content),s=A.isSingleTag(o.content);return!i||s})}processPlain(e){const{defaultBlock:n}=this.config;if(!e)return[];const r=n;return e.split(/\r?\n/).filter(o=>o.trim()).map(o=>{const i=A.make("div");i.textContent=o;const s=this.composePasteEvent("tag",{data:i});return{content:i,tool:r,isBlock:!1,event:s}})}async processSingleBlock(e){const{Caret:n,BlockManager:r}=this.Editor,{currentBlock:o}=r;if(!o||e.tool!==o.name||!A.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(o==null?void 0:o.tool.isDefault)&&o.isEmpty);return}n.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:n,Caret:r}=this.Editor,{content:o}=e;if(n.currentBlock&&n.currentBlock.tool.isDefault&&o.textContent.length<Rk.PATTERN_PROCESSING_MAX_LENGTH){const i=await this.processPattern(o.textContent);if(i){const s=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,a=n.paste(i.tool,i.event,s);r.setToBlock(a,r.positions.END);return}}if(n.currentBlock&&n.currentBlock.currentInput){const i=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Vt(o.innerHTML,i))}else this.insertBlock(e)}async processPattern(e){const n=this.toolsPatterns.find(r=>{const o=r.pattern.exec(e);return o?e===o.shift():!1});return n?{event:this.composePasteEvent("pattern",{key:n.key,data:e}),tool:n.tool.name}:void 0}insertBlock(e,n=!1){const{BlockManager:r,Caret:o}=this.Editor,{currentBlock:i}=r;let s;if(n&&i&&i.isEmpty){s=r.paste(e.tool,e.event,!0),o.setToBlock(s,o.positions.END);return}s=r.paste(e.tool,e.event),o.setToBlock(s,o.positions.END)}insertEditorJSData(e){const{BlockManager:n,Caret:r,Tools:o}=this.Editor;kp(e,i=>o.blockTools.get(i).sanitizeConfig).forEach(({tool:i,data:s},a)=>{let l=!1;a===0&&(l=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);const c=n.insert({tool:i,data:s,replace:l});r.setToBlock(c,r.positions.END)})}processElementNode(e,n,r){const o=Object.keys(this.toolsTags),i=e,{tool:s}=this.toolsTags[i.tagName]||{},a=this.tagsByTool[s==null?void 0:s.name]||[],l=o.includes(i.tagName),c=A.blockElements.includes(i.tagName.toLowerCase()),d=Array.from(i.children).some(({tagName:h})=>o.includes(h)&&!a.includes(h)),u=Array.from(i.children).some(({tagName:h})=>A.blockElements.includes(h.toLowerCase()));if(!c&&!l&&!d)return r.appendChild(i),[...n,r];if(l&&!d||c&&!u&&!d)return[...n,r,i]}getNodes(e){const n=Array.from(e.childNodes);let r;const o=(i,s)=>{if(A.isEmpty(s)&&!A.isSingleTag(s))return i;const a=i[i.length-1];let l=new DocumentFragment;switch(a&&A.isFragment(a)&&(l=i.pop()),s.nodeType){case Node.ELEMENT_NODE:if(r=this.processElementNode(s,i,l),r)return r;break;case Node.TEXT_NODE:return l.appendChild(s),[...i,l];default:return[...i,l]}return[...i,...Array.from(s.childNodes).reduce(o,[])]};return n.reduce(o,[])}composePasteEvent(e,n){return new CustomEvent(e,{detail:n})}};Ok.PATTERN_PROCESSING_MAX_LENGTH=450;let iD=Ok;class sD extends X{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([o,i])=>{i.isReadOnlySupported||r.push(o)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(e=!this.readOnlyEnabled,n=!1){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const r=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const i in this.Editor)this.Editor[i].toggleReadOnly&&this.Editor[i].toggleReadOnly(e);if(r===e)return this.readOnlyEnabled;if(n)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const o=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(o.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new sk(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}let aD=class za extends X{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const o=[`.${dn.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=o.some(a=>!!r.closest(a));!i||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",kh(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",kh(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(A.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=A.make("div",za.CSS.overlay,{}),o=A.make("div",za.CSS.overlayContainer,{}),i=A.make("div",za.CSS.rect,{});return o.appendChild(i),r.appendChild(o),n.appendChild(r),this.overlayRectangle=i,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:o}=this.genInfoForMouseSelection(),i=this.startX>n&&this.mouseX>n,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(i||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),V.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),o=this.Editor.BlockManager.getBlockByChildNode(r);let i;o!==void 0&&(i=this.Editor.BlockManager.blocks.findIndex(d=>d.holder===o.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+dn.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,c=e+a;return{index:i,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,o=1,i=-1,s=0;if(n)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=s;r>1&&(l=a?o:i);const c=e>this.stackOfSelected[r-1]&&l===o,d=e<this.stackOfSelected[r-1]&&l===i,u=!(c||d||l===s);if(!u&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let p=this.stackOfSelected[r-1]+1||e;for(p;p<=e;p++)this.addBlockInSelection(p);return}if(!u&&e<this.stackOfSelected[r-1]){for(let p=this.stackOfSelected[r-1]-1;p>=e;p--)this.addBlockInSelection(p);return}if(!u)return;let h=r-1,g;for(e>this.stackOfSelected[r-1]?g=()=>e>this.stackOfSelected[h]:g=()=>e<this.stackOfSelected[h];g();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[h]),this.stackOfSelected.pop(),h--}};class lD extends X{async render(e){return new Promise(n=>{const{Tools:r,BlockManager:o}=this.Editor;if(e.length===0)o.insert();else{const i=e.map(({type:s,data:a,tunes:l,id:c})=>{r.available.has(s)===!1&&(wt(`Tool «${s}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(s,a,c),s=r.stubTool);let d;try{d=o.composeBlock({id:c,tool:s,data:a,tunes:l})}catch(u){ne(`Block «${s}» skipped because of plugins error`,"error",{data:a,error:u}),a=this.composeStubDataForTool(s,a,c),s=r.stubTool,d=o.composeBlock({id:c,tool:s,data:a,tunes:l})}return d});o.insertMany(i)}window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(e,n,r){const{Tools:o}=this.Editor;let i=e;if(o.unavailable.has(e)){const s=o.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(i=s[0].title)}return{savedData:{id:r,type:e,data:n},title:i}}}class cD extends X{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,o=[];try{r.forEach(a=>{o.push(this.getSavedData(a))});const i=await Promise.all(o),s=await kp(i,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(i){wt("Saving failed due to the Error %o","error",i)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){const n=[];return e.forEach(({id:r,tool:o,data:i,tunes:s,isValid:a})=>{if(!a){ne(`Block «${o}» skipped because saved data is invalid`);return}if(o===this.Editor.Tools.stubTool){n.push(i);return}const l={id:r,type:o,data:i,...!Ct(s)&&{tunes:s}};n.push(l)}),{time:+new Date,blocks:n,version:"2.30.5"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const uD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function dD(t){const e=document.createElement("div");e.innerHTML=t.trim();const n=document.createDocumentFragment();return n.append(...Array.from(e.childNodes)),n}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */let hD=class Mk{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:Mk.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=n.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const n=dD(e.text);this._element.appendChild(n),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this._data=n,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:uD,title:"Text"}}},Ap=class{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:pj,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}};Ap.isInline=!0;Ap.title="Bold";let Np=class{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=xj,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}};Np.isInline=!0;Np.title="Italic";let Bp=class{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new V}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Py,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=Cj,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=Py,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new V;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),ne("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",o=/^\/\/[^/\s]/.test(e);return!n&&!r&&!o&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}};Bp.isInline=!0;Bp.title="Link";class jk{constructor({api:e}){this.i18nAPI=e.i18n,this.blocksAPI=e.blocks,this.selectionAPI=e.selection,this.toolsAPI=e.tools,this.caretAPI=e.caret}async render(){const e=V.get(),n=this.blocksAPI.getBlockByElement(e.anchorNode);if(n===void 0)return[];const r=this.toolsAPI.getBlockTools(),o=await fk(n,r);if(o.length===0)return[];const i=o.reduce((c,d)=>{var u;return(u=d.toolbox)==null||u.forEach(h=>{c.push({icon:h.icon,title:Ke.t(at.toolNames,h.title),name:d.name,closeOnActivate:!0,onActivate:async()=>{const g=await this.blocksAPI.convert(n.id,d.name,h.data);this.caretAPI.setToBlock(g,"end")}})}),c},[]),s=await n.getActiveToolboxEntry(),a=s!==void 0?s.icon:wk,l=!ai();return{icon:a,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:l,items:i,onOpen:()=>{l&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{l&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}}jk.isInline=!0;class Dk{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=A.make("div",this.CSS.wrapper),n=Tj,r=A.make("div",this.CSS.info),o=A.make("div",this.CSS.title,{textContent:this.title}),i=A.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(o),r.appendChild(i),e.appendChild(r),e}}Dk.isReadOnlySupported=!0;class fD extends Pp{constructor(){super(...arguments),this.type=Mr.Inline}get title(){return this.constructable[Ip.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}}class pD extends Pp{constructor(){super(...arguments),this.type=Mr.Tune}create(e,n){return new this.constructable({api:this.api,config:this.settings,block:n,data:e})}}let $t=class oo extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new oo(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new oo(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new oo(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new oo(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new oo(e)}};var mD=Object.defineProperty,gD=Object.getOwnPropertyDescriptor,Fk=(t,e,n,r)=>{for(var o=r>1?void 0:r?gD(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&mD(e,n,o),o};let Lp=class extends Pp{constructor(){super(...arguments),this.type=Mr.Block,this.inlineTools=new $t,this.tunes=new $t}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[ro.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[ro.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[ro.Toolbox],n=this.config[Ua.Toolbox];if(!Ct(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,o)=>{const i=e[o];return i?{...i,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[ro.ConversionConfig]}get enabledInlineTools(){return this.config[Ua.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Ua.EnabledBlockTunes]}get pasteConfig(){return this.constructable[ro.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(Ct(e))return n;const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];Re(i)?r[o]=Object.assign({},n,i):r[o]=i}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}};Fk([si],Lp.prototype,"sanitizeConfig",1);Fk([si],Lp.prototype,"baseSanitizeConfig",1);class vD{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...o}=this.config[e],i=this.getConstructor(n),s=n[Ih.IsTune];return new i({name:e,constructable:n,config:o,api:this.api.getMethodsForTool(e,s),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[Ip.IsInline]:return fD;case e[Ih.IsTune]:return pD;default:return Lp}}}class $k{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:mj,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,o=r.getBoundingClientRect();let i=Math.abs(window.innerHeight-r.offsetHeight);o.top<window.innerHeight&&(i=window.scrollY+r.offsetHeight),window.scrollTo(0,i),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}$k.isTune=!0;class Uk{constructor({api:e}){this.api=e}render(){return{icon:bj,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Uk.isTune=!0;class Vk{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:yj,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const o=n.holder,i=r.holder,s=o.getBoundingClientRect(),a=i.getBoundingClientRect();let l;a.top>0?l=Math.abs(s.top)-Math.abs(a.top):l=Math.abs(s.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Vk.isTune=!0;var yD=Object.defineProperty,bD=Object.getOwnPropertyDescriptor,wD=(t,e,n,r)=>{for(var o=r>1?void 0:r?bD(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&yD(e,n,o),o};class Hk extends X{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new $t,this.toolsUnavailable=new $t}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Eh({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new vD(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await bM(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{fe(e.reset)&&await e.reset()})}get internalTools(){return{convertTo:{class:jk,isInternal:!0},link:{class:Bp,isInternal:!0},bold:{class:Ap,isInternal:!0},italic:{class:Np,isInternal:!0},paragraph:{class:hD,inlineToolbar:!0,isInternal:!0},stub:{class:Dk,isInternal:!0},moveUp:{class:Vk,isInternal:!0},delete:{class:Uk,isInternal:!0},moveDown:{class:$k,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render"].filter(o=>!n.create()[o]);if(r.length){ne(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,o])=>{n.push({function:fe(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:r,config:o.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new $t(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new $t(["convertTo",...e.enabledInlineTools].map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new $t(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new $t([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new $t(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new $t([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!fe(n)&&!fe(n.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const n in this.config.tools)Re(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}wD([si],Hk.prototype,"getAllInlineToolsSanitizeConfig",1);const xD=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;class kD extends X{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=Ty(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${dn.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():window.requestIdleCallback(()=>{this.enableModuleBindings()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r}=this.Editor;return!!(n.opened||r.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof ql).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r}=this.Editor;n.close(),r.close(),e.toolbox.close()}setIsMobile(){const e=window.innerWidth<nk;e!==this.isMobile&&this.eventsDispatcher.emit(ws,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=A.getHolder(this.config.holder),this.nodes.wrapper=A.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=A.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(A.get(e))return;const n=A.make("style",null,{id:e,textContent:xD.toString()});this.config.style&&!Ct(this.config.style)&&this.config.style.nonce&&n.setAttribute("nonce",this.config.style.nonce),A.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",n=>{this.redactorClicked(n)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",n=>{this.documentTouched(n)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",n=>{this.documentTouched(n)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",n=>{this.documentKeydown(n)},!0),this.readOnlyMutableListeners.on(document,"mousedown",n=>{this.documentClicked(n)},!0);const e=Ty(()=>{this.selectionChanged()},nD);this.readOnlyMutableListeners.on(document,"selectionchange",e,!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",kh(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(Ak,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case W.ENTER:this.enterPressed(e);break;case W.BACKSPACE:case W.DELETE:this.backspacePressed(e);break;case W.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&o||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor;if(r.anyBlockSelected&&!V.isSelectionExists){const i=n.removeSelectedBlocks(),s=n.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor;if(this.someToolbarOpened)return;const o=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!V.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){const i=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var n,r;if(!e.isTrusted)return;const o=e.target;this.nodes.holder.contains(o)||V.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const i=(n=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:n.contains(o),s=(r=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:r.contains(o),a=i||s;if(this.Editor.BlockSettings.opened&&!a){this.Editor.BlockSettings.close();const l=this.Editor.BlockManager.getBlockByChildNode(o);this.Editor.Toolbar.moveAndOpen(l)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!V.isCollapsed)return;const n=e.target,r=e.metaKey||e.ctrlKey;if(A.isAnchor(n)&&r){e.stopImmediatePropagation(),e.stopPropagation();const o=n.getAttribute("href"),i=EM(o);CM(i);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const n=this.Editor.BlockManager.getBlockByIndex(-1),r=A.offset(n.holder).bottom,o=e.pageY,{BlockSelection:i}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!i.anyBlockSelected&&r<o){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:s,Caret:a,Toolbar:l}=this.Editor;(!s.lastBlock.tool.isDefault||!s.lastBlock.isEmpty)&&s.insertAtEnd(),a.setToTheLastBlock(),l.moveAndOpen(s.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=V.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&V.get().removeAllRanges(),!r){V.range||this.Editor.InlineToolbar.close();return}r.closest(`.${dn.CSS.content}`)===null&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(n){const r=n.target;rk(r)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}}const ED={BlocksAPI:MM,CaretAPI:DM,EventsAPI:FM,I18nAPI:$M,API:UM,InlineToolbarAPI:VM,ListenersAPI:HM,NotifierAPI:qM,ReadOnlyAPI:GM,SanitizerAPI:tj,SaverAPI:nj,SelectionAPI:rj,ToolsAPI:oj,StylesAPI:ij,ToolbarAPI:sj,TooltipAPI:dj,UiAPI:hj,BlockSettings:Dj,Toolbar:Kj,InlineToolbar:qj,BlockEvents:Gj,BlockManager:Jj,BlockSelection:Qj,Caret:Zj,CrossBlockSelection:eD,DragNDrop:tD,ModificationsObserver:oD,Paste:iD,ReadOnly:sD,RectangleSelection:aD,Renderer:lD,Saver:cD,Tools:Hk,UI:kD};class SD{constructor(e){this.moduleInstances={},this.eventsDispatcher=new Us;let n,r;this.isReady=new Promise((o,i)=>{n=o,r=i}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:o,Caret:i,UI:s,ModificationsObserver:a}=this.moduleInstances;s.checkEmptiness(),a.enable(),this.configuration.autofocus&&i.setToBlock(o.blocks[0],i.positions.START),n()}).catch(o=>{ne(`Editor.js is not ready because of ${o}`,"error"),r(o)})}set configuration(e){var n,r;Re(e)?this.config={...e}:this.config={holder:e},Sh(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=Zx.VERBOSE),vM(this.config.logLevel),Sh(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Ct(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&Ke.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("«holderId» and «holder» param can't assign at the same time.");if(Sn(n)&&!A.get(n))throw Error(`element with ID «${n}» is missing. Pass correct holder's ID.`);if(n&&Re(n)&&!A.isElement(n))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof sk)throw new Error(r.message);ne(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(ED).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){ne("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class CD{static get version(){return"2.30.5"}constructor(e){let n=()=>{};Re(e)&&fe(e.onReady)&&(n=e.onReady);const r=new SD(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(o=>{fe(o.destroy)&&o.destroy(),o.listeners.removeAll()}),uj(),e=null;for(const o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};n.forEach(o=>{this[o]=e[o]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,i])=>{Object.entries(i).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[o][s]})})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const TD={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([t,e])=>{if(!e&&t)return t;const n={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};let r=e.slice(1).split("&").map(o=>{const[i,s]=o.split("=");return!t&&i==="v"?(t=s,null):!n[i]||s==="LL"||s.startsWith("RDMM")||s.startsWith("FL")?null:`${n[i]}=${s}`}).filter(o=>!!o);return t+"?"+r.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:t=>t.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:t=>t.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:t=>t.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/(www\.)?(?:twitter\.com|x\.com)\/.+\/status\/(\d+)/,embedUrl:"https://platform.twitter.com/embed/Tweet.html?id=<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:t=>t[1]},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:t=>t[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:t=>t.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:t=>`${t.join("/")}.js`}};function Ah(t,e,n){var r,o,i,s,a;e==null&&(e=100);function l(){var d=Date.now()-s;d<e&&d>=0?r=setTimeout(l,e-d):(r=null,n||(a=t.apply(i,o),i=o=null))}var c=function(){i=this,o=arguments,s=Date.now();var d=n&&!r;return r||(r=setTimeout(l,e)),d&&(a=t.apply(i,o),i=o=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(i,o),i=o=null,clearTimeout(r),r=null)},c}Ah.debounce=Ah;var _D=Ah;let ID=class Cr{constructor({data:e,api:n,readOnly:r}){this.api=n,this._data={},this.element=null,this.readOnly=r,this.data=e}set data(e){var n;if(!(e instanceof Object))throw Error("Embed Tool data should be object");const{service:r,source:o,embed:i,width:s,height:a,caption:l=""}=e;this._data={service:r||this.data.service,source:o||this.data.source,embed:i||this.data.embed,width:s||this.data.width,height:a||this.data.height,caption:l||this.data.caption||""};const c=this.element;c&&((n=c.parentNode)==null||n.replaceChild(this.render(),c))}get data(){if(this.element){const e=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const a=document.createElement("div");return this.element=a,a}const{html:e}=Cr.services[this.data.service],n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("template"),i=this.createPreloader();n.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),r.classList.add(this.CSS.input,this.CSS.caption),n.appendChild(i),r.contentEditable=(!this.readOnly).toString(),r.dataset.placeholder=this.api.i18n.t("Enter a caption"),r.innerHTML=this.data.caption||"",o.innerHTML=e,o.content.firstChild.setAttribute("src",this.data.embed),o.content.firstChild.classList.add(this.CSS.content);const s=this.embedIsReady(n);return o.content.firstChild&&n.appendChild(o.content.firstChild),n.appendChild(r),s.then(()=>{n.classList.remove(this.CSS.containerLoading)}),this.element=n,n}createPreloader(){const e=document.createElement("preloader"),n=document.createElement("div");return n.textContent=this.data.source,e.classList.add(this.CSS.preloader),n.classList.add(this.CSS.url),e.appendChild(n),e}save(){return this.data}onPaste(e){var n;const{key:r,data:o}=e.detail,{regex:i,embedUrl:s,width:a,height:l,id:c=h=>h.shift()||""}=Cr.services[r],d=(n=i.exec(o))==null?void 0:n.slice(1),u=d?s.replace(/<%= remote_id %>/g,c(d)):"";this.data={service:r,source:o,embed:u,width:a,height:l}}static prepare({config:e={}}){const{services:n={}}=e;let r=Object.entries(TD);const o=Object.entries(n).filter(([s,a])=>typeof a=="boolean"&&a===!0).map(([s])=>s),i=Object.entries(n).filter(([s,a])=>typeof a=="object").filter(([s,a])=>Cr.checkServiceConfig(a)).map(([s,a])=>{const{regex:l,embedUrl:c,html:d,height:u,width:h,id:g}=a;return[s,{regex:l,embedUrl:c,html:d,height:u,width:h,id:g}]});o.length&&(r=r.filter(([s])=>o.includes(s))),r=r.concat(i),Cr.services=r.reduce((s,[a,l])=>a in s?(s[a]=Object.assign({},s[a],l),s):(s[a]=l,s),{}),Cr.patterns=r.reduce((s,[a,l])=>(l&&typeof l!="boolean"&&(s[a]=l.regex),s),{})}static checkServiceConfig(e){const{regex:n,embedUrl:r,html:o,height:i,width:s,id:a}=e;let l=!!(n&&n instanceof RegExp)&&!!(r&&typeof r=="string")&&!!(o&&typeof o=="string");return l=l&&(a!==void 0?a instanceof Function:!0),l=l&&(i!==void 0?Number.isFinite(i):!0),l=l&&(s!==void 0?Number.isFinite(s):!0),l}static get pasteConfig(){return{patterns:Cr.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let n;return new Promise((r,o)=>{n=new MutationObserver(_D.debounce(r,450)),n.observe(e,{childList:!0,subtree:!0})}).then(()=>{n.disconnect()})}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Ry='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',PD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';let AD=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:Ry,title:"List"}}constructor({data:e,config:n,api:r,readOnly:o}){this._elements={wrapper:null},this.api=r,this.readOnly=o,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:Ry,default:n.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:PD,default:n.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(i=>i.default===!0).name,items:[]},this.data=e}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(e=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:e}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",e=>{const[n,r]=[13,8];switch(e.keyCode){case n:this.getOutofList(e);break;case r:this.backspace(e);break}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:e=>e.items.join(". "),import:e=>({items:[e],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(e=>({...e,isActive:this._data.style===e.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(e.name)}))}onPaste(e){const n=e.detail.data;this.data=this.pasteHandler(n)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(e){const n=e==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,r=e==="ordered"?"ol":"ul";return this._make(r,[this.CSS.baseBlock,this.CSS.wrapper,n],{contentEditable:!this.readOnly})}toggleTune(e){const n=this.makeMainTag(e);for(;this._elements.wrapper.hasChildNodes();)n.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(n),this._elements.wrapper=n,this._data.style=e}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(e){e||(e={}),this._data.style=e.style||this.settings.find(r=>r.default===!0).name,this._data.items=e.items||[];const n=this._elements.wrapper;n&&n.parentNode.replaceChild(this.render(),n)}get data(){this._data.items=[];const e=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let n=0;n<e.length;n++)e[n].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[n].innerHTML);return this._data}_make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)o[i]=r[i];return o}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}getOutofList(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(n.length<2)return;const r=n[n.length-1],o=this.currentItem;o===r&&!r.textContent.trim().length&&(o.parentElement.removeChild(o),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}backspace(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item),r=n[0];r&&n.length<2&&!r.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}selectItem(e){e.preventDefault();const n=window.getSelection(),r=n.anchorNode.parentNode,o=r.closest("."+this.CSS.item),i=new Range;i.selectNodeContents(o),n.removeAllRanges(),n.addRange(i)}pasteHandler(e){const{tagName:n}=e;let r;switch(n){case"OL":r="ordered";break;case"UL":case"LI":r="unordered"}const o={style:r,items:[]};if(n==="LI")o.items=[e.innerHTML];else{const i=Array.from(e.querySelectorAll("LI"));o.items=i.map(s=>s.innerHTML).filter(s=>!!s.trim())}return o}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const ND='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',BD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',zk='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',LD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';function eo(t,e=null,n={}){const r=document.createElement(t);Array.isArray(e)?r.classList.add(...e):e!==null&&r.classList.add(e);for(const o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);return r}var Ni=(t=>(t.Empty="empty",t.Uploading="uploading",t.Filled="filled",t))(Ni||{});let OD=class{constructor({api:e,config:n,onSelectFile:r,readOnly:o}){this.api=e,this.config=n,this.onSelectFile=r,this.readOnly=o,this.nodes={wrapper:eo("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:eo("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:eo("div",this.CSS.imagePreloader),caption:eo("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(e,n){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,n)}render(e){return e.file===void 0||Object.keys(e.file).length===0?this.toggleStatus("empty"):this.toggleStatus("uploading"),this.nodes.wrapper}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage=`url(${e})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus("empty")}fillImage(e){const n=/\.mp4$/.test(e)?"VIDEO":"IMG",r={src:e};let o="load";n==="VIDEO"&&(r.autoplay=!0,r.loop=!0,r.muted=!0,r.playsinline=!0,o="loadeddata"),this.nodes.imageEl=eo(n,this.CSS.imageEl,r),this.nodes.imageEl.addEventListener(o,()=>{this.toggleStatus("filled"),this.nodes.imagePreloader!==void 0&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){this.nodes.caption!==void 0&&(this.nodes.caption.innerHTML=e)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}createFileButton(){const e=eo("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent??`${zk} ${this.api.i18n.t("Select an Image")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}toggleStatus(e){for(const n in Ni)Object.prototype.hasOwnProperty.call(Ni,n)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${Ni[n]}`,e===Ni[n])}};function RD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=3)}([function(n,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}n.exports=o},function(n,r,o){(function(i){var s=o(2),a=setTimeout;function l(){}function c(w){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if(typeof w!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(w,this)}function d(w,b){for(;w._state===3;)w=w._value;w._state!==0?(w._handled=!0,c._immediateFn(function(){var v=w._state===1?b.onFulfilled:b.onRejected;if(v!==null){var y;try{y=v(w._value)}catch(x){return void h(b.promise,x)}u(b.promise,y)}else(w._state===1?u:h)(b.promise,w._value)})):w._deferreds.push(b)}function u(w,b){try{if(b===w)throw new TypeError("A promise cannot be resolved with itself.");if(b&&(typeof b=="object"||typeof b=="function")){var v=b.then;if(b instanceof c)return w._state=3,w._value=b,void g(w);if(typeof v=="function")return void m((y=v,x=b,function(){y.apply(x,arguments)}),w)}w._state=1,w._value=b,g(w)}catch(E){h(w,E)}var y,x}function h(w,b){w._state=2,w._value=b,g(w)}function g(w){w._state===2&&w._deferreds.length===0&&c._immediateFn(function(){w._handled||c._unhandledRejectionFn(w._value)});for(var b=0,v=w._deferreds.length;b<v;b++)d(w,w._deferreds[b]);w._deferreds=null}function p(w,b,v){this.onFulfilled=typeof w=="function"?w:null,this.onRejected=typeof b=="function"?b:null,this.promise=v}function m(w,b){var v=!1;try{w(function(y){v||(v=!0,u(b,y))},function(y){v||(v=!0,h(b,y))})}catch(y){if(v)return;v=!0,h(b,y)}}c.prototype.catch=function(w){return this.then(null,w)},c.prototype.then=function(w,b){var v=new this.constructor(l);return d(this,new p(w,b,v)),v},c.prototype.finally=s.a,c.all=function(w){return new c(function(b,v){if(!w||w.length===void 0)throw new TypeError("Promise.all accepts an array");var y=Array.prototype.slice.call(w);if(y.length===0)return b([]);var x=y.length;function E(_,S){try{if(S&&(typeof S=="object"||typeof S=="function")){var T=S.then;if(typeof T=="function")return void T.call(S,function(P){E(_,P)},v)}y[_]=S,--x==0&&b(y)}catch(P){v(P)}}for(var C=0;C<y.length;C++)E(C,y[C])})},c.resolve=function(w){return w&&typeof w=="object"&&w.constructor===c?w:new c(function(b){b(w)})},c.reject=function(w){return new c(function(b,v){v(w)})},c.race=function(w){return new c(function(b,v){for(var y=0,x=w.length;y<x;y++)w[y].then(b,v)})},c._immediateFn=typeof i=="function"&&function(w){i(w)}||function(w){a(w,0)},c._unhandledRejectionFn=function(w){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",w)},r.a=c}).call(this,o(5).setImmediate)},function(n,r,o){r.a=function(i){var s=this.constructor;return this.then(function(a){return s.resolve(i()).then(function(){return a})},function(a){return s.resolve(i()).then(function(){return s.reject(a)})})}},function(n,r,o){function i(m){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(m)}o(4);var s,a,l,c,d,u,h,g=o(8),p=(a=function(m){return new Promise(function(w,b){m=c(m),(m=d(m)).beforeSend&&m.beforeSend();var v=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");v.open(m.method,m.url),v.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(m.headers).forEach(function(x){var E=m.headers[x];v.setRequestHeader(x,E)});var y=m.ratio;v.upload.addEventListener("progress",function(x){var E=Math.round(x.loaded/x.total*100),C=Math.ceil(E*y/100);m.progress(Math.min(C,100))},!1),v.addEventListener("progress",function(x){var E=Math.round(x.loaded/x.total*100),C=Math.ceil(E*(100-y)/100)+y;m.progress(Math.min(C,100))},!1),v.onreadystatechange=function(){if(v.readyState===4){var x=v.response;try{x=JSON.parse(x)}catch{}var E=g.parseHeaders(v.getAllResponseHeaders()),C={body:x,code:v.status,headers:E};h(v.status)?w(C):b(C)}},v.send(m.data)})},l=function(m){return m.method="POST",a(m)},c=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(m.url&&typeof m.url!="string")throw new Error("Url must be a string");if(m.url=m.url||"",m.method&&typeof m.method!="string")throw new Error("`method` must be a string or null");if(m.method=m.method?m.method.toUpperCase():"GET",m.headers&&i(m.headers)!=="object")throw new Error("`headers` must be an object or null");if(m.headers=m.headers||{},m.type&&(typeof m.type!="string"||!Object.values(s).includes(m.type)))throw new Error("`type` must be taken from module's «contentType» library");if(m.progress&&typeof m.progress!="function")throw new Error("`progress` must be a function or null");if(m.progress=m.progress||function(w){},m.beforeSend=m.beforeSend||function(w){},m.ratio&&typeof m.ratio!="number")throw new Error("`ratio` must be a number");if(m.ratio<0||m.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(m.ratio=m.ratio||90,m.accept&&typeof m.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(m.accept=m.accept||"*/*",m.multiple&&typeof m.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(m.multiple=m.multiple||!1,m.fieldName&&typeof m.fieldName!="string")throw new Error("`fieldName` must be a string");return m.fieldName=m.fieldName||"files",m},d=function(m){switch(m.method){case"GET":var w=u(m.data,s.URLENCODED);delete m.data,m.url=/\?/.test(m.url)?m.url+"&"+w:m.url+"?"+w;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var b=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||s.JSON}(m);(g.isFormData(m.data)||g.isFormElement(m.data))&&(b=s.FORM),m.data=u(m.data,b),b!==p.contentType.FORM&&(m.headers["content-type"]=b)}return m},u=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case s.URLENCODED:return g.urlEncode(m);case s.JSON:return g.jsonEncode(m);case s.FORM:return g.formEncode(m);default:return m}},h=function(m){return m>=200&&m<300},{contentType:s={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:a,get:function(m){return m.method="GET",a(m)},post:l,transport:function(m){return m=c(m),g.selectFiles(m).then(function(w){for(var b=new FormData,v=0;v<w.length;v++)b.append(m.fieldName,w[v],w[v].name);g.isObject(m.data)&&Object.keys(m.data).forEach(function(x){var E=m.data[x];b.append(x,E)});var y=m.beforeSend;return m.beforeSend=function(){return y(w)},m.data=b,l(m)})},selectFiles:function(m){return delete(m=c(m)).beforeSend,g.selectFiles(m)}});n.exports=p},function(n,r,o){o.r(r);var i=o(1);window.Promise=window.Promise||i.a},function(n,r,o){(function(i){var s=i!==void 0&&i||typeof self<"u"&&self||window,a=Function.prototype.apply;function l(c,d){this._id=c,this._clearFn=d}r.setTimeout=function(){return new l(a.call(setTimeout,s,arguments),clearTimeout)},r.setInterval=function(){return new l(a.call(setInterval,s,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(c){c&&c.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(s,this._id)},r.enroll=function(c,d){clearTimeout(c._idleTimeoutId),c._idleTimeout=d},r.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},r._unrefActive=r.active=function(c){clearTimeout(c._idleTimeoutId);var d=c._idleTimeout;d>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},d))},o(6),r.setImmediate=typeof self<"u"&&self.setImmediate||i!==void 0&&i.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||i!==void 0&&i.clearImmediate||this&&this.clearImmediate}).call(this,o(0))},function(n,r,o){(function(i,s){(function(a,l){if(!a.setImmediate){var c,d,u,h,g,p=1,m={},w=!1,b=a.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(a);v=v&&v.setTimeout?v:a,{}.toString.call(a.process)==="[object process]"?c=function(E){s.nextTick(function(){x(E)})}:function(){if(a.postMessage&&!a.importScripts){var E=!0,C=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=C,E}}()?(h="setImmediate$"+Math.random()+"$",g=function(E){E.source===a&&typeof E.data=="string"&&E.data.indexOf(h)===0&&x(+E.data.slice(h.length))},a.addEventListener?a.addEventListener("message",g,!1):a.attachEvent("onmessage",g),c=function(E){a.postMessage(h+E,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(E){x(E.data)},c=function(E){u.port2.postMessage(E)}):b&&"onreadystatechange"in b.createElement("script")?(d=b.documentElement,c=function(E){var C=b.createElement("script");C.onreadystatechange=function(){x(E),C.onreadystatechange=null,d.removeChild(C),C=null},d.appendChild(C)}):c=function(E){setTimeout(x,0,E)},v.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var C=new Array(arguments.length-1),_=0;_<C.length;_++)C[_]=arguments[_+1];var S={callback:E,args:C};return m[p]=S,c(p),p++},v.clearImmediate=y}function y(E){delete m[E]}function x(E){if(w)setTimeout(x,0,E);else{var C=m[E];if(C){w=!0;try{(function(_){var S=_.callback,T=_.args;switch(T.length){case 0:S();break;case 1:S(T[0]);break;case 2:S(T[0],T[1]);break;case 3:S(T[0],T[1],T[2]);break;default:S.apply(l,T)}})(C)}finally{y(E),w=!1}}}}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,o(0),o(7))},function(n,r){var o,i,s=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(v){if(o===setTimeout)return setTimeout(v,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(v,0);try{return o(v,0)}catch{try{return o.call(null,v,0)}catch{return o.call(this,v,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:a}catch{o=a}try{i=typeof clearTimeout=="function"?clearTimeout:l}catch{i=l}})();var d,u=[],h=!1,g=-1;function p(){h&&d&&(h=!1,d.length?u=d.concat(u):g=-1,u.length&&m())}function m(){if(!h){var v=c(p);h=!0;for(var y=u.length;y;){for(d=u,u=[];++g<y;)d&&d[g].run();g=-1,y=u.length}d=null,h=!1,function(x){if(i===clearTimeout)return clearTimeout(x);if((i===l||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(x);try{i(x)}catch{try{return i.call(null,x)}catch{return i.call(this,x)}}}(v)}}function w(v,y){this.fun=v,this.array=y}function b(){}s.nextTick=function(v){var y=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)y[x-1]=arguments[x];u.push(new w(v,y)),u.length!==1||h||c(m)},w.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=b,s.addListener=b,s.once=b,s.off=b,s.removeListener=b,s.removeAllListeners=b,s.emit=b,s.prependListener=b,s.prependOnceListener=b,s.listeners=function(v){return[]},s.binding=function(v){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(v){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,r,o){function i(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var s=o(9);n.exports=function(){function a(){(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,a)}var l,c,d;return l=a,d=[{key:"urlEncode",value:function(u){return s(u)}},{key:"jsonEncode",value:function(u){return JSON.stringify(u)}},{key:"formEncode",value:function(u){if(this.isFormData(u))return u;if(this.isFormElement(u))return new FormData(u);if(this.isObject(u)){var h=new FormData;return Object.keys(u).forEach(function(g){var p=u[g];h.append(g,p)}),h}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(u){return Object.prototype.toString.call(u)==="[object Object]"}},{key:"isFormData",value:function(u){return u instanceof FormData}},{key:"isFormElement",value:function(u){return u instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(h,g){var p=document.createElement("INPUT");p.type="file",u.multiple&&p.setAttribute("multiple","multiple"),u.accept&&p.setAttribute("accept",u.accept),p.style.display="none",document.body.appendChild(p),p.addEventListener("change",function(m){var w=m.target.files;h(w),document.body.removeChild(p)},!1),p.click()})}},{key:"parseHeaders",value:function(u){var h=u.trim().split(/[\r\n]+/),g={};return h.forEach(function(p){var m=p.split(": "),w=m.shift(),b=m.join(": ");w&&(g[w]=b)}),g}}],(c=null)&&i(l.prototype,c),d&&i(l,d),a}()},function(n,r){var o=function(s){return encodeURIComponent(s).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},i=function(s,a,l,c){return a=a||null,l=l||"&",c=c||null,s?function(d){for(var u=new Array,h=0;h<d.length;h++)d[h]&&u.push(d[h]);return u}(Object.keys(s).map(function(d){var u,h,g=d;if(c&&(g=c+"["+g+"]"),typeof s[d]=="object"&&s[d]!==null)u=i(s[d],null,l,g);else{a&&(h=g,g=!isNaN(parseFloat(h))&&isFinite(h)?a+Number(g):g);var p=s[d];p=(p=(p=(p=p===!0?"1":p)===!1?"0":p)===0?"0":p)||"",u=o(g)+"="+o(p)}return u})).join(l).replace(/[!'()*]/g,""):""};n.exports=i}])})})(Wk);var MD=Wk.exports;const to=RD(MD);function Ku(t){return t!==void 0&&typeof t.then=="function"}let jD=class{constructor({config:e,onUpload:n,onError:r}){this.config=e,this.onUpload=n,this.onError=r}uploadSelectedFile({onPreview:e}){const n=function(o){const i=new FileReader;i.readAsDataURL(o),i.onload=s=>{e(s.target.result)}};let r;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"){const o=this.config.uploader.uploadByFile;r=to.selectFiles({accept:this.config.types??"image/*"}).then(i=>{n(i[0]);const s=o(i[0]);return Ku(s)||console.warn("Custom uploader method uploadByFile should return a Promise"),s})}else r=to.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"image/*",headers:this.config.additionalRequestHeaders,beforeSend:o=>{n(o[0])},fieldName:this.config.field??"image"}).then(o=>o.body);r.then(o=>{this.onUpload(o)}).catch(o=>{this.onError(o)})}uploadByUrl(e){let n;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(n=this.config.uploader.uploadByUrl(e),Ku(n)||console.warn("Custom uploader method uploadByUrl should return a Promise")):n=to.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:to.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(r=>r.body),n.then(r=>{this.onUpload(r)}).catch(r=>{this.onError(r)})}uploadByFile(e,{onPreview:n}){const r=new FileReader;r.readAsDataURL(e),r.onload=i=>{n(i.target.result)};let o;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")o=this.config.uploader.uploadByFile(e),Ku(o)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const i=new FormData;i.append(this.config.field??"image",e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([s,a])=>{i.append(s,a)}),o=to.post({url:this.config.endpoints.byFile,data:i,type:to.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(s=>s.body)}o.then(i=>{this.onUpload(i)}).catch(i=>{this.onError(i)})}};/**
 * Image Tool for the Editor.js
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.ts — main Tool's interface, public API and methods for working with data
 *  2) uploader.ts — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.ts — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */let DD=class Nh{constructor({data:e,config:n,api:r,readOnly:o,block:i}){this.api=r,this.readOnly=o,this.block=i,this.config={endpoints:n.endpoints,additionalRequestData:n.additionalRequestData,additionalRequestHeaders:n.additionalRequestHeaders,field:n.field,types:n.types,captionPlaceholder:this.api.i18n.t(n.captionPlaceholder??"Caption"),buttonContent:n.buttonContent,uploader:n.uploader,actions:n.actions},this.uploader=new jD({config:this.config,onUpload:s=>this.onUpload(s),onError:s=>this.uploadingFailed(s)}),this.ui=new OD({api:r,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:s=>{this.ui.showPreloader(s)}})},readOnly:o}),this._data={caption:"",withBorder:!1,withBackground:!1,stretched:!1,file:{url:""}},this.data=e}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:zk,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:BD,title:"With border",toggle:!0},{name:"stretched",icon:LD,title:"Stretch image",toggle:!0},{name:"withBackground",icon:ND,title:"With background",toggle:!0}]}render(){return this.ui.render(this.data)}validate(e){return!!e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){return Nh.tunes.concat(this.config.actions||[]).map(e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:this.data[e.name],onActivate:()=>{if(typeof e.action=="function"){e.action(e.name);return}this.tuneToggled(e.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{const n=e.detail.data;if(/^blob:/.test(n.src)){const r=await(await fetch(n.src)).blob();this.uploadFile(r);break}this.uploadUrl(n.src);break}case"pattern":{const n=e.detail.data;this.uploadUrl(n);break}case"file":{const n=e.detail.file;this.uploadFile(n);break}}}set data(e){this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),Nh.tunes.forEach(({name:n})=>{const r=typeof e[n]<"u"?e[n]===!0||e[n]==="true":!1;this.setTune(n,r)})}get data(){return this._data}set image(e){this._data.file=e||{url:""},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e){this.setTune(e,!this._data[e])}setTune(e,n){this._data[e]=n,this.ui.applyTune(e,n),e==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=n}).catch(r=>{console.error(r)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:n=>{this.ui.showPreloader(n)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const FD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',$D='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',UD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',VD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',HD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',zD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',WD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */class KD{constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._settings=n,this._data=this.normalizeData(e),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(e){return e.text!==void 0}normalizeData(e){const n={text:"",level:this.defaultLevel.number};return this.isHeaderData(e)&&(n.text=e.text||"",e.level!==void 0&&!isNaN(parseInt(e.level.toString()))&&(n.level=parseInt(e.level.toString()))),n}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number,render:()=>document.createElement("div")}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){const n={text:this.data.text+e.text,level:this.data.level};this.data=n}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){const n=this.getTag();n.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(n,this._element),this._element=n}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(n=>n.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find(n=>n.number===this._settings.defaultLevel);if(e)return e;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const e=[{number:1,tag:"H1",svg:FD},{number:2,tag:"H2",svg:$D},{number:3,tag:"H3",svg:UD},{number:4,tag:"H4",svg:VD},{number:5,tag:"H5",svg:HD},{number:6,tag:"H6",svg:zD}];return this._settings.levels?e.filter(n=>this._settings.levels.includes(n.number)):e}onPaste(e){const n=e.detail;if("data"in n){const r=n.data;let o=this.defaultLevel.number;switch(r.tagName){case"H1":o=1;break;case"H2":o=2;break;case"H3":o=3;break;case"H4":o=4;break;case"H5":o=5;break;case"H6":o=6;break}this._settings.levels&&(o=this._settings.levels.reduce((i,s)=>Math.abs(s-o)<Math.abs(i-o)?s:i)),this.data={level:o,text:r.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:WD,title:"Heading"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const qD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',GD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',YD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>';var Yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XD(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var Wa={},Op={},Rp={};Object.defineProperty(Rp,"__esModule",{value:!0});Rp.allInputsSelector=JD;function JD(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=Rp;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(Op);var Jr={},Mp={};Object.defineProperty(Mp,"__esModule",{value:!0});Mp.isNativeInput=QD;function QD(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=Mp;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(Jr);var Kk={},jp={};Object.defineProperty(jp,"__esModule",{value:!0});jp.append=ZD;function ZD(t,e){Array.isArray(e)?e.forEach(function(n){t.appendChild(n)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=jp;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(Kk);var Dp={},Fp={};Object.defineProperty(Fp,"__esModule",{value:!0});Fp.blockElements=e5;function e5(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=Fp;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(Dp);var qk={},$p={};Object.defineProperty($p,"__esModule",{value:!0});$p.calculateBaseline=t5;function t5(t){var e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,o=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=n*.8,l=(r-n)/2,c=s+i+o+l+a;return c}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=$p;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(qk);var Gk={},Up={},Vp={},Hp={};Object.defineProperty(Hp,"__esModule",{value:!0});Hp.isContentEditable=n5;function n5(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=Hp;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(Vp);Object.defineProperty(Up,"__esModule",{value:!0});Up.canSetCaret=i5;var r5=Jr,o5=Vp;function i5(t){var e=!0;if((0,r5.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,o5.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=Up;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(Gk);var Lc={},zp={};function s5(t,e,n){const r=n.value!==void 0?"value":"get",o=n[r],i=`#${e}Cache`;if(n[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,s)),this[i]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete t[i],s.apply(this,a)}}return n}function Yk(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e!==void 0&&(t[e]=!0),t}function Wp(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function a5(t){return!Wp(t)}const l5=()=>typeof window<"u"&&window.navigator!==null&&Wp(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function c5(t){const e=Yk();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function u5(t){return t[0].toUpperCase()+t.slice(1)}function d5(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const n=window.getSelection(),r=document.createRange();if(r.selectNode(e),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}function h5(t,e,n){let r;return(...o)=>{const i=this,s=()=>{r=void 0,n!==!0&&t.apply(i,o)},a=n===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(s,e),a&&t.apply(i,o)}}function lr(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function f5(t){return lr(t)==="boolean"}function Xk(t){return lr(t)==="function"||lr(t)==="asyncfunction"}function p5(t){return Xk(t)&&/^\s*class\s+/.test(t.toString())}function m5(t){return lr(t)==="number"}function Ka(t){return lr(t)==="object"}function g5(t){return Promise.resolve(t)===t}function v5(t){return lr(t)==="string"}function y5(t){return lr(t)==="undefined"}function Bh(t,...e){if(!e.length)return t;const n=e.shift();if(Ka(t)&&Ka(n))for(const r in n)Ka(n[r])?(t[r]===void 0&&Object.assign(t,{[r]:{}}),Bh(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Bh(t,...e)}function b5(t,e,n){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&console.warn(r)}function w5(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function x5(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const k5={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},E5={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class S5{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}function C5(t,e,n=void 0){let r,o,i,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,o),s===null&&(r=o=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const d=e-(c-a);return r=this,o=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),a=c,i=t.apply(r,o),s===null&&(r=o=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,d)),i}}const T5=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:S5,beautifyShortcut:c5,cacheable:s5,capitalize:u5,copyTextToClipboard:d5,debounce:h5,deepMerge:Bh,deprecationAssert:b5,getUserOS:Yk,getValidUrl:w5,isBoolean:f5,isClass:p5,isEmpty:a5,isFunction:Xk,isIosDevice:l5,isNumber:m5,isObject:Ka,isPrintableKey:x5,isPromise:g5,isString:v5,isUndefined:y5,keyCodes:k5,mouseButtons:E5,notEmpty:Wp,throttle:C5,typeOf:lr},Symbol.toStringTag,{value:"Module"})),Kp=XD(T5);Object.defineProperty(zp,"__esModule",{value:!0});zp.containsOnlyInlineElements=P5;var _5=Kp,I5=Dp;function P5(t){var e;(0,_5.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var n=function(r){return!(0,I5.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(n)};return Array.from(e.children).every(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=zp;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(Lc);var Jk={},qp={},Oc={},Gp={};Object.defineProperty(Gp,"__esModule",{value:!0});Gp.make=A5;function A5(t,e,n){var r;e===void 0&&(e=null),n===void 0&&(n={});var o=document.createElement(t);if(Array.isArray(e)){var i=e.filter(function(a){return a!==void 0});(r=o.classList).add.apply(r,i)}else e!==null&&o.classList.add(e);for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=n[s]);return o}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=Gp;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(Oc);Object.defineProperty(qp,"__esModule",{value:!0});qp.fragmentToString=B5;var N5=Oc;function B5(t){var e=(0,N5.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=qp;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(Jk);var Qk={},Yp={};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.getContentLength=O5;var L5=Jr;function O5(t){var e,n;return(0,L5.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(n=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=Yp;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(Qk);var Xp={},Jp={},My=Yl&&Yl.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.getDeepestBlockElements=Zk;var R5=Lc;function Zk(t){return(0,R5.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,n){return My(My([],e,!0),Zk(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=Jp;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(Xp);var eE={},Qp={},Rc={},Zp={};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.isLineBreakTag=M5;function M5(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=Zp;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(Rc);var Mc={},em={};Object.defineProperty(em,"__esModule",{value:!0});em.isSingleTag=j5;function j5(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=em;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(Mc);Object.defineProperty(Qp,"__esModule",{value:!0});Qp.getDeepestNode=tE;var D5=Jr,F5=Rc,$5=Mc;function tE(t,e){e===void 0&&(e=!1);var n=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[n]){var o=t[n];if((0,$5.isSingleTag)(o)&&!(0,D5.isNativeInput)(o)&&!(0,F5.isLineBreakTag)(o))if(o[r])o=o[r];else if(o.parentNode!==null&&o.parentNode[r])o=o.parentNode[r];else return o.parentNode;return tE(o,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=Qp;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(eE);var nE={},tm={},pa=Yl&&Yl.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(tm,"__esModule",{value:!0});tm.findAllInputs=W5;var U5=Lc,V5=Xp,H5=Op,z5=Jr;function W5(t){return Array.from(t.querySelectorAll((0,H5.allInputsSelector)())).reduce(function(e,n){return(0,z5.isNativeInput)(n)||(0,U5.containsOnlyInlineElements)(n)?pa(pa([],e,!0),[n],!1):pa(pa([],e,!0),(0,V5.getDeepestBlockElements)(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=tm;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(nE);var rE={},nm={};Object.defineProperty(nm,"__esModule",{value:!0});nm.isCollapsedWhitespaces=K5;function K5(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=nm;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(rE);var rm={},om={};Object.defineProperty(om,"__esModule",{value:!0});om.isElement=G5;var q5=Kp;function G5(t){return(0,q5.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=om;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(rm);var oE={},im={},sm={},am={};Object.defineProperty(am,"__esModule",{value:!0});am.isLeaf=Y5;function Y5(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=am;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(sm);var lm={},cm={};Object.defineProperty(cm,"__esModule",{value:!0});cm.isNodeEmpty=e4;var X5=Rc,J5=rm,Q5=Jr,Z5=Mc;function e4(t,e){var n="";return(0,Z5.isSingleTag)(t)&&!(0,X5.isLineBreakTag)(t)?!1:((0,J5.isElement)(t)&&(0,Q5.isNativeInput)(t)?n=t.value:t.textContent!==null&&(n=t.textContent.replace("​","")),e!==void 0&&(n=n.replace(new RegExp(e,"g"),"")),n.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=cm;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(lm);Object.defineProperty(im,"__esModule",{value:!0});im.isEmpty=r4;var t4=sm,n4=lm;function r4(t,e){t.normalize();for(var n=[t];n.length>0;){var r=n.shift();if(r){if(t=r,(0,t4.isLeaf)(t)&&!(0,n4.isNodeEmpty)(t,e))return!1;n.push.apply(n,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=im;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(oE);var iE={},um={};Object.defineProperty(um,"__esModule",{value:!0});um.isFragment=i4;var o4=Kp;function i4(t){return(0,o4.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=um;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(iE);var sE={},dm={};Object.defineProperty(dm,"__esModule",{value:!0});dm.isHTMLString=a4;var s4=Oc;function a4(t){var e=(0,s4.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=dm;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(sE);var aE={},hm={};Object.defineProperty(hm,"__esModule",{value:!0});hm.offset=l4;function l4(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,o=e.top+r,i=e.left+n;return{top:o,left:i,bottom:o+e.height,right:i+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=hm;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(aE);var lE={},fm={};Object.defineProperty(fm,"__esModule",{value:!0});fm.prepend=c4;function c4(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(n){return t.prepend(n)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=fm;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(lE);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=Op;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var n=Jr;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var r=Kk;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return r.append}});var o=Dp;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return o.blockElements}});var i=qk;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return i.calculateBaseline}});var s=Gk;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return s.canSetCaret}});var a=Lc;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return a.containsOnlyInlineElements}});var l=Jk;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var c=Qk;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return c.getContentLength}});var d=Xp;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return d.getDeepestBlockElements}});var u=eE;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return u.getDeepestNode}});var h=nE;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return h.findAllInputs}});var g=rE;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return g.isCollapsedWhitespaces}});var p=Vp;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return p.isContentEditable}});var m=rm;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return m.isElement}});var w=oE;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return w.isEmpty}});var b=iE;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return b.isFragment}});var v=sE;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return v.isHTMLString}});var y=sm;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return y.isLeaf}});var x=lm;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return x.isNodeEmpty}});var E=Rc;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return E.isLineBreakTag}});var C=Mc;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return C.isSingleTag}});var _=Oc;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return _.make}});var S=aE;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return S.offset}});var T=lE;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return T.prepend}})})(Wa);var cE=(t=>(t.Left="left",t.Center="center",t))(cE||{});class qi{constructor({data:e,config:n,api:r,readOnly:o,block:i}){const{DEFAULT_ALIGNMENT:s}=qi;this.api=r,this.readOnly=o,this._quotePlaceholder=n.quotePlaceholder||qi.DEFAULT_QUOTE_PLACEHOLDER,this._captionPlaceholder=n.captionPlaceholder||qi.DEFAULT_CAPTION_PLACEHOLDER,this._data={text:e.text||"",caption:e.caption||"",alignment:Object.values(cE).includes(e.alignment)&&e.alignment||n.defaultAlignment||s},this._CSS={baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"},this._block=i}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:YD,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get DEFAULT_ALIGNMENT(){return"left"}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text} — ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:GD},{name:"center",icon:qD}]}render(){const e=Wa.make("blockquote",[this._CSS.baseClass,this._CSS.wrapper]),n=Wa.make("div",[this._CSS.input,this._CSS.text],{contentEditable:!this.readOnly,innerHTML:this._data.text}),r=Wa.make("div",[this._CSS.input,this._CSS.caption],{contentEditable:!this.readOnly,innerHTML:this._data.caption});return n.dataset.placeholder=this._quotePlaceholder,r.dataset.placeholder=this._captionPlaceholder,e.appendChild(n),e.appendChild(r),e}save(e){const n=e.querySelector(`.${this._CSS.text}`),r=e.querySelector(`.${this._CSS.caption}`);return Object.assign(this._data,{text:(n==null?void 0:n.innerHTML)??"",caption:(r==null?void 0:r.innerHTML)??""})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){const e=n=>n&&n[0].toUpperCase()+n.slice(1);return this.settings.map(n=>({icon:n.icon,label:this.api.i18n.t(`Align ${e(n.name)}`),onActivate:()=>this._toggleTune(n.name),isActive:this._data.alignment===n.name,closeOnActivate:!0}))}_toggleTune(e){this._data.alignment=e,this._block.dispatchChange()}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const u4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';let d4=class Bi{static get CSS(){return"cdx-marker"}constructor({api:e}){this.api=e,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,Bi.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(Bi.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){this.api.selection.expandToTag(e);let n=window.getSelection(),r=n.getRangeAt(0),o=r.extractContents();e.parentNode.removeChild(e),r.insertNode(o),n.removeAllRanges(),n.addRange(r)}checkState(){const e=this.api.selection.findParentTag(this.tag,Bi.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return u4}static get sanitize(){return{mark:{class:Bi.CSS}}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const h4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';class ko{constructor({api:e}){this.tag="CODE",this.api=e,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get CSS(){return"inline-code"}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,ko.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(ko.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){var n;this.api.selection.expandToTag(e);const r=window.getSelection();if(!r)return;const o=r.getRangeAt(0),i=o.extractContents();(n=e.parentNode)==null||n.removeChild(e),o.insertNode(i),r.removeAllRanges(),r.addRange(o)}checkState(){const e=this.api.selection.findParentTag(this.tag,ko.CSS);return this.button&&this.button.classList.toggle(this.iconClasses.active,!!e),!!e}get toolboxIcon(){return h4}static get sanitize(){return{code:{class:ko.CSS}}}}const f4=t=>new Promise((n,r)=>{try{n(t)}catch(o){r(o)}}).then(n=>({success:1,file:{url:n}})),p4=t=>wp(t).then(e=>{if(e)return{success:1,file:{url:e}}}),m4={embed:ID,list:{class:AD,inlineToolbar:!0},image:{class:DD,config:{uploader:{uploadByUrl:f4,uploadByFile:p4}}},header:{class:KD,config:{placeholder:"Type Heading...",levels:[2,3],defaultLevel:2}},quote:{class:qi,inlineToolbar:!0},marker:d4,inlineCode:ko},g4=()=>{const t=ei(),{blog_id:e}=ti();let{blog:n,blog:{title:r="",banner:o,content:i,tags:s,description:a},setBlog:l,setEditorState:c,textEditor:d,setTextEditor:u}=k.useContext(jc);const{userAuth:{access_token:h}}=k.useContext(_e),{theme:g}=k.useContext($c);k.useEffect(()=>{d.isReady||u(new CD({holderId:"textEditor",data:Array.isArray(i)?i[0]:i,tools:m4,placeholder:"Let's write an awesomw blog."}))},[]);const p=x=>{const E=x.target.files[0];if(E){let C=Y.loading("Uploading...");wp(E).then(_=>{_&&(Y.dismiss(C),Y.success("Uploaded 👍🏼"),l({...n,banner:_}))}).catch(_=>(Y.dismiss(C),Y.error(_)))}},m=x=>{x.keyCode===13&&x.preventDefault()},w=x=>{let E=x.target;E.style.height="auto",E.style.height=E.scrollHeight+"px",l({...n,title:E.value})},b=x=>{let E=x.target;E.src=g=="light"?hM:fM},v=()=>{if(!o)return Y.error("Upload a blog banner to publish it");if(!r)return Y.error("Write blog title to publish it");d.isReady&&d.save().then(x=>{x.blocks.length?(l({...n,content:x}),c("publish")):Y.error("Write something in your blog to publish it")}).catch(x=>{console.log(x)})},y=x=>{if(x.target.className.includes("disable"))return;if(!r.length)return Y.error("Write blog title before save it as a draft");let E=Y.loading("Saving Draft...");x.target.classList.add("disable"),d.isReady&&d.save().then(C=>{let _={title:r,banner:o,content:C,description:a,tags:s,draft:!0};Z.post("https://six0551c5f-blogiflux-server.onrender.com/create-blog",{..._,id:e},{headers:{Authorization:`Bearer ${h}`}}).then(()=>{x.target.classList.remove("disable"),Y.dismiss(E),Y.success("Saved 👍🏼"),setTimeout(()=>{t("/dashboard/blogs?tab=draft")},500)}).catch(({response:S})=>(x.target.classList.remove("disable"),Y.dismiss(E),Y.error(S.data.error)))})};return f.jsxs(f.Fragment,{children:[f.jsxs("nav",{className:"navbar",children:[f.jsx(ee,{to:"/",className:"flex-none w-10",children:f.jsx("img",{src:g=="light"?f1:p1})}),f.jsx("p",{className:"max-md:hidden text-black  line-clamp-1 w-full",children:r||"New Blog"}),f.jsxs("div",{className:"flex gap-4 ml-auto",children:[f.jsx("button",{className:"btn-dark py-2",onClick:v,children:"Publish"}),f.jsx("button",{className:"btn-light py-2",onClick:y,children:"Save Draft"})]})]}),f.jsx(Ls,{}),f.jsx(Ce,{children:f.jsx("section",{children:f.jsxs("div",{className:"mx-auto max-w-[900px] w-full",children:[f.jsx("div",{className:"relative aspect-video hover:opacity-80 bg-white border-4 border-grey",children:f.jsxs("label",{htmlFor:"uploadBanner",children:[f.jsx("img",{src:o,className:"z-20",onError:b}),f.jsx("input",{type:"file",id:"uploadBanner",accept:".png, .jpg, .jpeg",hidden:!0,onChange:p})]})}),f.jsx("textarea",{placeholder:"Blog Title",className:"text-4xl font-medium w-full h-20 outline-none resize-none mt-10 leading-tight placeholder:opacity-40 bg-white",onKeyDown:m,onChange:w,value:r||""}),f.jsx("hr",{className:"w-full opacity-10 my-5"}),f.jsx("div",{id:"textEditor",className:"font-gelasio"})]})})})]})},v4=({tag:t,tagIndex:e})=>{let{blog:n,blog:{tags:r},setBlog:o}=k.useContext(jc);const i=l=>{r=r.filter(c=>c!==t),o({...n,tags:r})},s=l=>{if(l.keyCode==13||l.keyCode==100){l.preventDefault();const c=l.target.innerText;r[e]=c,o({...n,tags:r}),l.target.setAttribute("contentEditable",!1)}},a=l=>{l.target.setAttribute("contentEditable",!0),l.target.focus()};return f.jsxs("div",{className:"relative p-2 mt-2 mr-2 px-5 bg-white rounded-full inline-block hover:bg-opacity-60 pr-8",children:[f.jsx("p",{className:"outline-none",onKeyDown:s,onClick:a,children:t}),f.jsx("button",{className:"mt-[2px] rounded-full absolute right-3 top-1/2 -translate-y-1/2",onClick:i,children:f.jsx("i",{className:"fi fi-br-cross text-sm pointer-events-none"})})]})},y4=()=>{const n=ei(),{blog_id:r}=ti();let{blog:o,blog:{banner:i,title:s,tags:a,content:l,description:c},setBlog:d,setEditorState:u}=k.useContext(jc);const{userAuth:{access_token:h}}=k.useContext(_e),g=y=>{u("editor")},p=y=>{let x=y.target;d({...o,title:x.value})},m=y=>{const x=y.target;d({...o,description:x.value})},w=y=>{y.keyCode===13&&y.preventDefault()},b=y=>{if(y.keyCode===13||y.keyCode===100){y.preventDefault();let x=y.target.value;a.length<10?!a.includes(x)&&x.length&&d({...o,tags:[...a,x]}):te.error("You can add max 10 tags."),y.target.value=""}},v=y=>{if(y.target.className.includes("disable"))return;if(!s.length)return te.error("Write blog title before publish");if(!c.length||c.length>250)return te.error("Write a description about your blog withing 250 characters to publish");if(!a.length)return te.error("Enter atleast 1 tag to help us rank yout  250 characters to publish");let x=te.loading("Publishing...");y.target.classList.add("disable");let E={title:s,banner:i,content:l,description:c,tags:a,draft:!1};Z.post("https://six0551c5f-blogiflux-server.onrender.com/create-blog",{...E,id:r},{headers:{Authorization:`Bearer ${h}`}}).then(()=>{y.target.classList.remove("disable"),te.dismiss(x),te.success("Published 👍🏼"),setTimeout(()=>{n("/dashboard/blogs")},500)}).catch(({response:C})=>(y.target.classList.remove("disable"),te.dismiss(x),te.error(C.data.error)))};return f.jsx(Ce,{children:f.jsxs("section",{className:"w-screen min-h-screen grid items-center lg:grid-cols-2 lg:gap-4",children:[f.jsx(Ls,{}),f.jsx("button",{className:"w-12 h-12 absolute right-[5vw] z-10 top-[5%] lg:top-[10%]",onClick:g,children:f.jsx("i",{className:"fi fi-br-cross"})}),f.jsxs("div",{className:"max-w-[550px] center",children:[f.jsx("p",{className:"text-dark-grey mb-1",children:"Preview"}),f.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden mt-4",children:f.jsx("img",{src:i,alt:""})}),f.jsx("h1",{className:"text-4xl font-medium mt-2 leading-tight line-clamp-2",children:s}),f.jsx("p",{className:"font-gelasio line-clamp-2 text-xl leading-7 mt-4",children:c})]}),f.jsxs("div",{className:"border-gray lg:border-1 lg:pl-8",children:[f.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Blog Title"}),f.jsx("input",{type:"text",placeholder:"Blog Title",value:s,onChange:p,className:"input-box pl-4"}),f.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Short description about your blog"}),f.jsx("textarea",{maxLength:250,defaultValue:c,id:"",className:"h-40 resize-none leading-7 input-box pl-4",onChange:m,onKeyDown:w}),f.jsxs("p",{className:"mt-1 text-dark-grey text-sm text-right",children:[250-c.length," characters left"]}),f.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Topics - (Helps is searching and ranking your blog spot)"}),f.jsxs("div",{className:"relative input-box pl-2 py-2 pb-4",children:[f.jsx("input",{type:"text",placeholder:"Topic",className:"sticky input-box bg-white top-0 left-0 pl-4 mb-3 focus:bg-white",onKeyDown:b}),a.map((y,x)=>f.jsx(v4,{tag:y,tagIndex:x},x))]}),f.jsxs("p",{className:"mt-1 mb-4 text-dark-grey text-right",children:[10-a.length," Tags left"]}),f.jsx("button",{className:"btn-dark px-8",onClick:v,children:"Publish"})]})]})})},dt=()=>f.jsx("div",{className:"w-12 mx-auto my-8",children:f.jsxs("svg",{"aria-hidden":"true",className:"w-12 h-12 mr-2 text-white animate-spin fill-dark-grey",viewBox:"0 0 100 101",fill:"none",children:[f.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),f.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}),b4="/849e43cb-blogiflux-web/assets/404-light-cbeafc35.png",w4="/849e43cb-blogiflux-web/assets/404-dark-6776bc8a.png",x4="/849e43cb-blogiflux-web/assets/full-logo-light-466dd432.png",k4="/849e43cb-blogiflux-web/assets/full-logo-dark-df55766c.png",uE=()=>{const{theme:t,setTheme:e}=k.useContext($c);return f.jsxs("section",{className:"h-cover relative p-10 flex flex-col items-center gap-20 text-center",children:[f.jsx("img",{src:t=="light"?w4:b4,alt:"",className:"select-none border-grey w-72 aspect-square object-cover rounded border-2"}),f.jsx("h1",{className:"text-4xl font-gelasio leading-7",children:"Page not found"}),f.jsxs("p",{className:"text-dark-grey text-xl leading-7 mt-8",children:["The page you are looking for does not exists.Head back to the"," ",f.jsx(ee,{to:"/",className:"text-black underline",children:"home page"})]}),f.jsxs("div",{className:"mt-auto",children:[f.jsx("img",{src:t=="light"?k4:x4,alt:"",className:"h-12 object-contain block mt-auto select-none"}),f.jsxs("p",{className:"mt-5 text-dark-grey",children:["Read millions of stories around the world"," "]})]})]})},dE={title:"",banner:"",content:[],tags:[],description:"",author:{personal_info:{}}},jc=k.createContext(dE),jy=()=>{const{blog_id:t}=ti(),[e,n]=k.useState("editor"),[r,o]=k.useState({isReady:!1}),[i,s]=k.useState(dE),[a,l]=k.useState(!0),{userAuth:{access_token:c,isAdmin:d}}=k.useContext(_e);return k.useEffect(()=>{if(!t)return l(!1);Z.post("https://six0551c5f-blogiflux-server.onrender.com/get-blog",{blog_id:t,draft:!0,mode:"edit"}).then(({data:{blog:u}})=>{s(u),l(!1)}).catch(u=>{s(i),l(!1),console.log(u.message)})},[]),f.jsx(jc.Provider,{value:{blog:i,setBlog:s,editorState:e,setEditorState:n,textEditor:r,setTextEditor:o},children:c===null?f.jsx(Bf,{to:"/signin"}):a?f.jsx(dt,{}):e==="editor"?f.jsx(g4,{}):f.jsx(y4,{})})};let ma,qa;const Dc=({children:t,routes:e,defaultHidden:n,defaultActiveIndex:r=0})=>{ma=k.useRef(),qa=k.useRef();const[o,i]=k.useState(r),[s,a]=k.useState(window.innerWidth),[l,c]=k.useState(!1),d=(u,h)=>{const{offsetWidth:g,offsetLeft:p}=u;ma.current.style.width=g+"px",ma.current.style.left=p+"px",i(h)};return k.useEffect(()=>{s>766&&o!==r&&d(qa.current,r),l||window.addEventListener("resize",()=>{l||c(!0),a(window.innerWidth)})},[s]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative mb-8 bg-white border-b border-grey flex flex-nowrap overflow-x-auto",children:[e.map((u,h)=>f.jsx("button",{ref:h==r?qa:null,className:`p-4 px-5 capitalize ${o==h?"text-black":"text-dark-grey "} ${n&&n.includes(u)&&" md:hidden "}`,onClick:g=>{d(g.target,h)},children:u},h)),f.jsx("hr",{ref:ma,className:"absolute  border-dark-grey  bottom-0 duration-300"})]}),Array.isArray(t)?t[o]:t]})},hE=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],li=t=>{let e=new Date(t);return`${e.getDate()} ${hE[e.getMonth()]}`},E4=t=>{let e=new Date(t);return`${e.getDate()} ${hE[e.getMonth()]} ${e.getFullYear()}`},Fc=({content:t,author:e})=>{const{title:n,banner:r,publishedAt:o,tags:i,description:s,activity:{total_likes:a},blog_id:l}=t,{fullname:c,profile_img:d,username:u}=e;return f.jsxs(ee,{to:`/blog/${l}`,className:"flex gap-8 items-center border-b border-grey pb-5 mb-4",children:[f.jsxs("div",{className:"w-full",children:[f.jsx(ee,{to:`/user/${u}`,children:f.jsxs("div",{className:"flex gap-2 items-center mb-7",children:[f.jsx("img",{src:d,className:"h-6 w-6 rounded-full "}),f.jsxs("p",{className:"line-clamp-1",children:[c," @",u]}),f.jsx("p",{className:"min-w-fit",children:li(o)})]})}),f.jsx("h1",{className:"blog-title",children:n}),f.jsx("p",{className:"my-3 text-xl font-gelasio leading-7 max-sm:hidden md:max-[1100px]:hidden line-clamp-2",children:s}),f.jsxs("div",{className:"flex gap-4 mt-7",children:[f.jsx("span",{className:"btn-light py-1 px-4 mb-2",children:i[0]}),f.jsxs("span",{className:"ml-3 flex items-center gap-2 text-dark-grey",children:[f.jsx("i",{className:"fi fi-rr-heart text-xl"}),a]})]})]}),f.jsx("div",{className:"h-28 aspect-square bg-grey",children:f.jsx("img",{src:r,className:"w-full h-full aspect-square rounded-lg  object-cover"})})]})},Dy=({blog:t,index:e})=>{const{title:n,blog_id:r,author:{personal_info:{fullname:o,username:i,profile_img:s}},publishedAt:a}=t;return f.jsxs(ee,{to:`/blog/${r}`,className:"flex gap-5 mb-8",children:[f.jsx("h1",{className:"blog-index",children:e<10?"0"+(e+1):e+1}),f.jsxs("div",{children:[f.jsx(ee,{to:`/user/${i}`,children:f.jsxs("div",{className:"flex gap-2 items-center mb-7",children:[f.jsx("img",{src:s,className:"h-6 w-6 rounded-full "}),f.jsxs("p",{className:"line-clamp-1",children:[o," @",i]}),f.jsx("p",{className:"min-w-fit",children:li(a)})]})}),f.jsx("h1",{className:"blog-title",children:n})]})]})},mn=({message:t})=>f.jsx("div",{className:"text-center w-full p-4 rounded-full bg-grey/50 mt-4",children:f.jsx("p",{children:t})}),qo=async({create_new_arr:t=!1,state:e,data:n,page:r,countRoute:o,data_to_send:i={},user:s=void 0})=>{let a,l={};return s&&(l.headers={Authorization:`Bearer ${s}`}),e!==null&&!t?a={...e,result:[...e.result,...n],page:r}:await Z.post("https://six0551c5f-blogiflux-server.onrender.com"+o,i,l).then(({data:{totalDocs:c}})=>{a={result:n,page:1,totalDocs:c}}).catch(c=>{console.log(c)}),a},Go=({state:t,fetchDataFunc:e,additaionalParam:n})=>{if(t!==null&&t.totalDocs>t.result.length)return f.jsx("button",{className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",onClick:()=>e({...n,page:t.page+1}),children:"Load more..."})},S4=()=>{const[t,e]=k.useState(null),[n,r]=k.useState("home"),[o,i]=k.useState(null);let s=["programming","hollywood","film making","social media","cooking","technology","finances","travel"];const a=({page:u=1})=>{Z.post("https://six0551c5f-blogiflux-server.onrender.com/latest-blogs",{page:u}).then(async({data:h})=>{let g=await qo({state:t,data:h.blogs,page:u,countRoute:"/all-latest-blogs-count"});e(g)}).catch(h=>{console.log(h)})},l=()=>{Z.get("https://six0551c5f-blogiflux-server.onrender.com/trending-blogs").then(({data:u})=>{i(u.blogs)}).catch(u=>{console.log(u)})},c=u=>{const h=u.target.innerText.toLowerCase();if(e(null),n==h){r("home");return}r(h)},d=({page:u=1})=>{Z.post("https://six0551c5f-blogiflux-server.onrender.com/search-blogs",{tag:n,page:u}).then(async({data:h})=>{let g=await qo({state:t,data:h.blogs,page:u,countRoute:"/search-blogs-count",data_to_send:{tag:n}});e(g)}).catch(h=>{console.log(h)})};return k.useEffect(()=>{qa.current.click(),n=="home"?a({page:1}):d({page:1}),o||l()},[n]),f.jsx(Ce,{children:f.jsxs("section",{className:"h-cover flex justify-center gap-10 ",children:[f.jsx("div",{className:"w-full",children:f.jsxs(Dc,{routes:[n,"trending blogs"],defaultHidden:["trending blogs"],children:[f.jsxs(f.Fragment,{children:[t==null?f.jsx(dt,{}):t.result.length?t.result.map((u,h)=>f.jsx(Ce,{transition:{duration:1,delay:h*.1},children:f.jsx(Fc,{content:u,author:u.author.personal_info})},h)):f.jsx(mn,{message:"No blogs published"}),f.jsx(Go,{state:t,fetchDataFunc:n=="home"?a:d})]}),f.jsx(f.Fragment,{children:o==null?f.jsx(dt,{}):o.length?o.map((u,h)=>f.jsx(Ce,{transition:{duration:1,delay:h*.1},children:f.jsx(Dy,{blog:u,index:h})},h)):f.jsx(mn,{message:"No trending blogs published"})})]})}),f.jsxs("div",{className:"min-w-[40%] lg:min-w-[400px] max-w-min border-l border-grey pl-8 pt-3 max-md:hidden",children:[f.jsxs("div",{className:"flex flex-col gap-5 mb-6",children:[f.jsx("h1",{className:"font-medium text-xl",children:"Stories from all interests"}),f.jsx("div",{className:"flex gap-3 flex-wrap",children:s.map((u,h)=>f.jsx("button",{className:`tag ${n==u&&"bg-black text-white"} `,onClick:c,children:u},h))})]}),f.jsxs("div",{children:[f.jsxs("h1",{className:"font-medium text-xl  mb-8",children:["Trending ",f.jsx("i",{className:"fi fi-rr-arrow-trend-up"})]}),o==null?f.jsx(dt,{}):o.length?o.map((u,h)=>f.jsx(Ce,{transition:{duration:1,delay:h*.1},children:f.jsx(Dy,{blog:u,index:h})},h)):f.jsx(mn,{message:"No trending blogs published"})]})]})]})})},C4=({user:t})=>{let{personal_info:{fullname:e,username:n,profile_img:r}}=t;return f.jsxs(ee,{to:`/user/${n}`,className:"flex gap-5 items-center mb-5",children:[f.jsx("img",{src:r,className:"w-14 h-14 rounded-full"}),f.jsxs("div",{children:[f.jsx("h1",{className:"font-medium text-xl line-clamp-2",children:e}),f.jsxs("p",{className:"text-dark-grey",children:["@",n]})]})]})},T4=()=>{const{query:t}=ti(),[e,n]=k.useState(null),[r,o]=k.useState(null),i=async({page:c=1,create_new_arr:d=!1})=>{await Z.post("https://six0551c5f-blogiflux-server.onrender.com/search-blogs",{query:t,page:c}).then(async({data:u})=>{let h=await qo({state:e,data:u.blogs,page:c,countRoute:"/search-blogs-count",data_to_send:{query:t},create_new_arr:d});n(h)}).catch(u=>{console.log(u)})},s=()=>{Z.post("https://six0551c5f-blogiflux-server.onrender.com/search-users",{query:t}).then(({data:{users:c}})=>{o(c)})};k.useEffect(()=>{a(),i({page:1,create_new_arr:!0}),s()},[t]);const a=()=>{n(null),o(null)},l=()=>f.jsx(f.Fragment,{children:r==null?f.jsx(dt,{}):r.length?r.map((c,d)=>f.jsx(Ce,{transition:{duration:1,delay:d*.08},children:f.jsx(C4,{user:c})},d)):f.jsx(mn,{message:"No user found"})});return f.jsxs("section",{className:"h-cover flex justify-center gap-10",children:[f.jsx("div",{className:"w-full",children:f.jsxs(Dc,{routes:[`search results fron "${t}`,"Accounts Matched"],defaultHidden:["Accounts Matched"],children:[f.jsxs(f.Fragment,{children:[e==null?f.jsx(dt,{}):e.result.length?e.result.map((c,d)=>f.jsx(Ce,{transition:{duration:1,delay:d*.1},children:f.jsx(Fc,{content:c,author:c.author.personal_info})},d)):f.jsx(mn,{message:"No blogs published"}),f.jsx(Go,{state:e,fetchDataFunc:i})]}),f.jsx(l,{})]})}),f.jsxs("div",{className:"min-w-[40%] lg:min-w-[400px] max-w-min border-l border-grey pl-8 pt-3 max-md:hidden",children:[f.jsxs("h1",{className:"font-medium text-xl mb-8 ",children:["User related to search ",f.jsx("i",{className:"fi fi-rr-user"})]}),f.jsx(l,{})]})]})},Fy=({bio:t,social_links:e,joinedAt:n,className:r})=>f.jsxs("div",{className:"md:w-[90%] md:mt-7  ",children:[f.jsx("p",{className:"text-xl leading-7",children:t||"Nothing to read here"}),f.jsx("div",{className:"flex gap-x-7 gap-y-2 max-md:justify-center  justify-start flex-wrap my-7  text-dark-grey",children:Object.keys(e).map((o,i)=>{const s=e[o];return s?f.jsxs(ee,{to:s,target:"_blank",children:[f.jsx("i",{className:"fi "+(o!=="website"?" fi-brands-"+o:"fi-rr-globe ")+" text-2xl hover:text-black"})," "]},i):" "})}),f.jsxs("p",{className:"text-xl leading-7 text-dark-grey",children:["Joined on ",E4(n)]})]}),Lh={personal_info:{fullname:"",username:"",profile_img:"",bio:""},account_info:{total_posts:0,total_reads:0},social_links:{},joinedAt:""},_4=()=>{const{id:t}=ti(),[e,n]=k.useState(Lh),[r,o]=k.useState(!0),[i,s]=k.useState(""),[a,l]=k.useState(null),{personal_info:{fullname:c,username:d,profile_img:u,bio:h},account_info:{total_posts:g,total_reads:p},social_links:m,joinedAt:w}=e;let{userAuth:{username:b}}=k.useContext(_e);console.log("bio",h);const v=async()=>{await Z.post("https://six0551c5f-blogiflux-server.onrender.com/get-profile",{username:t}).then(({data:E})=>{E!==null&&n(E),o(!1),s(t),y({user_id:E._id})}).catch(E=>{o(!1)})},y=({page:E=1,user_id:C})=>{C=C??a.user_id,Z.post("https://six0551c5f-blogiflux-server.onrender.com/search-blogs",{author:C,page:E}).then(async({data:_})=>{let S=await qo({state:a,data:_.blogs,page:E,countRoute:"/search-blogs-count",data_to_send:{author:C}});S.user_id=C,l(S)}).catch(_=>{})};k.useEffect(()=>{t!==i&&l(null),a==null&&(x(),v())},[t,a]);const x=()=>{n(Lh),o(!0)};return f.jsx(Ce,{children:r?f.jsx(dt,{}):d.length?f.jsxs("section",{className:"h-cover md:flex flex-row-reverse items-start gap-5 min-[1100px]:gap-12",children:[f.jsxs("div",{className:"flex flex-col max-md:items-center gap-5 min-w-[250px]",children:[f.jsx("img",{src:u,className:"h-48 w-48 bg-grey rounded-full md:w-32 md:h-32",alt:"profile_image"}),f.jsxs("h1",{className:"text-2xl font-medium",children:["@ ",d]}),f.jsx("p",{className:"text-xl capitalize h-6",children:c}),f.jsxs("p",{children:[g.toLocaleString()," Blogs -"," ",p.toLocaleString()," Reads"]}),f.jsx("div",{className:"flex gap-4 mt-2",children:b&&t==b?f.jsx(ee,{to:"/settings/edit-profile",className:"btn-light rounded-md",children:"Edit Profile"}):""}),f.jsx(Fy,{className:"max-md:hidden",bio:h,social_links:m,joinedAt:w})]}),f.jsx("div",{className:"max-md:mt-12 w-full",children:f.jsxs(Dc,{routes:["Blogs Published","About"],defaultHidden:["About"],children:[f.jsxs(f.Fragment,{children:[a==null?f.jsx(dt,{}):a.result.length?a.result.map((E,C)=>f.jsx(Ce,{transition:{duration:1,delay:C*.1},children:f.jsx(Fc,{content:E,author:E.author.personal_info})},C)):f.jsx(mn,{message:"No blogs published"}),f.jsx(Go,{state:a,fetchDataFunc:y})]}),f.jsx(Fy,{className:"max-md:hidden",bio:h,social_links:m,joinedAt:w})]})})]}):f.jsx(uE,{})})},$y=()=>{let{blog:t,blog:{_id:e,blog_id:n,title:r,activity:o,activity:{total_likes:i,total_comments:s},author:{personal_info:{username:a}}},isLikedByUser:l,setLikedByUser:c,setBlog:d,setCommentsWrapper:u}=k.useContext(Hs);const{userAuth:{username:h,access_token:g}}=k.useContext(_e);k.useEffect(()=>{g&&Z.post("https://six0551c5f-blogiflux-server.onrender.com/isLiked-by-user",{_id:e},{headers:{Authorization:`Bearer ${g}`}}).then(({data:{result:m}})=>{c(!!m)}).catch(m=>{Y.error(m)})},[e]);const p=()=>{g?(c(m=>!m),l?i--:i++,d({...t,activity:{...o,total_likes:i}}),Z.post("https://six0551c5f-blogiflux-server.onrender.com/like-blog",{_id:e,isLikedByUser:l},{headers:{Authorization:`Bearer ${g}`}}).then(({data:m})=>{}).catch(m=>{console.log(m)})):Y.error("Please login to like the blog")};return f.jsxs(f.Fragment,{children:[f.jsx(Ls,{}),f.jsx("hr",{className:"border-grey my-2"}),f.jsxs("div",{className:"flex gap-6 justify-between",children:[f.jsxs("div",{className:"flex gap-3 items-center",children:[f.jsx("button",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(l?"bg-red/20 text-red":" bg-grey/80"),onClick:p,children:f.jsx("i",{className:"fi "+(l?"fi-sr-heart":"fi-rr-heart")})}),f.jsx("p",{className:"text-xl text-dark-grey",children:i||0}),f.jsx("button",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-grey/80",onClick:()=>u(m=>!m),children:f.jsx("i",{className:"fi fi-rr-comment-dots"})}),f.jsx("p",{className:"text-xl text-dark-grey",children:s})]}),f.jsxs("div",{className:"flex gap-6 items-center",children:[h==a?f.jsx(ee,{to:`/editor/${n}`,className:"underline hover:text-purple",children:"Edit"}):"",f.jsx(ee,{to:`https://twitter.com/intent/tweet?text=Read ${r}&url=${location.href}`,children:f.jsx("i",{className:"fi fi-brands-twitter text-xl hover:text-twitter"})})]})]}),f.jsx("hr",{className:"border-grey my-2"})]})},I4=({url:t,caption:e})=>f.jsxs("div",{children:[f.jsx("img",{src:t}),e.length?f.jsx("p",{className:"w-full text-center my-3 md:mb-12 text-base text-dark-grey",children:e}):""]}),P4=({quote:t,caption:e})=>f.jsxs("div",{className:"bg-purple/10 p-3 pl-5 border-l-4 border-purple",children:[f.jsx("p",{className:"text-xl leading-10 md:text-2xl",children:t}),e.length?f.jsx("p",{className:"w-full text-purple text-base",children:e}):""]}),A4=({style:t,items:e})=>f.jsx("ol",{className:`pl-5 ${t=="ordered"?"list-decimal":"list-disc"}`,children:e.map((n,r)=>f.jsx("li",{className:"my-4",dangerouslySetInnerHTML:{__html:n}},r))}),N4=({block:t})=>{const{type:e,data:n}=t;if(e=="paragraph")return f.jsx("p",{dangerouslySetInnerHTML:{__html:n.text}});if(e=="header")return n.level==3?f.jsx("h3",{dangerouslySetInnerHTML:{__html:n.text},className:"text-3xl font-bold"}):f.jsx("h2",{dangerouslySetInnerHTML:{__html:n.text},className:"text-4xl font-bold"});if(e=="image")return f.jsx(I4,{url:n.file.url,caption:n.caption});if(e=="quote")return f.jsx(P4,{quote:n.text,caption:n.caption});if(e=="list")return f.jsx(A4,{style:n.style,items:n.items})},fE=({action:t,index:e=void 0,replyingTo:n=void 0,setIsReplying:r})=>{let{userAuth:{access_token:o,username:i,fullname:s,profile_img:a}}=k.useContext(_e),{blog:l,blog:{_id:c,author:{_id:d},comments:u,comments:{results:h},activity:g,activity:{total_comments:p,total_parent_comments:m}},setBlog:w,setTotalParentCommentsLoaded:b}=k.useContext(Hs);const[v,y]=k.useState(""),x=()=>{if(!o)return te.error("Please login first to leave a comment");if(!v.length)return te.error("Write something to leave a comment...");Z.post("https://six0551c5f-blogiflux-server.onrender.com/add-comment",{_id:c,blog_author:d,comment:v,replying_to:n},{headers:{Authorization:`Bearer ${o}`}}).then(({data:E})=>{y(""),E.commented_by={personal_info:{username:i,profile_img:a,fullname:s}};let C;n?(h[e].children.push(E._id),E.childrenLevel=h[e].childrenLevel+1,E.parentIndex=e,h[e].isReplyLoaded=!0,h.splice(e+1,0,E),C=h,r(!1)):(E.childrenLevel=0,C=[E,...h]);let _=n?0:1;w({...l,comments:{...u,results:C},activity:{...g,total_comments:p+1,total_parent_comments:m+_}}),b(S=>S+_)}).catch(E=>{console.log(E)})};return f.jsxs(f.Fragment,{children:[f.jsx("textarea",{value:v,placeholder:"Leave a comment...",className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto",onChange:E=>y(E.target.value)}),f.jsx("button",{className:"btn-dark mt-5 px-10",onClick:x,children:t})]})},B4=({index:t,leftVal:e,commentData:n})=>{let{commented_by:{personal_info:{fullname:r,username:o,profile_img:i}},_id:s,comment:a,children:l,commentedAt:c}=n,{userAuth:{access_token:d,username:u}}=k.useContext(_e),{blog:h,blog:{comments:g,comments:{results:p},activity:m,activity:{total_parent_comments:w},author:{username:b}},setBlog:v,setTotalParentCommentsLoaded:y}=k.useContext(Hs);const[x,E]=k.useState(!1),C=()=>{let L=t-1;try{for(;p[L].childrenLevel>=n.childrenLevel;)L--}catch{L=void 0}return L},_=(L,R=!1)=>{if(p[L])for(;p[L].childrenLevel>n.childrenLevel&&(p.splice(L,1),!!p[L]););if(R){let j=C();j!==void 0&&(p[j].children=p[j].children.filter(U=>U!==s),p[j].children.length&&(p[j].isReplyLoaded=!1)),p.splice(t,1)}n.childrenLevel==0&&R&&y(j=>j-1),v({...h,comments:{results:p},activity:{...m,total_parent_comments:w-(n.childrenLevel==0&&R?1:0)}})},S=L=>{if(!d)return te.error("Login first to leave a reply");E(R=>!R)},T=L=>{n.isReplyLoaded=!1,_(t+1)},P=({skip:L=0})=>{l.length&&Z.post("https://six0551c5f-blogiflux-server.onrender.com/get-replies",{_id:s,skip:L}).then(({data:{replies:R}})=>{n.isReplyLoaded=!0;for(let j=0;j<R.length;j++){const U=R[j];U.childrenLevel=n.childrenLevel+1,p.splice(t+1+j+L,0,U)}v({...h,comments:{...g,results:p}})}).catch(R=>{console.log(R)})},O=L=>{L.target.setAttribute("disabled",!0),Z.post("https://six0551c5f-blogiflux-server.onrender.com/delete-comment",{_id:s},{headers:{Authorization:`Bearer ${d}`}}).then(()=>{L.target.removeAttribute("disabled"),_(t+1,!0)}).catch(R=>{console.log(R.response)})};return f.jsx("div",{className:"w-full ",style:{paddingLeft:`${e*10}px`},children:f.jsxs("div",{className:"my-5 p-6 rounded-md border border-grey",children:[f.jsxs("div",{className:"flex gap-3 items-center mb-8",children:[f.jsx("img",{src:i,alt:"",className:"w-6 h-6 rounded-full"}),f.jsxs("p",{className:"line-clamp-1",children:[r," @",o]}),f.jsx("p",{className:"min-w-fit",children:li(c)})]}),f.jsx("p",{className:"font-gelasio text-xl ml-3",children:a}),f.jsxs("div",{className:"flex gap-5 items-center mt-5",children:[n.isReplyLoaded?f.jsxs("button",{type:"button",className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",onClick:T,children:[f.jsx("i",{className:"fi fi-rs-comment-dots"})," Hide Reply"]}):f.jsxs("button",{type:"button",className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",onClick:P,children:[f.jsx("i",{className:"fi fi-rs-comment-dots"})," ",l.length," Reply"]}),f.jsx("button",{className:"underline",onClick:S,children:"Reply"}),u==o||u==b?f.jsx("button",{className:"p-2 px-3 rounded-md border border-grey ml-auto hover:bg-red/10 hover:text-red flex items-center",onClick:O,children:f.jsx("i",{className:"fi fi-rr-trash"})}):""]}),x&&f.jsx("div",{className:"mt-8",children:f.jsx(fE,{action:"reply",index:t,replyingTo:s,setIsReplying:E})})]})})},pE=async({skip:t=0,blog_id:e,setParentCommentCountFunc:n,comment_array:r=null})=>{let o;return await Z.post("https://six0551c5f-blogiflux-server.onrender.com/get-blog-comments",{blog_id:e,skip:t}).then(({data:i})=>{i.map(s=>{s.childrenLevel=0}),n(s=>s+i.length),r==null?o={results:i}:o={results:[...r,...i]}}),o},L4=()=>{let{blog:t,blog:{_id:e,title:n,comments:{results:r},activity:{total_parent_comments:o}},commentsWrapper:i,setCommentsWrapper:s,totalParentCommentsLoaded:a,setTotalParentCommentsLoaded:l,setBlog:c}=k.useContext(Hs);const d=async()=>{let u=await pE({skip:a,blog_id:e,setParentCommentCountFunc:l,comment_array:r});c({...t,comments:u})};return f.jsxs("div",{className:"max-sm:w-full fixed "+(i?"top-0 sm:right-0 ":"top-[100%] sm:right-[-100%] ")+"duration-700 max-sm:right-0 sm:top-0 md:w-[50%] lg:w-[40%] xl:w-[30%] h-full z-50 bg-white shadow-2xl p-8 px-16 overflow-y-auto overflow-x-hidden",children:[f.jsxs("div",{className:"relative",children:[f.jsx("h1",{className:"text-xl font-medium",children:"Comments"}),f.jsx("p",{className:"text-lg mt-2 w-[70%] text-dark-grey line-clamp-1",children:n}),f.jsx("button",{className:"absolute top-0 right-0 flex justify-center items-center w-12 h-12 rounded-full bg-grey",onClick:()=>s(u=>!u),children:f.jsx("i",{className:"fi fi-br-cross text-2xl mt-1"})})]}),f.jsx("hr",{className:"border-grey my-8 w-[120%] -ml-10"}),f.jsx(fE,{action:"Comment"}),r&&r.length?r.map((u,h)=>f.jsx(Ce,{children:f.jsx(B4,{index:h,leftVal:u.childrenLevel*4,commentData:u})},h)):f.jsx(mn,{message:"No Comments Found"}),o>a&&f.jsx("button",{className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",onClick:d,children:"Load more.."})]})},Uy={title:"",description:"",banner:"",content:[],comments:{},tags:[],activity:{},author:{personal_info:{}},publishedAt:""},Hs=k.createContext({}),O4=()=>{const{blog_id:t}=ti(),[e,n]=k.useState(Uy),[r,o]=k.useState(null),[i,s]=k.useState(!0),[a,l]=k.useState(!1),[c,d]=k.useState(!1),[u,h]=k.useState(0);let{title:g,content:p,banner:m,author:{personal_info:{fullname:w,username:b,profile_img:v}},publishedAt:y}=e;const x=async()=>{await Z.post("https://six0551c5f-blogiflux-server.onrender.com/get-blog",{blog_id:t}).then(async({data:{blog:C}})=>{C.comments=await pE({blog_id:C._id,setParentCommentCountFunc:h}),n(C),await Z.post("https://six0551c5f-blogiflux-server.onrender.com/search-blogs",{tag:C.tags[0],limit:6,eliminate_blog:t}).then(({data:_})=>{o(_.blogs)}),s(!1)}).catch(C=>{s(!1)})};k.useEffect(()=>{x(),E()},[t]);const E=()=>{n(Uy),o(null),s(null),l(!1),h(0)};return f.jsx(Ce,{children:i?f.jsx(dt,{}):f.jsxs(Hs.Provider,{value:{blog:e,setBlog:n,setLikedByUser:l,isLikedByUser:a,commentsWrapper:c,setCommentsWrapper:d,totalParentCommentsLoaded:u,setTotalParentCommentsLoaded:h},children:[f.jsx(L4,{}),f.jsxs("div",{className:"max-w-[900px] center py-10 max-lg:px-[5vw]",children:[f.jsx("img",{src:m,className:"aspect-video",alt:""}),f.jsxs("div",{className:"mt-12",children:[f.jsx("h2",{children:g}),f.jsxs("div",{className:"flex max-sm:flex-col justify-between my-8",children:[f.jsxs("div",{className:"flex gap-5 items-start",children:[f.jsx("img",{src:v||null,alt:"",className:"w-12 h-12 rounded-full"}),f.jsxs("p",{children:[w,f.jsx("br",{}),"@",f.jsx(ee,{to:`/user/${b}`,className:"underline",children:b})]})]}),f.jsxs("p",{className:"text-dark-grey opacity-75 max-sm:mt-6 max-sm:ml-12 max-sm:pl-5",children:["published on ",li(y)]})]})]}),f.jsx($y,{}),p&&p.length&&p[0].blocks.map((C,_)=>f.jsx("div",{className:"my-4 md:my-8",children:f.jsx(N4,{block:C})},_)),f.jsx($y,{}),r!==null&&r.length?f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"text-2xl mt-14 mb-10 font-medium",children:"Similar Blogs"}),r.map((C,_)=>{let{author:{personal_info:S}}=C;return f.jsx(Ce,{transition:{duration:1,delay:_*.08},children:f.jsx(Fc,{content:C,author:S})},_)})]}):null]})]})})},Vy=()=>{let{userAuth:{access_token:t,new_notification_available:e,isAdmin:n}}=k.useContext(_e),r=location.pathname.split("/")[2];const[o,i]=k.useState(r.replace("-"," ")),[s,a]=k.useState(!1);let l=k.useRef(),c=k.useRef(),d=k.useRef();const u=h=>{let{offsetWidth:g,offsetLeft:p}=h.target;l.current.style.width=g+"px",l.current.style.left=p+"px",h.target===c.current?a(!0):a(!1)};return k.useEffect(()=>{a(!1),d.current.click()},[o]),t===null?f.jsx(Bf,{to:"/signin"}):f.jsx(f.Fragment,{children:f.jsxs("section",{className:"relative flex gap-10 py-0 m-0 max-md:flex-col",children:[f.jsxs("div",{className:"sticky top-[80px] z-30",children:[f.jsxs("div",{className:"md:hidden bg-white py-1 border-b border-grey flex flex-nowrap overflow-x-auto",children:[f.jsx("button",{ref:c,className:"p-5 capitalize",onClick:u,children:f.jsx("i",{className:"fi fi-rr-bars-staggered pointer-events-none"})}),f.jsx("button",{ref:d,className:"p-5 capitalize",onClick:u,children:r}),f.jsx("hr",{ref:l,className:"absolute bottom-0 duration-500"})]}),f.jsxs("div",{className:"min-w-[200px] h-[calc(100vh-80px-65px)]  md:h-cover md:sticky top-24 overflow-y-auto p-6 md:pr-0 md:border-grey md:border-r absolute max-md:top-[64px] bg-white max-md:w-[calc(100%+80px)] max-md:px-16 max-md:-ml-7 duration-500 "+(s?"opacity-100 pointer-events-auto":"max-md:opacity-0 max-md:pointer-events-none"),children:[f.jsx("h1",{className:"text-xl text-dark-grey mb-3",children:"Dashboard"}),f.jsx("hr",{className:"border-grey -ml-6 mb-8 mr-6"}),f.jsxs(vi,{to:"/dashboard/blogs",className:"sidebar-link",onClick:h=>{i(h.target.innerText)},children:[f.jsx("i",{className:"fi fi-rr-document"}),"Blogs"]}),f.jsxs(vi,{to:"/dashboard/notifications",className:"sidebar-link",onClick:h=>{i(h.target.innerText)},children:[f.jsxs("div",{className:"relative",children:[f.jsx("i",{className:"fi fi-rr-bell"}),e&&f.jsx("span",{className:"bg-red w-2 h-2 rounded-full absolute z-10 top-0 right-0"})]}),"Notification"]}),f.jsxs(vi,{to:"/editor",className:"sidebar-link",onClick:h=>{i(h.target.innerText)},children:[f.jsx("i",{className:"fi fi-rr-file-edit"}),"Write"]}),f.jsx("h1",{className:"text-xl text-dark-grey mb-3 mt-20",children:"Settings"}),f.jsx("hr",{className:"border-grey -ml-6 mb-8 mr-6"}),f.jsxs(vi,{to:"/settings/edit-profile",className:"sidebar-link",onClick:h=>{i(h.target.innerText)},children:[f.jsx("i",{className:"fi fi-rr-user"}),"Edit Profile"]}),f.jsxs(vi,{to:"/settings/change-password",className:"sidebar-link",onClick:h=>{i(h.target.innerText)},children:[f.jsx("i",{className:"fi fi-rr-lock"}),"Change Password"]})]})]}),f.jsx("div",{className:"max-md:-mt-8 mt-5 w-full",children:f.jsx(d1,{})})]})})},R4=()=>{let{userAuth:{access_token:t}}=k.useContext(_e);const e=k.useRef();let n=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;const r=o=>{o.preventDefault();let i=new FormData(e.current),s={};for(let[d,u]of i.entries())s[d]=u;let{currentPassword:a,newPassword:l}=s;if(!a.length||!l.length)return te.error("Fill all the inputs");if(!n.test(a)||!n.test(l))return te.error("Password should be 6 to 20 characters long with a numeric, 1 lowercase and 1 uppercase letters");o.target.setAttribute("disabled",!0);let c=te.loading("Updating...");Z.post("https://six0551c5f-blogiflux-server.onrender.com/change-password",s,{headers:{Authorization:`Bearer ${t}`}}).then(({data:d})=>{te.dismiss(c),o.target.removeAttribute("disabled"),te.success(d.message)}).catch(({response:d})=>(te.dismiss(c),o.target.removeAttribute("disabled"),te.error(d.data.error)))};return f.jsx(Ce,{children:f.jsxs("form",{ref:e,children:[f.jsx("h1",{children:"ChangePassword"}),f.jsxs("div",{className:"py-10 w-full md:max-w-[400px]",children:[f.jsx(sn,{className:"profile-edit-input",name:"currentPassword",type:"password",placeholder:"Current Password",icon:"fi fi-rr-unlock"}),f.jsx(sn,{className:"profile-edit-input",name:"newPassword",type:"password",placeholder:"New Password",icon:"fi fi-rr-unlock"}),f.jsx("button",{className:"btn-dark px-10",type:"submit",onClick:r,children:"Change Password"})]})]})})},M4=()=>{let{userAuth:t,userAuth:{username:e,access_token:n},setUserAuth:r}=k.useContext(_e),o=150;const i=k.useRef(),s=k.useRef(),[a,l]=k.useState(Lh),[c,d]=k.useState(!0),[u,h]=k.useState(o),[g,p]=k.useState(null);k.useEffect(()=>{Z.post("https://six0551c5f-blogiflux-server.onrender.com/get-profile",{username:e}).then(({data:T})=>{T&&l(T),d(!1)})},[n]);const{personal_info:{fullname:m,username:w,profile_img:b,email:v,bio:y},social_links:x}=a,E=T=>{h(o-T.target.value.length)},C=T=>{const P=T.target.files[0];i.current.src=URL.createObjectURL(P),p(P)},_=T=>{if(T.preventDefault(),g){let P=te.loading("Uploading...");T.target.setAttribute("disabled",!0),wp(g).then(O=>{O&&Z.post("https://six0551c5f-blogiflux-server.onrender.com/update-profile-image",{url:O},{headers:{Authorization:`Bearer ${n}`}}).then(({data:L})=>{let R={...t,profile_img:L.profile_img};Al("user",JSON.stringify(R)),r(R),p(null),te.dismiss(P),T.target.removeAttribute("disabled"),te.success("Uploaded  ")}).catch(L=>{te.dismiss(P),T.target.removeAttribute("disabled"),console.log(L)})}).catch(O=>{console.log(O)})}},S=T=>{T.preventDefault();let P=new FormData(s.current),O={};for(let[F,Q]of P.entries())O[F]=Q;let{username:L,bio:R,facebook:j,github:U,instagram:q,twitter:ke,website:B,youtube:D}=O;if(L.length<3)return te.error("Username should be atleasrt 3 letters long");if(R.length>o)return te.error(`Bio should not be more than ${o}`);let H=te.loading("Updating...");T.target.setAttribute("disabled",!0),Z.post("https://six0551c5f-blogiflux-server.onrender.com/update-profile",{username:L,bio:R,social_links:{youtube:D,facebook:j,github:U,instagram:q,twitter:ke,website:B}},{headers:{Authorization:`Bearer ${n}`}}).then(({data:F})=>{if(t.username!==F.username){let Q={...t,username:F.username};Al("user",JSON.stringify(Q)),r(Q)}te.dismiss(H),T.target.removeAttribute("disabled"),te.success("Profile Updated")}).catch(({response:F})=>{te.dismiss(H),T.target.removeAttribute("disabled"),te.error(F.data.error)})};return f.jsx(Ce,{children:c?f.jsx(dt,{}):f.jsxs("form",{ref:s,children:[f.jsx("h1",{className:"max-md:hidden",children:"Edit Profile"}),f.jsxs("div",{className:"flex flex-col lg:flex-row items-start py-10 gap-8 lg:gap-10",children:[f.jsxs("div",{className:"max-lg:center mb-5",children:[f.jsxs("label",{htmlFor:"uploadImg",className:"relative block w-48 h-48 bg-grey rounded-full overflow-hidden",children:[f.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex items-center justify-center text-white bg-black/30 opacity-0 hover:opacity-100 cursor-pointer",children:"Upload Image"}),f.jsx("img",{ref:i,src:b,alt:""})]}),f.jsx("input",{type:"file",id:"uploadImg",accept:".jpeg, .jpg, .png",hidden:!0,onChange:C}),f.jsx("button",{className:"btn-light mt-5 max-lg:center lg:w-full px-10",onClick:_,children:"Upload"})]}),f.jsxs("div",{className:"w-full",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-5",children:[f.jsx("div",{children:f.jsx(sn,{name:"fullname",type:"text",value:m,placeholder:"Full Name",disable:!0,icon:"fi fi-rr-user"})}),f.jsx("div",{children:f.jsx(sn,{name:"email",type:"email",value:v,placeholder:"Email",disable:!0,icon:"fi fi-rr-envelope"})})]}),f.jsx(sn,{name:"username",type:"text",value:w,placeholder:"Username",icon:"fi fi-rr-at"}),f.jsx("p",{className:"text-dark-grey -mt-3",children:"Username will use to search user and will be visible to all users"}),f.jsx("textarea",{name:"bio",maxLength:o,className:"input-box h-64 lg:h-40 resize-none leading-7 mt-5 pl-5",defaultValue:y,placeholder:"bio",onChange:E}),f.jsxs("p",{className:"mt-1 text-dark-grey",children:[u," Characters Left"," "]}),f.jsx("p",{className:"my-6 text-dark-grey",children:"Add your social handles below"}),f.jsx("div",{className:"md:grid md:grid-cols-2 gap-x-6",children:Object.keys(x).map((T,P)=>{let O=x[T];return f.jsx(sn,{name:T,type:"text",value:O,placeholder:"https://",icon:"fi "+(T!=="website"?" fi-brands-"+T:"fi-rr-globe ")},P)})}),f.jsx("button",{className:"btn-dark w-auto px-10 ",type:"submit",onClick:S,children:"Update"})]})]})]})})},j4=({_id:t,blog_author:e,index:n=void 0,replyingTo:r=void 0,setIsReplying:o,notification_id:i,notificationData:s})=>{const[a,l]=k.useState("");let{_id:c}=e,{userAuth:{access_token:d}}=k.useContext(_e),{notifications:u,notifications:{result:h},setNotifications:g}=s;const p=()=>{if(!a.length)return toast.error("Write something to leave a comment...");Z.post("https://six0551c5f-blogiflux-server.onrender.com/add-comment",{_id:t,blog_author:c,comment:a,replying_to:r,notification_id:i},{headers:{Authorization:`Bearer ${d}`}}).then(({data:m})=>{o(!1),h[n].reply={comment:a,_id:m._id},g({...u,result:h})}).catch(m=>{console.log(m)})};return f.jsxs(f.Fragment,{children:[f.jsx("textarea",{value:a,placeholder:"Leave a comment...",className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto",onChange:m=>l(m.target.value)}),f.jsx("button",{className:"btn-dark mt-5 px-10",onClick:p,children:"Reply"})]})},D4=({data:t,index:e,notificationState:n})=>{const[r,o]=k.useState(!1);let{_id:i,type:s,reply:a,seen:l,createdAt:c,replied_on_comment:d,blog:{_id:u,blog_id:h,title:g},comment:p,user:m,user:{personal_info:{profile_img:w,fullname:b,username:v}}}=t,{userAuth:{username:y,profile_img:x,access_token:E}}=k.useContext(_e),{notifications:C,notifications:{result:_,totalDocs:S},setNotifications:T}=n;const P=L=>{o(R=>!R)},O=(L,R,j)=>{j.setAttribute("disabled",!0),Z.post("https://six0551c5f-blogiflux-server.onrender.com/delete-comment",{_id:L},{headers:{Authorization:`Bearer ${E}`}}).then(()=>{R=="comment"?_.splice(e,1):delete _[e].reply,j.removeAttribute("disabled"),T({...C,result:_,totalDocs:S-1,deletedDocCount:C.deletedDocCount+1})})};return f.jsxs("div",{className:`p-6 border-b border-grey border-l-black  ${!l&&" border-l-2"}`,children:[f.jsxs("div",{className:"flex gap-5 mb-3",children:[f.jsx("img",{src:w,className:"w-14 h-14 flex-none rounded-full"}),f.jsxs("div",{className:"w-fill",children:[f.jsxs("h1",{className:"font-medium text-xl text-dark-grey",children:[f.jsx("span",{className:"lg:inline-block hidden capitalize",children:b}),f.jsxs(ee,{to:`/user/${v}`,className:"mx-1 text-black underline",children:[" ","@",v," "]}),f.jsx("span",{className:"font-normal",children:s=="like"?"liked your blog":s=="comment"?"commented on":"replied on"})]}),s=="reply"?f.jsx("div",{className:"p-4 mt-4 rounded-md bg-grey",children:f.jsx("p",{children:d.comment})}):f.jsx(ee,{to:`/blog/${h}`,className:"font-medium text-dark-grey hover:underline line-clamp-1",children:`"${g}"`})]})]}),s!=="like"&&f.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5",children:p==null?void 0:p.comment}),f.jsxs("div",{className:"ml-14 pl-5 mt-3 text-dark-grey flex gap-8",children:[f.jsx("p",{children:li(c)}),s!=="like"?f.jsxs(f.Fragment,{children:[!a&&f.jsx(f.Fragment,{children:f.jsx("button",{className:"underline hover:text-black",onClick:P,children:"Reply"})}),f.jsx("button",{className:"underline hover:text-black",onClick:L=>O(p._id,"comment",L.target),children:"Delete"})]}):""]}),r&&f.jsx("div",{className:"mt-8",children:f.jsx(j4,{_id:u,blog_author:m,index:e,replyingTo:p._id,setIsReplying:o,notification_id:i,notificationData:n})}),a&&f.jsxs("div",{className:"ml-20 p-5 bg-grey mt-5 rounded-md",children:[f.jsxs("div",{className:"flex gap-3 mb-3",children:[f.jsx("img",{src:x,className:"w-8 h-8 rounded-full",alt:""}),f.jsx("div",{children:f.jsxs("h1",{className:"font-medium text-xl text-dark-grey",children:[f.jsxs(ee,{to:`/user/${y}`,className:"mx-1 text-black underline",children:["@",y]}),f.jsx("span",{className:"font-normal",children:"replied to"}),f.jsxs(ee,{to:`/user/${v}`,className:"mx-1 text-black underline",children:["@",v]})]})})]}),f.jsx("p",{className:"ml-14 font-gelasio text-xl my-2",children:a.comment}),f.jsx("button",{className:"underline hover:text-black ml-14 mt-2",onClick:L=>O(a._id,"reply",L.target),children:"Delete"})]})]})},F4=()=>{let{userAuth:t,userAuth:{access_token:e,new_notification_available:n},setUserAuth:r}=k.useContext(_e);const[o,i]=k.useState("all"),[s,a]=k.useState(null);let l=["all","like","comment","reply"];const c=({page:u,deletedDocCount:h=0})=>{Z.post("https://six0551c5f-blogiflux-server.onrender.com/notifications",{page:u,filter:o,deletedDocCount:h},{headers:{Authorization:`Bearer ${e}`}}).then(async({data:{notifications:g}})=>{n&&r({...t,new_notification_available:!1});let p=await qo({state:s,data:g,page:u,countRoute:"/all-notifications-count",data_to_send:{filter:o},user:e});a(p)}).catch(g=>{console.log(g)})};k.useEffect(()=>{e&&c({page:1})},[e,o]);const d=u=>{const{innerHTML:h}=u.target;i(h),a(null)};return f.jsxs("div",{children:[f.jsx("h1",{className:"max-md:hidden",children:"Recent Notifications"}),f.jsx("div",{className:"my-8 flex gap-6 ",children:l.map((u,h)=>f.jsx("button",{className:` ${o==u?"btn-dark":"btn-light"} py-2 `,onClick:d,children:u},h))}),s===null?f.jsx(dt,{}):f.jsxs(f.Fragment,{children:[s.result.length>0?s.result.map((u,h)=>f.jsx(Ce,{transition:{delay:h*.08},children:f.jsx(D4,{data:u,index:h,notificationState:{notifications:s,setNotifications:a}})},h)):"",f.jsx(Go,{state:s,fetchDataFunc:c,additaionalParam:{deletedDocCount:s.deletedDocCount}})]})]})},Hy=({stats:t})=>f.jsx("div",{className:"flex gap-2 max-lg:mb-6 border-grey max-lg:border-b",children:Object.keys(t).map((e,n)=>!e.includes("parent")&&f.jsxs("div",{className:`flex flex-col items-center w-full h-full justify-center p-4 px-6  ${n!==0&&"border-grey border-l "}`,children:[f.jsx("h1",{className:"text-xl lg:text-2xl",children:t[e].toLocaleString()}),f.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:e.split("_")[1]})]},n))}),$4=({blog:t})=>{let{banner:e,blog_id:n,title:r,publishedAt:o,activity:i,index:s}=t;s++;let{userAuth:{access_token:a}}=k.useContext(_e);const[l,c]=k.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex gap-10 border-b mb-6 max-md:px-4 border-grey pb-6 items-center",keu:s,children:[f.jsx("img",{src:e,alt:"",className:"max-md:hidden lg:hidden xl:block w-28 h-28 flex-none bg-grey object-cover rounded-md"}),f.jsxs("div",{className:"flex flex-col justify-between py-2 w-full min-w-[300px] ",children:[f.jsxs("div",{children:[f.jsx(ee,{to:`/blog/${n}`,className:"blog-title mb-4 hover:underline",children:r}),f.jsxs("p",{className:"line-clamp-1",children:["Published on ",li(o)]})]}),f.jsxs("div",{className:"flex gap-6 mt-3",children:[f.jsx(ee,{to:`/editor/${n}`,className:"pr-4 py-2 underline",children:"Edit"}),f.jsx("button",{className:"lg:hidden pr-4 py-2 underline ",onClick:()=>{c(d=>!d)},children:"Status"}),f.jsx("button",{className:"pr-4 py-2 underline text-red",onClick:d=>mE(t,a,d.target),children:"Delete"})]})]}),f.jsx("div",{className:"max-lg:hidden",children:f.jsx(Hy,{stats:i})})]}),l&&f.jsx("div",{children:f.jsx(Hy,{stats:i})})]})},U4=({blog:t})=>{let{banner:e,blog_id:n,description:r,title:o,publishedAt:i,index:s}=t,{userAuth:{access_token:a}}=k.useContext(_e);return s++,f.jsx(f.Fragment,{children:f.jsxs("div",{className:"flex gap-10 border-b mb-6 max-md:px-4 border-grey pb-6 items-center",children:[f.jsx("h1",{className:"blog-index text-center pl-4 md:pl-6 flex-none",children:s<10?"0"+s:s}),f.jsxs("div",{children:[f.jsx("h1",{className:"blog-title mb-3",children:o}),f.jsx("p",{className:"line-clamp-2 font-gelasio",children:r||"No Description"}),f.jsxs("div",{className:"flex gap-6 mt-3",children:[f.jsx(ee,{to:`/editor/${n}`,className:"pr-4 py-2 underline",children:"Edit"}),f.jsx("button",{className:"pr-4 py-2 underline text-red",onClick:l=>mE(t,a,l.target),children:"Delete"})]})]})]},s)})},mE=(t,e,n)=>{let{index:r,blog_id:o,setStateFunc:i}=t;n.setAttribute("disabled",!0),Z.post("https://six0551c5f-blogiflux-server.onrender.com/delete-blog",{blog_id:o},{headers:{Authorization:`Bearer ${e}`}}).then(({data:s})=>{n.removeAttribute("disabled"),i(a=>{let{deletedDocCount:l,totalDocs:c,result:d}=a;return d.splice(r,1),l||(l=0),!d.length&&c-1>0?null:{...a,totalDocs:c-1,deletedDocCount:l+1}})})},V4=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(null),[o,i]=k.useState("");let s=YT()[0].get("tab");const{userAuth:{access_token:a}}=k.useContext(_e),l=({page:u,draft:h,deletedDocCount:g=0})=>{Z.post("https://six0551c5f-blogiflux-server.onrender.com/user-written-blogs",{page:u,draft:h,query:o,deletedDocCount:g},{headers:{Authorization:`Bearer ${a}`}}).then(async({data:p})=>{let m=await qo({state:h?n:t,data:p.blogs,page:u,user:a,countRoute:"/user-written-blogs-count",data_to_send:{draft:h,query:o}});h?r(m):e(m)})};k.useEffect(()=>{a&&(t==null&&l({page:1,draft:!1}),n==null&&l({page:1,draft:!0}))},[a,t,n,o]);const c=u=>{let h=u.target.value;i(h),u.keyCode==13&&h.length&&(e(null),r(null))},d=u=>{u.target.value.length||(i(""),e(null),r(null))};return f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"max-md:hidden",children:"Manage Blogs"}),f.jsxs("div",{className:"relative max-md:mt-5 md:mt-8 mb-10",children:[f.jsx("input",{type:"search",className:"w-full bg-grey p-4 pl-12 pr-6 rounded-full placeholder:text-dark-grey",placeholder:"Search Blogs",onChange:d,onKeyDown:c}),f.jsx("i",{className:"fi fi-rr-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-xl text-dark-grey"})]}),f.jsxs(Dc,{routes:["Published Blogs","draft"],defaultActiveIndex:s!=="draft"?0:1,children:[t===null?f.jsx(dt,{}):t.result.length?f.jsxs(f.Fragment,{children:[t.result.map((u,h)=>f.jsx(Ce,{transition:{delay:h*.04},children:f.jsx($4,{blog:{...u,index:h,setStateFunc:e}})},h)),f.jsx(Go,{state:t,additaionalParam:{draft:!1,deletedDocCount:t.deletedDocCount},fetchDataFunc:l})]}):f.jsx(mn,{message:"No published blogs"}),n===null?f.jsx(dt,{}):n.result.length?f.jsxs(f.Fragment,{children:[n.result.map((u,h)=>f.jsx(Ce,{transition:{delay:h*.04},children:f.jsx(U4,{blog:{...u,index:h,setStateFunc:r}})},h)),f.jsx(Go,{state:n,additaionalParam:{draft:!0,deletedDocCount:n.deletedDocCount},fetchDataFunc:l})]}):f.jsx(mn,{message:"No draft blogs"})]})]})},_e=k.createContext({}),$c=k.createContext({}),H4=()=>window.matchMedia("(prefers-color-scheme:light)").matches,z4=()=>{const[t,e]=k.useState({}),[n,r]=k.useState(()=>H4()?"light":"dark");return k.useEffect(()=>{const o=Ov("user"),i=Ov("theme");e(o?JSON.parse(o):{access_token:null}),i?r(()=>(document.body.setAttribute("data-theme",i),i)):document.body.setAttribute("data-theme",n)},[]),f.jsx($c.Provider,{value:{theme:n,setTheme:r},children:f.jsxs(_e.Provider,{value:{userAuth:t,setUserAuth:e},children:[f.jsx(Ls,{}),f.jsxs(RT,{children:[f.jsx(Be,{path:"/editor",element:f.jsx(jy,{})}),f.jsx(Be,{path:"/editor/:blog_id",element:f.jsx(jy,{})}),f.jsxs(Be,{path:"/",element:f.jsx(VN,{}),children:[f.jsx(Be,{index:!0,element:f.jsx(S4,{})}),f.jsxs(Be,{path:"/dashboard",element:f.jsx(Vy,{}),children:[f.jsx(Be,{path:"blogs",element:f.jsx(V4,{})}),f.jsx(Be,{path:"notifications",element:f.jsx(F4,{})})]}),f.jsxs(Be,{path:"/settings",element:f.jsx(Vy,{}),children:[f.jsx(Be,{path:"edit-profile",element:f.jsx(M4,{})}),f.jsx(Be,{path:"change-password",element:f.jsx(R4,{})})]}),f.jsx(Be,{path:"signin",element:f.jsx(Ey,{type:"sign-in"})}),f.jsx(Be,{path:"signup",element:f.jsx(Ey,{type:"sign-up"})}),f.jsx(Be,{path:"search/:query",element:f.jsx(T4,{})}),f.jsx(Be,{path:"user/:id",element:f.jsx(_4,{})}),f.jsx(Be,{path:"blog/:blog_id",element:f.jsx(O4,{})}),f.jsx(Be,{path:"*",element:f.jsx(uE,{})})]})]})]})})};qu.createRoot(document.getElementById("root")).render(f.jsx(zT,{children:f.jsx(z4,{})}));
